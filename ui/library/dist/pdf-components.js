!function(Q,U){"object"==typeof exports&&"object"==typeof module?module.exports=U(require("react-pdf"),require("react")):"function"==typeof define&&define.amd?define(["react-pdf","react"],U):"object"==typeof exports?exports["@allenai/pdf-components"]=U(require("react-pdf"),require("react")):Q["@allenai/pdf-components"]=U(Q["react-pdf"],Q.React)}(this,(function(__WEBPACK_EXTERNAL_MODULE__323__,__WEBPACK_EXTERNAL_MODULE__888__){return(()=>{var __webpack_modules__={184:(module,exports)=>{eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzPzRkMjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCOztBQUVoQjtBQUNBOztBQUVBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLLEtBQTZCO0FBQ2xDO0FBQ0E7QUFDQSxFQUFFLFVBQVUsSUFBNEU7QUFDeEY7QUFDQSxFQUFFLGlDQUFxQixFQUFFLG1DQUFFO0FBQzNCO0FBQ0EsR0FBRztBQUFBLGtHQUFDO0FBQ0osRUFBRSxNQUFNLEVBRU47QUFDRixDQUFDIiwiZmlsZSI6IjE4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRpZiAoYXJnLmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGlmIChhcmcudG9TdHJpbmcgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnLnRvU3RyaW5nKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///184\n")},224:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ index)\n});\n\n// UNUSED EXPORTS: ArrowFlag, ArrowFlagBase, BoundingBox, ContextProvider, DEFAULT_ZOOM_SCALE, DocumentContext, DocumentWrapper, DownloadButton, HighlightOverlay, IconFlag, Outline, OutlineItem, Overlay, POSITION, PageNumberControl, PageRenderContext, PageWrapper, PercentFormatter, PrintButton, RENDER_TYPE, ScrollContext, SidePanel, Thumbnail, ThumbnailList, TransformContext, UiContext, ZoomInButton, ZoomOutButton, computeBoundingBoxStyle, computePageStyle, generatePageIdFromIndex, getPageHeight, getPageWidth, isSideways, rotateClockwise, rotateCounterClockwise, scaleRawBoundingBox, scrollToId, scrollToPdfPageIndex\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: external {"commonjs":"react","commonjs2":"react","amd":"react","root":"React"}\nvar external_commonjs_react_commonjs2_react_amd_react_root_React_ = __webpack_require__(888);\n;// CONCATENATED MODULE: ./src/utils/provider.ts\nfunction logProviderWarning(functionName, providerName) {\n    console.warn(`Unable to call ${functionName}. The ${providerName} Provider may not be set up correctly.`);\n}\n\n;// CONCATENATED MODULE: ./src/utils/rotate.ts\nvar PageRotation;\n(function (PageRotation) {\n    PageRotation[PageRotation["Rotate0"] = 0] = "Rotate0";\n    PageRotation[PageRotation["Rotate90"] = 90] = "Rotate90";\n    PageRotation[PageRotation["Rotate180"] = 180] = "Rotate180";\n    PageRotation[PageRotation["Rotate270"] = 270] = "Rotate270";\n})(PageRotation || (PageRotation = {}));\nfunction rotateClockwise(rotation) {\n    switch (rotation) {\n        case PageRotation.Rotate0:\n            return PageRotation.Rotate90;\n        case PageRotation.Rotate90:\n            return PageRotation.Rotate180;\n        case PageRotation.Rotate180:\n            return PageRotation.Rotate270;\n        default:\n            return PageRotation.Rotate0;\n    }\n}\nfunction rotateCounterClockwise(rotation) {\n    switch (rotation) {\n        case PageRotation.Rotate0:\n            return PageRotation.Rotate270;\n        case PageRotation.Rotate90:\n            return PageRotation.Rotate0;\n        case PageRotation.Rotate180:\n            return PageRotation.Rotate90;\n        default:\n            return PageRotation.Rotate180;\n    }\n}\n/**\n * Tests whether the page is rotated 90 degrees clockwise or counterclockwise from zero,\n * e.g. whether the page "is rotated sideways."\n */\nfunction isSideways(rotation) {\n    return rotation === PageRotation.Rotate90 || rotation === PageRotation.Rotate270;\n}\n\n;// CONCATENATED MODULE: ./src/utils/scroll.ts\n\n// Each page div is ID\'d according to page index\n// e.g. reader_pg_0, reader_pg_1, etc.\nconst PAGE_NAV_TARGET_ID_ROOT = \'reader_pg_\';\nconst PDF_HEIGHT_POINTS = 792;\nconst PDF_WIDTH_POINTS = 612;\nfunction generatePageIdFromIndex(pageIndex) {\n    return `${PAGE_NAV_TARGET_ID_ROOT}${pageIndex}`;\n}\nfunction scrollToId(id) {\n    const element = document.getElementById(id);\n    if (element) {\n        element.scrollIntoView({ behavior: \'smooth\', block: \'start\', inline: \'center\' });\n    }\n    else {\n        console.error(`Could not find scroll target with ID #${id}`);\n    }\n}\nfunction scrollToPdfPageIndex(pageIndex) {\n    scrollToId(generatePageIdFromIndex(pageIndex));\n}\n/**\n * Scroll PDF document to a specific position.\n * @param pageIndex The index of the page where the position locates at\n * @param leftPoints The horizontal distance between the origin and the position (in PDF coordinates)\n * @param bottomPoints The vertical distance between the origin and the position (in PDF coordinates)\n * @param rotation The rotation degree of the document\n */\nfunction scrollToPosition(pageIndex, leftPoints, bottomPoints, rotation = PageRotation.Rotate0) {\n    /*\n      Vertical scroll distance is calculated as\n      = total number of previous pages * page height including top/down margins\n      + the margin top of current page\n      + the distance from the page top to the specified position\n  \n      Notice that the scroll distance is measured in pixels,\n      so leftPoints/bottomPoints has to be transformed from points to pixels first.\n    */\n    const { width, height, marginTop, marginBottom, marginLeft, marginRight } = getPagePropertiesInPixels();\n    const heightWithMargins = height + marginTop + marginBottom;\n    // When a paper is rotated, its height and width would be switched automatically. However, leftPoints and bottomPoints remain the same.\n    let marginTopPixels = marginTop;\n    let bottomPixels = (height * bottomPoints) / PDF_HEIGHT_POINTS;\n    let leftPixels = (width * leftPoints) / PDF_WIDTH_POINTS;\n    if (rotation == PageRotation.Rotate90) {\n        marginTopPixels = marginLeft;\n        bottomPixels = (height * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\n        leftPixels = (width * bottomPoints) / PDF_HEIGHT_POINTS;\n    }\n    else if (rotation == PageRotation.Rotate180) {\n        marginTopPixels = marginBottom;\n        bottomPixels = (height * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\n        leftPixels = (width * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\n    }\n    else if (rotation == PageRotation.Rotate270) {\n        marginTopPixels = marginRight;\n        bottomPixels = (height * leftPoints) / PDF_WIDTH_POINTS;\n        leftPixels = (width * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\n    }\n    // Find page element\n    const pageId = generatePageIdFromIndex(pageIndex);\n    const pageIdElement = document.getElementById(pageId);\n    if (!pageIdElement) {\n        return;\n    }\n    // Find first scrollable parent\n    const parentElement = getScrollParent(pageIdElement);\n    if (!parentElement) {\n        return;\n    }\n    // Apply scroll\n    parentElement.scrollTo({\n        top: calculateTopPx({\n            heightWithMarginsInPx: heightWithMargins,\n            pageIndex: pageIndex,\n            marginTopPx: marginTopPixels,\n            heightPx: height,\n            bottomPx: bottomPixels,\n        }),\n        left: Math.floor(leftPixels),\n        behavior: \'smooth\',\n    });\n}\nfunction getScrollParent(node) {\n    const minScrollableHeight = 50; // used to check for a bug where Firefox gives inline containers a small scrollHeight when it shouldnt\n    if (typeof document === \'undefined\') {\n        return null;\n    }\n    if (!node || node.nodeName.toLowerCase() === \'body\') {\n        return document.documentElement;\n    }\n    if (node.scrollHeight - node.clientHeight > minScrollableHeight && !isOverflowIsHidden(node)) {\n        return node;\n    }\n    return getScrollParent(node.parentElement);\n}\nfunction isOverflowIsHidden(node) {\n    const style = getComputedStyle(node);\n    return (style.overflow.includes(\'hidden\') ||\n        style.overflowX.includes(\'hidden\') ||\n        style.overflowY.includes(\'hidden\'));\n}\nfunction calculateTopPx({ heightWithMarginsInPx, pageIndex, marginTopPx, heightPx, bottomPx, }) {\n    return Math.floor(heightWithMarginsInPx * pageIndex + marginTopPx + (heightPx - bottomPx));\n}\n/**\n * Get lengths, widths, and margins of a page.\n * @returns a PageProperties object\n */\nfunction getPagePropertiesInPixels() {\n    const firstPage = document.getElementById(generatePageIdFromIndex(0));\n    if (!firstPage) {\n        console.error(`Cannot get the first page of this document.`);\n        const emptyPageProperties = {\n            width: 0,\n            height: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        };\n        return emptyPageProperties;\n    }\n    const style = getComputedStyle(firstPage);\n    const pageProperties = {\n        width: parseInt(style.width),\n        height: parseInt(style.height),\n        marginTop: parseInt(style.marginTop),\n        marginBottom: parseInt(style.marginBottom),\n        marginLeft: parseInt(style.marginLeft),\n        marginRight: parseInt(style.marginRight),\n    };\n    return pageProperties;\n}\nfunction calculateTargetPosition({ scale, leftPoint, bottomPoint, pageDimensions, rotation = PageRotation.Rotate0, }) {\n    switch (rotation) {\n        default:\n        case PageRotation.Rotate0: {\n            const leftPx = (leftPoint / PDF_WIDTH_POINTS) * pageDimensions.width * scale;\n            const topPx = (1 - bottomPoint / PDF_HEIGHT_POINTS) * pageDimensions.height * scale;\n            return { leftPx, topPx };\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./src/context/DocumentContext.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst DocumentContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    numPages: 0,\n    numPagesLoaded: 0,\n    outline: [],\n    outlinePositions: null,\n    pageDimensions: { height: 0, width: 0 },\n    pdfDocProxy: undefined,\n    getOutlineTargets: opts => {\n        logProviderWarning(`getOutlineTargets(${JSON.stringify(opts)})`, \'DocumentContext\');\n        return [];\n    },\n    setNumPages: numPages => {\n        logProviderWarning(`setNumPages(${numPages})`, \'DocumentContext\');\n    },\n    setNumPagesLoaded: numPages => {\n        logProviderWarning(`setNumPagesLoaded(${numPages})`, \'DocumentContext\');\n    },\n    setOutline: outline => {\n        logProviderWarning(`setOutline(${outline})`, \'DocumentContext\');\n    },\n    setOutlinePositions: outline => {\n        logProviderWarning(`setOutlinePositions(${outline})`, \'DocumentContext\');\n    },\n    setPageDimensions: pageDimensions => {\n        logProviderWarning(`setPageDimensions(${pageDimensions})`, \'DocumentContext\');\n    },\n    setPdfDocProxy: pdfDocProxy => {\n        logProviderWarning(`setPdfDocProxy(${pdfDocProxy})`, \'DocumentContext\');\n    },\n});\nfunction useDocumentContextProps() {\n    const [numPages, setNumPages] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [numPagesLoaded, setNumPagesLoaded] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [outline, setOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [outlinePositions, setOutlinePositions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [pageDimensions, setPageDimensions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState({\n        height: 0,\n        width: 0,\n    });\n    const [pdfDocProxy, setPdfDocProxy] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState();\n    // Draw outline target into the pdf based on the args\n    const getOutlineTargets = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex, scale, rotation, pageDimensions, }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return [];\n        }\n        const positions = (outlinePositions === null || outlinePositions === void 0 ? void 0 : outlinePositions.get(pageNumber)) || [];\n        return positions.map(({ dest, leftPoint, bottomPoint }) => {\n            const { leftPx, topPx } = calculateTargetPosition({\n                scale,\n                rotation,\n                leftPoint,\n                bottomPoint,\n                pageDimensions,\n            });\n            return {\n                dest,\n                leftPx,\n                topPx,\n            };\n        });\n    }, [outlinePositions]);\n    return {\n        numPages,\n        numPagesLoaded,\n        outline,\n        outlinePositions,\n        pageDimensions,\n        pdfDocProxy,\n        getOutlineTargets,\n        setNumPages,\n        setNumPagesLoaded,\n        setOutline,\n        setOutlinePositions,\n        setPageDimensions: setPageDimensions,\n        setPdfDocProxy,\n    };\n}\nfunction buildOutlinePositions(pdfDocProxy, outline) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!outline) {\n            outline = yield pdfDocProxy.getOutline();\n        }\n        // Depth first search through outline items\n        const itemQueue = outline.slice();\n        const proms = [];\n        while (itemQueue.length > 0) {\n            const item = itemQueue.pop();\n            if (!item) {\n                continue; // Not able to process\n            }\n            const { dest, items } = item;\n            // Add child items to queue\n            if (Array.isArray(items)) {\n                itemQueue.push(...items);\n            }\n            // Fetch destinations for item\n            if (Array.isArray(dest)) {\n                proms.push(...dest.map(dest => getDestination(pdfDocProxy, dest)));\n            }\n            else if (typeof dest === \'string\') {\n                proms.push(getDestination(pdfDocProxy, dest));\n            }\n        }\n        // Collect results all at once, so we don\'t have to pay for the cost of\n        // queueing messages sent to the worker\n        const results = yield Promise.all(proms);\n        // Split results into pages\n        const map = new Map();\n        for (const result of results) {\n            if (!result) {\n                continue; // Filter out null\n            }\n            const { pageNumber } = result;\n            if (!map.has(pageNumber)) {\n                map.set(pageNumber, []);\n            }\n            (_a = map.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.push(result);\n        }\n        // Freeze objects so consumers cannot mutate\n        for (const pagePos of map.values()) {\n            for (const pos of pagePos) {\n                Object.freeze(pos);\n            }\n            Object.freeze(pagePos);\n        }\n        Object.freeze(map);\n        return map;\n    });\n}\nfunction getDestination(pdfDocProxy, dest) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const result = yield pdfDocProxy.getDestination(dest);\n        if (!result) {\n            return null;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const [ref, _format, leftPoint, bottomPoint] = result;\n        const pageIndex = yield pdfDocProxy.getPageIndex(ref);\n        const pageNumber = pageIndex + 1;\n        return { pageNumber, dest, leftPoint, bottomPoint };\n    });\n}\n\n;// CONCATENATED MODULE: ./src/context/TransformContext.ts\n\n\n\nconst DEFAULT_ZOOM_SCALE = 1.0;\nconst TransformContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    pixelRatio: (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1,\n    rotation: PageRotation.Rotate0,\n    scale: 1,\n    zoomIncrementValue: 0.2,\n    setPixelRatio: pixelRatio => {\n        logProviderWarning(`setPixelRatio(${pixelRatio})`, \'TransformContext\');\n    },\n    setRotation: rotation => {\n        logProviderWarning(`setRotation(${rotation})`, \'TransformContext\');\n    },\n    setScale: scale => {\n        logProviderWarning(`setScale(${scale})`, \'TransformContext\');\n    },\n    setZoomIncrementValue: value => {\n        logProviderWarning(`setZoomIncrementValue(${value})`, \'TransformContext\');\n    },\n});\nfunction useTransformContextProps() {\n    const [pixelRatio, setPixelRatio] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState((typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1);\n    const [rotation, setRotation] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(PageRotation.Rotate0);\n    const [scale, setScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_ZOOM_SCALE);\n    const [zoomIncrementValue, setZoomIncrementValue] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0.2);\n    return {\n        pixelRatio,\n        rotation,\n        scale,\n        setPixelRatio,\n        setRotation,\n        setScale,\n        zoomIncrementValue,\n        setZoomIncrementValue,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/utils/style.ts\n\n// Computes the style for a bounding box, accounting for page roation and page scaling/zoom\nfunction computeBoundingBoxStyle(boundingBoxSize, pageDimensions, rotation, scale) {\n    const { top, left, height, width } = boundingBoxSize;\n    switch (rotation) {\n        case PageRotation.Rotate90:\n            return {\n                top: left * scale,\n                left: (pageDimensions.height - height - top) * scale,\n                height: width * scale,\n                width: height * scale,\n            };\n        case PageRotation.Rotate180:\n            return {\n                top: (pageDimensions.height - height - top) * scale,\n                left: (pageDimensions.width - width - left) * scale,\n                height: height * scale,\n                width: width * scale,\n            };\n        case PageRotation.Rotate270:\n            return {\n                top: (pageDimensions.width - width - left) * scale,\n                left: top * scale,\n                height: width * scale,\n                width: height * scale,\n            };\n        default:\n            return {\n                top: top * scale,\n                left: left * scale,\n                height: height * scale,\n                width: width * scale,\n            };\n    }\n}\n// Compute the style for a page, accounting for page rotation and page scaling/zoom\nfunction computePageStyle(pageDimensions, rotation, scale) {\n    return {\n        height: getPageHeight(pageDimensions, rotation) * scale,\n        width: getPageWidth(pageDimensions, rotation) * scale,\n        left: 0,\n        top: 0,\n    };\n}\n// Get page height accounting for page rotation- if the page is rotated on its side, its width becomes its height\nfunction getPageHeight(pageDimensions, rotation) {\n    return isSideways(rotation) ? pageDimensions.width : pageDimensions.height;\n}\n// Get page width accounting for page rotation- if the page is rotated on its side, its height becomes its width\nfunction getPageWidth(pageDimensions, rotation) {\n    return isSideways(rotation) ? pageDimensions.height : pageDimensions.width;\n}\n\n;// CONCATENATED MODULE: ./src/components/BoundingBox.tsx\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\nconst BoundingBox = (_a) => {\n    var { top, left, height, width, className, underlineClassName, id, isHighlighted, onClick, voiceOverLabel } = _a, extraProps = __rest(_a, ["top", "left", "height", "width", "className", "underlineClassName", "id", "isHighlighted", "onClick", "voiceOverLabel"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const boxSize = { top, left, height, width };\n    const componentClassName = classnames_default()(\'pdf-reader__overlay-bounding-box\', isHighlighted === true ? \'pdf-reader__overlay-bounding-box-highlighted\' : \'\', className);\n    const getBoundingBoxStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computeBoundingBoxStyle(boxSize, pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    const rotationClassName = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return `rotate${rotation}`;\n    }, [rotation]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_commonjs_react_commonjs2_react_amd_react_root_React_.Fragment, null,\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: `pdf-reader__overlay-bounding-box-underline ${underlineClassName || rotationClassName()}`, style: getBoundingBoxStyle() }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: id, className: `${componentClassName} ${rotationClassName()}`, style: getBoundingBoxStyle(), onClick: onClick, role: "button", tabIndex: 0, "aria-label": voiceOverLabel }, extraProps))));\n};\n\n// EXTERNAL MODULE: external "react-pdf"\nvar external_react_pdf_ = __webpack_require__(323);\n;// CONCATENATED MODULE: ./src/utils/ScrollDirectionDetector.ts\nvar ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection["UP"] = "UP";\n    ScrollDirection["DOWN"] = "DOWN";\n})(ScrollDirection || (ScrollDirection = {}));\nclass ScrollDetector {\n    constructor(el, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold) {\n        this._onScroll = () => {\n            const currScrollTop = this._el.scrollTop;\n            if (this._isAtTop !== (currScrollTop === 0)) {\n                this._isAtTop = currScrollTop === 0;\n                this._setIsAtTop(currScrollTop === 0);\n            }\n            if (this._lastScrollTop === currScrollTop) {\n                return;\n            }\n            // Determine direction\n            const currScrollDirection = (() => {\n                if (currScrollTop <= 0) {\n                    return ScrollDirection.DOWN;\n                }\n                return this._lastScrollTop < currScrollTop ? ScrollDirection.DOWN : ScrollDirection.UP;\n            })();\n            // Update state, if changed\n            this._lastScrollTop = currScrollTop;\n            if (this._lastScrollDirection !== currScrollDirection) {\n                this._lastScrollDirection = currScrollDirection;\n                this._setScrollDirection(currScrollDirection);\n                this._lastScrollTopBeforeDirectionChange = currScrollTop;\n                this._isScrollThresholdReachedInDirection = null;\n                if (this._setScrollThresholdReachedInDirection && !this._isAtTop) {\n                    this._setScrollThresholdReachedInDirection(null);\n                }\n            }\n            else {\n                if (this._scrollThreshold && this._setScrollThresholdReachedInDirection) {\n                    const scrolledAmount = Math.abs(this._lastScrollTopBeforeDirectionChange - currScrollTop);\n                    if (scrolledAmount >= this._scrollThreshold) {\n                        this._isScrollThresholdReachedInDirection = this._lastScrollDirection;\n                        this._setScrollThresholdReachedInDirection(this._lastScrollDirection);\n                    }\n                }\n            }\n        };\n        this._el = el;\n        this._lastScrollTop = this._el.scrollTop;\n        this._lastScrollDirection = null;\n        this._setScrollDirection = setScrollDirection;\n        this._isAtTop = null;\n        this._setIsAtTop = setIsAtTop;\n        this._lastScrollTopBeforeDirectionChange = this._el.scrollTop;\n        this._scrollThreshold = scrollThreshold;\n        this._isScrollThresholdReachedInDirection = null;\n        this._setScrollThresholdReachedInDirection = setScrollThresholdReachedInDirection;\n    }\n    attachScrollListener() {\n        var _a, _b;\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\n            window.addEventListener(\'scroll\', this._onScroll, false);\n            return;\n        }\n        this._el.addEventListener(\'scroll\', this._onScroll, false);\n    }\n    detachScrollListener() {\n        var _a, _b;\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\n            window.removeEventListener(\'scroll\', this._onScroll, false);\n            return;\n        }\n        this._el.removeEventListener(\'scroll\', this._onScroll, false);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/utils/VisibleEntriesDetector.ts\nconst DEFAULT_ROOT_MARGIN = \'50px\';\nconst DEFAULT_THRESHOLD = Array.from({ length: 101 }).map((_, i) => i / 100);\nclass VisibleEntriesDetector {\n    constructor({ root, thresHold, setVisibleEntries, onVisibleEntriesChange, }) {\n        var _a;\n        this._root = root;\n        this._lastVisibleEntries = new Map();\n        this._setVisibleEntries = setVisibleEntries;\n        this._onVisibleEntriesChange = onVisibleEntriesChange;\n        this._observer = new IntersectionObserver(entries => {\n            // Collect visible and hidden elements\n            const visibleEntries = entries.filter(entry => entry.isIntersecting);\n            const hiddenEntries = entries.filter(entry => !entry.isIntersecting);\n            // Determine what needs saved\n            const newVisibleEntries = this._onVisibleEntriesChange({\n                visibleEntries,\n                hiddenEntries,\n                lastEntries: this._lastVisibleEntries,\n            });\n            const frozenEntries = new Map(newVisibleEntries);\n            Object.freeze(frozenEntries);\n            this._lastVisibleEntries = frozenEntries;\n            this._setVisibleEntries(frozenEntries);\n        }, \n        // Default setting for intersection observer\n        {\n            root: ((_a = this._root.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \'html\' ? null : this._root,\n            rootMargin: DEFAULT_ROOT_MARGIN,\n            threshold: thresHold ? thresHold : DEFAULT_THRESHOLD,\n        });\n    }\n    observeNodes(selector) {\n        for (const node of this._root.querySelectorAll(selector)) {\n            this._observer.observe(node);\n        }\n    }\n    destroy() {\n        this._observer.disconnect();\n    }\n}\n\n;// CONCATENATED MODULE: ./src/context/ScrollContext.ts\n\n\n\n\n\nconst OUTLINE_ATTRIBUTE = \'data-outline-target-dest\';\nconst OUTLINE_SELECTOR = \'.pdf-reader__page__outline-target\';\nconst PAGE_NUMBER_ATTRIBUTE = \'data-page-number\';\nconst PAGE_NUMBER_SELECTOR = `.pdf-reader__page[${PAGE_NUMBER_ATTRIBUTE}]`;\nconst DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD = 0.1;\nconst EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP = Object.freeze(new Map());\nconst DEFAULT_CONTEXT = {\n    scrollDirection: null,\n    visibleOutlineTargets: new Map(),\n    visiblePageRatios: new Map(),\n    isOutlineTargetVisible: opts => {\n        logProviderWarning(`isOutlineTargetVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\n        return false;\n    },\n    isPageVisible: opts => {\n        logProviderWarning(`isPageVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\n        return false;\n    },\n    resetScrollObservers: () => {\n        logProviderWarning(`resetScrollObservers()`, \'ScrollContext\');\n    },\n    scrollRoot: {},\n    setScrollRoot: (_el) => {\n        logProviderWarning(`setScrollRoot(...)`, \'ScrollContext\');\n    },\n    scrollToOutlineTarget: dest => {\n        logProviderWarning(`scrollToOutlineTarget(${dest})`, \'ScrollContext\');\n    },\n    setScrollThreshold: (scrollThreshold) => {\n        logProviderWarning(`setScrollThreshold(${scrollThreshold})`, \'ScrollContext\');\n    },\n    scrollToPage: opts => {\n        logProviderWarning(`scrollToPage(${JSON.stringify(opts)})`, \'ScrollContext\');\n    },\n    updateScrollPosition: zoomMultiplier => {\n        logProviderWarning(`updateScrollPosition(${JSON.stringify(zoomMultiplier)})`, \'ScrollContext\');\n    },\n    setIsOutlineClicked: opts => {\n        logProviderWarning(`setIsOutlineGetClicked(${JSON.stringify(opts)})`, \'ScrollContext\');\n    },\n    scrollThresholdReachedInDirection: null,\n    isAtTop: null,\n    isOutlineClicked: null,\n    pagesScrolledIntoView: new Map(),\n    setPageScrolledIntoViewThreshold: (threshold) => {\n        logProviderWarning(`pagesScrolledIntoView(${threshold})`, \'ScrollContext\');\n    },\n};\nconst ScrollContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext(DEFAULT_CONTEXT);\nfunction useScrollContextProps() {\n    // Node used for observing the scroll position\n    const [scrollRoot, setScrollRoot] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    // Determine scroll direction\n    const [scrollDirection, setScrollDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [scrollThreshold, setScrollThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [scrollThresholdReachedInDirection, setScrollThresholdReachedInDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isAtTop, setIsAtTop] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isOutlineClicked, setIsOutlineClicked] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [pageScrolledIntoViewThreshold, setPageScrolledIntoViewThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD);\n    const [pagesScrolledIntoView, setPagesScrolledIntoView] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const scrollElem = scrollRoot || document.documentElement;\n        if (!scrollElem) {\n            return;\n        }\n        let scrollDirectionDetector;\n        if (!scrollThreshold) {\n            // scroll threshold is optional\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop);\n        }\n        else {\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold);\n        }\n        scrollDirectionDetector.attachScrollListener();\n        return () => {\n            scrollDirectionDetector.detachScrollListener();\n        };\n    }, [scrollRoot, scrollThreshold]);\n    // Causes the IntersectionObservers to disconnect and be recreated (useful when DOM changes)\n    const [observerIndex, setObserverIndex] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const resetScrollObservers = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        setObserverIndex(observerIndex + 1);\n    }, [observerIndex]);\n    const [visibleOutlineTargets, setVisibleOutlineNodes] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\n        const map = new Map();\n        Object.freeze(map);\n        return map;\n    });\n    const [visiblePageRatios, setVisiblePageRatios] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\n    const isOutlineTargetVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        return visibleOutlineTargets.has(dest);\n    }, [visibleOutlineTargets]);\n    const scrollToOutlineTarget = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        var _a;\n        setIsOutlineClicked(true);\n        (_a = document\n            .querySelector(`[data-outline-target-dest="${dest}"]`)) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\n    }, []);\n    const isPageVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return false;\n        }\n        return visiblePageRatios.has(pageNumber);\n    }, [visiblePageRatios]);\n    const scrollToPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageNumber === \'number\') {\n            pageIndex = pageNumber - 1;\n        }\n        if (typeof pageIndex !== \'number\') {\n            return;\n        }\n        (_a = document\n            .getElementById(generatePageIdFromIndex(pageIndex))) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\n    }, []);\n    // Watch outline nodes\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            setVisibleEntries: setVisibleOutlineNodes,\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\n                hiddenEntries.map(entry => lastEntries.delete(entry.target.getAttribute(OUTLINE_ATTRIBUTE)));\n                const newEntries = new Map(lastEntries);\n                visibleEntries.map(entry => newEntries.set(entry.target.getAttribute(OUTLINE_ATTRIBUTE), {\n                    ratio: entry.intersectionRatio,\n                    timestamp: entry.time,\n                }));\n                return newEntries;\n            },\n        });\n        detector.observeNodes(OUTLINE_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // Watch pages\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            setVisibleEntries: setVisiblePageRatios,\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\n                if (hiddenEntries.length) {\n                    const maxTime = Math.max(...hiddenEntries.map(e => e.time));\n                    const hiddenPageNums = hiddenEntries.map(e => { var _a; return ((_a = e.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\'; });\n                    // due to upper limit on how fast the Intersection Observer API can sample and how fast browsers can render (happens when users scroll fast)\n                    // sometimes entries will not be signaled as hidden, meaning they should be removed from lastEntries but weren\'t\n                    // so if an entry has a timestamp thats older then an entry we are currently removing, we can assume its "stale" and delete\n                    // more details about this issue here: https://stackoverflow.com/questions/61951380/intersection-observer-fails-sometimes-when-i-scroll-fast\n                    for (const [key, value] of lastEntries.entries()) {\n                        if (value.timestamp <= maxTime || hiddenPageNums.includes(String(key))) {\n                            lastEntries.delete(key);\n                        }\n                    }\n                }\n                const newEntries = new Map(lastEntries);\n                visibleEntries.map(entry => {\n                    var _a;\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), {\n                        ratio: entry.intersectionRatio,\n                        timestamp: entry.time,\n                    });\n                });\n                return newEntries;\n            },\n        });\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // map of pages at the moment they are scrolled into view, useful for tracking analytics such as page impressions\n    // different than the visiblePageRatios in that it only saves the ~initial~ point of when a page comes into view\n    // it doesn\'t track the live change in ratios as the page remains in view when scrolled\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            thresHold: pageScrolledIntoViewThreshold,\n            setVisibleEntries: setPagesScrolledIntoView,\n            onVisibleEntriesChange: ({ visibleEntries }) => {\n                const newEntries = new Map();\n                visibleEntries.map(entry => {\n                    var _a;\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), entry.intersectionRatio);\n                });\n                return newEntries;\n            },\n        });\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // calculates a new scroll position after zooming in/out so user doesnt lose their position\n    const updateScrollPosition = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((zoomMultiplier) => {\n        const root = scrollRoot || document.documentElement;\n        if (!root) {\n            return;\n        }\n        const newScrollTop = Math.floor(root.scrollTop * zoomMultiplier);\n        setTimeout(() => {\n            root.scrollTop = newScrollTop;\n        }, 0);\n    }, [scrollRoot]);\n    return {\n        isOutlineTargetVisible,\n        isPageVisible,\n        scrollDirection,\n        visibleOutlineTargets,\n        visiblePageRatios,\n        resetScrollObservers,\n        scrollRoot,\n        setScrollRoot,\n        scrollToOutlineTarget,\n        setScrollThreshold,\n        scrollToPage,\n        updateScrollPosition,\n        setIsOutlineClicked,\n        scrollThresholdReachedInDirection,\n        isAtTop,\n        isOutlineClicked,\n        pagesScrolledIntoView,\n        setPageScrolledIntoViewThreshold,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/context/UiContext.ts\n\n\nconst UiContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    errorMessage: null,\n    isLoading: false,\n    isShowingHighlightOverlay: false,\n    isShowingOutline: false,\n    isShowingTextHighlight: false,\n    isShowingThumbnail: false,\n    setErrorMessage: errorMessage => {\n        logProviderWarning(`setErrorMessage(${errorMessage})`, \'UiContext\');\n    },\n    setIsShowingOutline: isShowingOutline => {\n        logProviderWarning(`setIsShowingOutline(${isShowingOutline})`, \'UiContext\');\n    },\n    setIsLoading: isLoading => {\n        logProviderWarning(`setIsLoading(${isLoading})`, \'UiContext\');\n    },\n    setIsShowingHighlightOverlay: isShowingHighlightOverlay => {\n        logProviderWarning(`setIsShowingHighlightOverlay(${isShowingHighlightOverlay})`, \'UiContext\');\n    },\n    setIsShowingTextHighlight: isShowingTextHighlight => {\n        logProviderWarning(`setIsShowingTextHighlight(${isShowingTextHighlight})`, \'UiContext\');\n    },\n    setIsShowingThumbnail: isShowingThumbnail => {\n        logProviderWarning(`setIsShowingThumbnail(${isShowingThumbnail})`, \'UiContext\');\n    },\n});\nfunction useUiContextProps() {\n    const [errorMessage, setErrorMessage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isLoading, setIsLoading] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(true);\n    const [isShowingHighlightOverlay, setIsShowingHighlightOverlay] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingOutline, setIsShowingOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingTextHighlight, setIsShowingTextHighlight] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingThumbnail, setIsShowingThumbnail] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    return {\n        errorMessage,\n        isLoading,\n        isShowingHighlightOverlay,\n        isShowingOutline,\n        isShowingTextHighlight,\n        isShowingThumbnail,\n        setErrorMessage,\n        setIsLoading,\n        setIsShowingHighlightOverlay,\n        setIsShowingOutline,\n        setIsShowingTextHighlight,\n        setIsShowingThumbnail,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/utils/errorMessage.ts\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getErrorMessage(error) {\n    if (!error) {\n        return \'Unknown error\';\n    }\n    if (typeof error === \'string\') {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error.error === \'string\') {\n        return error.error;\n    }\n    return error.toString();\n}\n\n;// CONCATENATED MODULE: ./src/utils/pdfWorker.ts\n\n// Set PDFjs worker source or else PDF will not load when this library is imported as a package.\nfunction initPdfWorker() {\n    external_react_pdf_.pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${external_react_pdf_.pdfjs.version}/pdf.worker.min.js`;\n}\n\n;// CONCATENATED MODULE: ./src/utils/reader-utils.ts\nconst RENDER_TYPE = {\n    MULTI_CANVAS: \'multi-canvas\',\n    SINGLE_CANVAS: \'single-canvas\',\n};\nfunction getRenderMode(renderType) {\n    switch (renderType) {\n        case RENDER_TYPE.SINGLE_CANVAS:\n            return \'none\';\n        default:\n            return \'canvas\';\n    }\n}\nfunction getClassNameSuffixFromRenderType(renderType) {\n    switch (renderType) {\n        case RENDER_TYPE.SINGLE_CANVAS:\n            return \'single-canvas\';\n        default:\n            return \'multi-canvas\';\n    }\n}\n\n;// CONCATENATED MODULE: ./src/utils/scale.ts\n// We assume 96 DPI for display\n// TODO: There are more accurate ways to do this, but this is what ScholarPhi does now\nconst DPI = 96;\n// PDF units are in 1/72nds of an inch\nconst USER_UNIT_DENOMINATOR = 72;\n/**\n * Given a PDFPageProxy, calculates the screen pixel size of the PDF page at 100% scale\n * @param page The PDFPageProxy to calculate size for\n * @returns Pixel size of a page at 100% scale assuming 96DPI display\n */\nfunction computePageDimensions(page) {\n    const [leftPx, topPx, rightPx, bottomPx] = page.view;\n    const PPI = (page.userUnit / USER_UNIT_DENOMINATOR) * DPI;\n    return {\n        height: (bottomPx - topPx) * PPI,\n        width: (rightPx - leftPx) * PPI,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/components/types/destination.ts\n/**\n * This class is the definition of the first item when Destination is returned as an array.\n * It is created based on the same class in \'react-pdf\' library:\n * https://github.com/wojtekmaj/react-pdf/blob/ca4453f123af51e2faed39a8a62800901030459a/src/Ref.js\n */\nclass Ref {\n    constructor({ num, gen }) {\n        this.num = num;\n        this.gen = gen;\n    }\n    toString() {\n        return this.gen !== 0 ? `${this.num}R${this.gen}` : `${this.num}R`;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/components/DocumentWrapper.tsx\nvar DocumentWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\n\n\nconst DocumentWrapper = (_a) => {\n    var { children, renderType } = _a, extraProps = DocumentWrapper_rest(_a, ["children", "renderType"]);\n    initPdfWorker();\n    const { pdfDocProxy, setNumPages, setNumPagesLoaded, setPageDimensions, setPdfDocProxy } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { resetScrollObservers, updateScrollPosition } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const { setErrorMessage, setIsLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\n    const [lastScale, setLastScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(1); // assuming the scale defaults to 100%\n    function getFirstPage(pdfDoc) {\n        // getPage uses 1-indexed pageNumber, not 0-indexed pageIndex\n        return pdfDoc.getPage(1);\n    }\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        resetScrollObservers();\n    }, []);\n    // after scale changes, update scroll position so the user stays looking at the same position of the paper\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (scale === lastScale) {\n            return;\n        }\n        const zoomMultiplier = scale / lastScale;\n        updateScrollPosition(zoomMultiplier);\n        setLastScale(scale);\n    }, [scale, updateScrollPosition]);\n    const onPdfLoadSuccess = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pdfDoc) => {\n        setNumPagesLoaded(0);\n        setNumPages(pdfDoc.numPages);\n        getFirstPage(pdfDoc)\n            .then(page => {\n            setPageDimensions(computePageDimensions(page));\n            setErrorMessage(null);\n        })\n            .catch(error => {\n            setErrorMessage(getErrorMessage(error));\n        })\n            .finally(() => {\n            setIsLoading(false);\n        });\n        if (!pdfDocProxy) {\n            setPdfDocProxy(pdfDoc);\n        }\n    }, []);\n    const onSourceError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\n        setErrorMessage(getErrorMessage(error));\n        setIsLoading(false);\n    }, []);\n    const onPdfLoadError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\n        setErrorMessage(getErrorMessage(error));\n        setIsLoading(false);\n    }, []);\n    const onItemClicked = (param) => {\n        if (!pdfDocProxy) {\n            return;\n        }\n        // Scroll to the destination of the item\n        pdfDocProxy.getDestination(param.dest).then(destArray => {\n            if (!destArray) {\n                return;\n            }\n            const [ref, , , bottomPoints] = destArray;\n            pdfDocProxy.getPageIndex(new Ref(ref)).then(refInfo => {\n                scrollToPosition(parseInt(refInfo.toString()), 0, bottomPoints, rotation);\n            });\n        });\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Document, Object.assign({ options: { cMapUrl: \'cmaps/\', cMapPacked: true }, onSourceError: onSourceError, onLoadError: onPdfLoadError, onLoadSuccess: onPdfLoadSuccess, externalLinkTarget: "_blank", renderMode: getRenderMode(renderType), \n        // @ts-ignore: the arguments should be { dest, pageIndex, pageNumber }\n        // @types/react-pdf hasn\'t updated the function signature\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d73eb652e0ba8f89395a0ef2ba69cf1e640ce5be/types/react-pdf/dist/Document.d.ts#L72\n        onItemClick: onItemClicked }, extraProps), children));\n};\n\n;// CONCATENATED MODULE: ./src/components/DownloadButton.tsx\nvar DownloadButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n/**\n * HTML anchor tag allows you to download a file from the same origin.\n * This is a workaround to download a file served from a different origin\n */\nconst DownloadButton = (_a) => {\n    var { pdfUrl, children, className } = _a, extraProps = DownloadButton_rest(_a, ["pdfUrl", "children", "className"]);\n    const [fetching, setFetching] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const download = () => {\n        setFetching(true);\n        fetch(pdfUrl)\n            .then(response => response.blob())\n            .then(blob => {\n            setFetching(false);\n            const blobURL = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = blobURL;\n            a.download = pdfUrl.split(\'/\').pop() || pdfUrl;\n            document.body.appendChild(a);\n            a.click();\n        });\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ disabled: fetching, onClick: () => download(), "aria-label": "Download PDF", className: `pdf-reader__download-btn ${className}` }, extraProps), children ? children : \'Download\'));\n};\n\n;// CONCATENATED MODULE: ./src/components/HighlightOverlay.tsx\nvar HighlightOverlay_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst HighlightOverlay = (_a) => {\n    var { children, pageIndex } = _a, extraProps = HighlightOverlay_rest(_a, ["children", "pageIndex"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const maskId = `highlight-overlay-mask-${pageIndex}`;\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computePageStyle(pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    const getUnmaskedArea = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((boundingBoxes) => {\n        const boxes = Array.isArray(boundingBoxes) ? boundingBoxes : [boundingBoxes];\n        return boxes.map((box, i) => {\n            const boxStyle = computeBoundingBoxStyle(box.props, pageDimensions, rotation, scale);\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: boxStyle, x: boxStyle.left, y: boxStyle.top, key: i, fill: "black" }));\n        });\n    }, [pageDimensions, rotation, scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__page-highlight-overlay", style: getPageStyle() }, extraProps),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { className: "page-mask", style: getPageStyle() },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("mask", { id: maskId },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: getPageStyle(), fill: "white" }),\n                children && getUnmaskedArea(children)),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: getPageStyle(), fill: "white", opacity: "0.6", mask: `url(#${maskId})` }))));\n};\n\n;// CONCATENATED MODULE: ./src/components/marker/ArrowFlagBase.tsx\nvar ArrowFlagBase_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\nconst POSITION = {\n    LEFT: \'LEFT\',\n    RIGHT: \'RIGHT\',\n};\nconst DEFAULT_ORIGIN_TOP_PX = 0;\nconst DEFAULT_FLAG_WIDTH_PX = 62;\nconst DEFAULT_FLAG_HEIGHT_PX = 20;\nconst DEFAULT_TAIL_LENGTH_PX = 40;\nconst DEFAULT_TAIL_WIDTH_PX = 7;\nconst ArrowFlagBase = (_a) => {\n    var { className, label, flagWidth, originTop, position = POSITION.LEFT, tailLength, tailWidgth } = _a, extraProps = ArrowFlagBase_rest(_a, ["className", "label", "flagWidth", "originTop", "position", "tailLength", "tailWidgth"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    // function for scaling bounding boxes based on current document states\n    const computeSize = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((box) => computeBoundingBoxStyle(box, pageDimensions, rotation, scale), [pageDimensions, rotation, scale, originTop]);\n    // bounding box of the flag\n    const flagSize = {\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\n        left: 0,\n        height: DEFAULT_FLAG_HEIGHT_PX,\n        width: flagWidth || DEFAULT_FLAG_WIDTH_PX,\n    };\n    // bounding box of the tail\n    const tailSize = {\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\n        left: 0,\n        height: tailLength || DEFAULT_TAIL_LENGTH_PX,\n        width: tailWidgth || DEFAULT_TAIL_WIDTH_PX,\n    };\n    const computedFlagSize = computeSize(flagSize);\n    const computedTailSize = computeSize(tailSize);\n    const tailPosition = {\n        top: computedTailSize.top,\n        left: position === POSITION.LEFT ? -computedTailSize.width : pageDimensions.width * scale,\n        height: computedTailSize.height,\n        width: computedTailSize.width,\n    };\n    const renderFlag = () => {\n        const { top, width, height } = computedFlagSize;\n        const flagPosition = {\n            top,\n            height,\n            width,\n            left: position === POSITION.LEFT\n                ? -computedTailSize.width\n                : tailPosition.left + tailPosition.width - width + 1,\n        };\n        const labelPosition = position === POSITION.LEFT ? \'47%\' : \'53%\';\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__flag", style: flagPosition },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(IconFlag, { className: "pdf-reader__arrow-flag-base__flag-icon", headerPosition: position },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("text", { x: labelPosition, y: "54%", dominantBaseline: "middle", textAnchor: "middle", className: "pdf-reader__arrow-flag-base__flag-label" }, label))));\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag-base\', className) }, extraProps),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__tail", style: tailPosition }),\n        label && renderFlag()));\n};\n\n;// CONCATENATED MODULE: ./src/components/icon/IconFlag.tsx\n\n\nconst IconFlag = ({ children, className, headerPosition = POSITION.LEFT, }) => {\n    if (headerPosition == POSITION.LEFT) {\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M52.0108 20.8315L52.0105 20.8318C51.5525 21.2525 50.9527 21.491 50.3265 21.5H3.02828C2.35623 21.5 1.71264 21.2355 1.23885 20.7661C0.76522 20.2969 0.5 19.6615 0.5 19V3C0.5 2.33848 0.765221 1.70309 1.23885 1.23389C1.71264 0.764519 2.35623 0.5 3.02828 0.5H50.2457C50.8719 0.50902 51.4718 0.747466 51.9298 1.16821L51.93 1.16846L60.6515 9.16846L60.6514 9.16852L60.658 9.17439C60.9175 9.40408 61.126 9.68412 61.2707 9.99679C61.4154 10.3095 61.4933 10.6482 61.4996 10.9917C61.5059 11.3353 61.4405 11.6765 61.3074 11.9941C61.1749 12.3104 60.9779 12.5966 60.7286 12.8348L52.0108 20.8315Z" }),\n            children));\n    }\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M9.98922 1.16846L9.9895 1.16821C10.4475 0.747472 11.0473 0.509029 11.6735 0.499999L58.9717 0.500004C59.6438 0.500004 60.2874 0.764522 60.7611 1.23389C61.2348 1.7031 61.5 2.33848 61.5 3L61.5 19C61.5 19.6615 61.2348 20.2969 60.7611 20.7661C60.2874 21.2355 59.6438 21.5 58.9717 21.5L11.7543 21.5C11.1281 21.491 10.5282 21.2525 10.0702 20.8318L10.07 20.8315L1.34854 12.8315L1.3486 12.8315L1.34196 12.8256C1.08248 12.5959 0.87399 12.3159 0.729283 12.0032C0.584584 11.6905 0.506719 11.3518 0.500417 11.0083C0.494111 10.6647 0.559495 10.3235 0.692605 10.0059C0.825143 9.68961 1.02206 9.40341 1.27136 9.16519L9.98922 1.16846Z" }),\n        children));\n};\n\n;// CONCATENATED MODULE: ./src/components/types/boundingBox.ts\n// Calculate a bounding box\'s pixel coordinates from the raw bounding box\'s coorditate ratios scaled to the page size\nfunction scaleRawBoundingBox(boundingBoxRaw, pageHeight, pageWidth) {\n    const boxScaled = {\n        page: boundingBoxRaw.page,\n        top: boundingBoxRaw.top * pageHeight,\n        left: boundingBoxRaw.left * pageWidth,\n        height: boundingBoxRaw.height * pageHeight,\n        width: boundingBoxRaw.width * pageWidth,\n    };\n    return boxScaled;\n}\n\n;// CONCATENATED MODULE: ./src/components/marker/ArrowFlag.tsx\nvar ArrowFlag_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\nconst CENTER_LINE = 0.5;\nconst LINE_HEIGHT_MULTIPLIER = 1.5;\nconst ArrowFlag = (_a) => {\n    var { boundingBoxes, className, label } = _a, extraProps = ArrowFlag_rest(_a, ["boundingBoxes", "className", "label"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const convertRatioToPx = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((rawBoundingBox) => scaleRawBoundingBox(rawBoundingBox, pageDimensions.height, pageDimensions.width), [pageDimensions]);\n    if (boundingBoxes.length == 0)\n        return null;\n    // If any bounding boxes span over the center line, we know that either the paper is\n    // single-column or a mix of single-column and two-column. In such case, bounding\n    // boxes will not be divided so as to guarantee only 1 flag is rendered on the left side.\n    const hasWideBox = boundingBoxes.some(({ left, width }) => left < CENTER_LINE && left + width >= CENTER_LINE);\n    let leftBoundingBoxes = boundingBoxes, rightBoundingBoxes = [];\n    if (!hasWideBox) {\n        leftBoundingBoxes = boundingBoxes.filter(({ left }) => left < CENTER_LINE);\n        rightBoundingBoxes = boundingBoxes.filter(({ left }) => left >= CENTER_LINE);\n    }\n    // To handle a special case where the previous bounding box is on the right while\n    // the later is on the left. In such case, there are only 2 bounding boxes.\n    // The vertical distance between the two boxes is used to differentiate whether this case\n    // happens on a single-column paper or a two-column paper. If it\'s the previous, then\n    // the whole flag should appear on the left. Both bounding boxes will be categorized\n    // as leftBoundingBoxes. Otherwise, the tail wrapping still applies.\n    if (leftBoundingBoxes.length === 1 && rightBoundingBoxes.length === 1) {\n        // If the vertical difference between the two boxes is smaller then 1.5 times line height,\n        // the paper is categorized as single-column. Both bounding boxes are set to leftBoundingBoxes.\n        // ArrowFlag will appear on the left\n        if (Math.abs(rightBoundingBoxes[0].top - leftBoundingBoxes[0].top) <\n            LINE_HEIGHT_MULTIPLIER * rightBoundingBoxes[0].height) {\n            leftBoundingBoxes = boundingBoxes;\n            rightBoundingBoxes = [];\n        }\n    }\n    // Sort bounding boxes by their top positions\n    leftBoundingBoxes.sort((first, second) => first.top - second.top);\n    rightBoundingBoxes.sort((first, second) => first.top - second.top);\n    const renderArrowFlagBase = (boxes, position, showLabel) => {\n        if (boxes.length == 0)\n            return null;\n        const firstBox = convertRatioToPx(boxes[0]), lastBox = convertRatioToPx(boxes[boxes.length - 1]);\n        const props = {\n            label: showLabel ? label : undefined,\n            tailLength: lastBox.top + lastBox.height - firstBox.top,\n            originTop: firstBox.top,\n            position,\n        };\n        return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ArrowFlagBase, Object.assign({}, props));\n    };\n    const hasLeftFlag = leftBoundingBoxes.length > 0;\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag\', className) }, extraProps),\n        renderArrowFlagBase(leftBoundingBoxes, POSITION.LEFT, hasLeftFlag),\n        renderArrowFlagBase(rightBoundingBoxes, POSITION.RIGHT, !hasLeftFlag)));\n};\n\n;// CONCATENATED MODULE: ./src/components/outline/OutlineItem.tsx\n\n\n\nconst OutlineItem = ({ items, onClick }) => {\n    const { isOutlineTargetVisible } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    if (!items || !items.length) {\n        return null;\n    }\n    function renderItem(item) {\n        var _a;\n        const clickHandler = (event) => {\n            event.preventDefault();\n            if (onClick) {\n                onClick(item.dest);\n            }\n        };\n        // If an item has sub titles, render <OutlineItem />\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: ((_a = item.dest) === null || _a === void 0 ? void 0 : _a.toString()) || item.title, className: classnames_default()(\'reader__outline-item\', {\n                \'reader__outline-item--target-visible\': isOutlineTargetVisible(item.dest),\n            }) },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { href: "#", onClick: clickHandler, "data-test-id": "reader-outline-item" }, item.title),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: item.items, onClick: onClick })));\n    }\n    return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "reader__outline-items" }, items.map(item => renderItem(item)));\n};\n\n;// CONCATENATED MODULE: ./src/components/outline/Outline.tsx\nvar Outline_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst Outline = (_a) => {\n    var extraProps = Outline_rest(_a, []);\n    const { outline, pdfDocProxy, setOutline, setOutlinePositions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { scrollToOutlineTarget, resetScrollObservers } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (outline) {\n            return;\n        }\n        if (!pdfDocProxy) {\n            return;\n        }\n        pdfDocProxy\n            .getOutline()\n            .then((outlineArray) => {\n            setOutline(outlineArray);\n            return buildOutlinePositions(pdfDocProxy, outlineArray);\n        })\n            .then(outlinePositions => {\n            setOutlinePositions(outlinePositions);\n        })\n            .then(() => {\n            resetScrollObservers();\n        });\n    }, [outline]);\n    const clickHandler = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        if (!dest) {\n            return;\n        }\n        scrollToOutlineTarget(dest);\n        return;\n    }, []);\n    if (!pdfDocProxy) {\n        return null;\n    }\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "reader__outline" }, extraProps), !!outline && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: outline, onClick: clickHandler })));\n};\n\n;// CONCATENATED MODULE: ./src/components/Overlay.tsx\nvar Overlay_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst Overlay = (_a) => {\n    var { children } = _a, extraProps = Overlay_rest(_a, ["children"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const getOverlayStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computePageStyle(pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__overlay", style: getOverlayStyle() }, extraProps), children));\n};\n\n;// CONCATENATED MODULE: ./src/utils/MaxVisibleElement.ts\nfunction getMaxVisibleElement(visibleElements) {\n    let maxVisibleKey = null;\n    let maxRatio = 0;\n    for (const [visibleKey, { ratio }] of visibleElements) {\n        if (maxRatio < ratio) {\n            maxVisibleKey = visibleKey;\n            maxRatio = ratio;\n        }\n    }\n    return maxVisibleKey;\n}\n\n;// CONCATENATED MODULE: ./src/components/PageNumberControl.tsx\n\n\n\n\n\nconst DELAY_SCROLL_TIME_OUT_MS = 1000;\nconst PageNumberControl = ({ className }) => {\n    const delayTimerRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef();\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const [minPage, setMinPage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [userInput, setUserInput] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(\'0\');\n    // Initialize page control element\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (numPages != 0) {\n            setMinPage(1);\n        }\n    }, [numPages]);\n    // Everytime we scroll through the page this useEffect\n    // will trigger and set current page based on our current\n    // scroll position\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (visiblePageRatios.size !== 0) {\n            const maxVisiblePageNumber = getMaxVisibleElement(visiblePageRatios);\n            if (maxVisiblePageNumber) {\n                setUserInput(maxVisiblePageNumber.toString());\n            }\n        }\n    }, [visiblePageRatios]);\n    const onPageNumberChange = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        const { value } = event.currentTarget;\n        // Decimal case\n        if (!Number.isInteger(value)) {\n            setUserInput(parseInt(value, 10).toString());\n        }\n        setUserInput(value);\n        if (delayTimerRef.current) {\n            clearTimeout(delayTimerRef.current);\n        }\n        // After user input the page that they want to scroll to\n        // our ref will start setting a delay around 1s before scroll\n        // to the position that user desire\n        const newPageNumber = parseInt(value, 10);\n        if (newPageNumber >= minPage && newPageNumber <= numPages) {\n            delayTimerRef.current = setTimeout(() => {\n                scrollToPage({ pageNumber: newPageNumber });\n            }, DELAY_SCROLL_TIME_OUT_MS);\n        }\n    }, [minPage, numPages, scrollToPage]);\n    const handleBlur = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        if (delayTimerRef.current) {\n            clearTimeout(delayTimerRef.current);\n        }\n        const pageNumber = parseInt(userInput, 10);\n        if (Number.isNaN(pageNumber)) {\n            return;\n        }\n        delayTimerRef.current = setTimeout(() => {\n            scrollToPage({ pageNumber: pageNumber });\n        }, DELAY_SCROLL_TIME_OUT_MS);\n    }, [userInput, scrollToPage]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page-number-control\', className) },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { "aria-label": "Current Page", className: "pdf-reader__page-number-control__current-page", type: "number", name: "currentPage", value: userInput, onChange: onPageNumberChange, onBlur: handleBlur }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { className: "pdf-reader__page-number-control__separator " }, "/"),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { "aria-label": "Total Pages", className: "pdf-reader__page-number-control__total-pages" }, numPages)));\n};\n\n;// CONCATENATED MODULE: ./src/context/PageRenderContext.ts\nvar PageRenderContext_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst PageRenderContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    pageRenderStates: new Map(),\n    getObjectURLForPage: args => {\n        logProviderWarning(`getObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return null;\n    },\n    isBuildingObjectURLForPage: args => {\n        logProviderWarning(`isBuildingObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return false;\n    },\n    isFinishedBuildingAllPagesObjectURLs: () => {\n        logProviderWarning(`isFinishedBuildingAllPagesObjectURLs()`, \'PageRenderContext\');\n        return false;\n    },\n    buildObjectURLForPage: args => {\n        logProviderWarning(`buildObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return Promise.resolve(\'\');\n    },\n});\nfunction usePageRenderContextProps({ pdfDocProxy, pixelRatio, scale, visiblePageRatios, }) {\n    const [pageRenderStates, _setPageRenderStates] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\n        const map = new Map();\n        Object.freeze(map);\n        return map;\n    });\n    // Because rendering a page is async, we will lose the current pageRenderStates\n    // This ref trick allows the latest to be accessible when the objectURL is ready\n    const pageRenderStatesRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(pageRenderStates);\n    const setPageRenderStates = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pageRenderStates) => {\n        pageRenderStatesRef.current = pageRenderStates;\n        _setPageRenderStates(pageRenderStates);\n    }, [pageRenderStatesRef]);\n    const isBuildingObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return false;\n        }\n        const state = pageRenderStates.get(pageNumber);\n        if (!state) {\n            return false;\n        }\n        return !state.objectURL;\n    }, [pageRenderStates]);\n    const isFinishedBuildingAllPagesObjectURLs = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        var _a;\n        if (!pdfDocProxy)\n            return false;\n        for (let pageNumber = 1; pageNumber <= pdfDocProxy.numPages; pageNumber++) {\n            if (!((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL)) {\n                return false;\n            }\n        }\n        return true;\n    }, [pdfDocProxy, pageRenderStates]);\n    const getObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return null;\n        }\n        return ((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL) || null;\n    }, [pageRenderStates]);\n    const buildObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            throw new Error(\'prop "pageNumber" is not a number\');\n        }\n        if (!pdfDocProxy) {\n            throw new Error(\'cannot build a page until a "pdfDocProxy" is set on DocumentContext\');\n        }\n        // Don\'t need to start another task if already rendered\n        const existingPromise = (_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.promise;\n        if (existingPromise) {\n            return existingPromise;\n        }\n        const promise = buildPageObjectURL({\n            pageNumber,\n            pdfDocProxy,\n            pixelRatio,\n            scale,\n            promiseTimestamp: flushTimestamp,\n        });\n        const renderState = {\n            promise,\n            objectURL: null,\n        };\n        promise.then(objectURL => {\n            if (!objectURL)\n                return;\n            renderState.objectURL = objectURL;\n            const newPageRenderStates = new Map(pageRenderStatesRef.current);\n            Object.freeze(newPageRenderStates);\n            setPageRenderStates(newPageRenderStates);\n        });\n        const newPageRenderStates = new Map(pageRenderStatesRef.current);\n        newPageRenderStates.set(pageNumber, renderState);\n        Object.freeze(newPageRenderStates);\n        setPageRenderStates(newPageRenderStates);\n        return promise;\n    }, [pageRenderStates, pdfDocProxy, scale]);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const visiblePages = [...visiblePageRatios.keys()];\n        if (!pdfDocProxy || [...pageRenderStates.keys()].length === pdfDocProxy.numPages) {\n            return;\n        }\n        const priorityQueue = getPriorityQueue(visiblePages, pdfDocProxy.numPages);\n        for (const pageNumber of priorityQueue) {\n            buildObjectURLForPage({ pageNumber });\n        }\n    }, [pageRenderStates, pdfDocProxy, visiblePageRatios]);\n    // Flush page render states when scale changes\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        // Clean memory of old generated images\n        for (const [, renderState] of pageRenderStatesRef.current) {\n            if (renderState.objectURL) {\n                URL.revokeObjectURL(renderState.objectURL);\n            }\n        }\n        // if current async promises dont have this timestamp, then we flush them\n        flushTimestamp = new Date().getTime();\n        // Clear all page render states, so pages can rebuild images\n        const newPageRenderStates = new Map();\n        Object.freeze(newPageRenderStates);\n        setPageRenderStates(newPageRenderStates);\n    }, [scale, pixelRatio]);\n    return {\n        pageRenderStates,\n        getObjectURLForPage,\n        isBuildingObjectURLForPage,\n        isFinishedBuildingAllPagesObjectURLs,\n        buildObjectURLForPage,\n    };\n}\nfunction getNeighboringPages(pages, numTotalPages) {\n    return pages.length === 0\n        ? []\n        : [Math.max(1, pages[0] - 1), Math.min(numTotalPages, pages[pages.length - 1] + 1)];\n}\nfunction getPriorityQueue(visiblePages, numPages) {\n    const visiblePagesNeighbors = getNeighboringPages(visiblePages, numPages);\n    const allPages = Array.from({ length: numPages }, (_, i) => i + 1);\n    const priorityQueue = new Set([...visiblePages, ...visiblePagesNeighbors, ...allPages]); // put into set to remove duplicats\n    return Array.from(priorityQueue); // convert set to array\n}\n// This boost causes the rendered image to be scaled up by this amount\nconst SCALE_BOOST = 2;\n// Generate an object url for a given page, rendered in a shared canvas\nfunction buildPageObjectURL({ pageNumber, pdfDocProxy, pixelRatio = (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 0, scale = 1, imageType = \'image/png\', imageQuality = 1.0, promiseTimestamp, }) {\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\n        const pageProxy = yield pdfDocProxy.getPage(pageNumber);\n        const blob = yield useRenderCanvas((canvas) => PageRenderContext_awaiter(this, void 0, void 0, function* () {\n            if (promiseTimestamp !== flushTimestamp) {\n                return promiseTimestamp; // flush stale promise\n            }\n            // Render page in a canvas\n            const viewport = pageProxy.getViewport({ scale: scale * pixelRatio * SCALE_BOOST });\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n            const canvasContext = canvas.getContext(\'2d\');\n            if (!canvasContext) {\n                throw new Error(\'canvas was unable to get a context\');\n            }\n            const renderTask = pageProxy.render({\n                canvasContext,\n                viewport,\n                intent: \'print\', // immediately render pages on inactive pages\n            });\n            yield renderTask.promise;\n            yield new Promise(resolve => setTimeout(resolve, 16));\n            // Fetch a blob for an image of the canvas\n            return new Promise((resolve, reject) => {\n                try {\n                    canvas.toBlob(blob => resolve(blob), imageType, imageQuality);\n                }\n                catch (error) {\n                    reject(error);\n                }\n            });\n        }));\n        if (typeof blob === \'number\') {\n            return \'\';\n        }\n        // Convert blob image to object url\n        if (!blob) {\n            throw new Error(\'unable to create image from page\');\n        }\n        return URL.createObjectURL(blob);\n    });\n}\nlet renderCanvas = null;\n// Get or create a shared canvas for rendering pages in\nfunction getRenderCanvas() {\n    if (!renderCanvas) {\n        renderCanvas = document.createElement(\'canvas\');\n    }\n    return renderCanvas;\n}\nlet flushTimestamp = new Date().getTime();\nlet nextCanvasUse = Promise.resolve();\n// Use the shared canvas to render a page, using promises to create a queue\nfunction useRenderCanvas(callback) {\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        let resolve = (_value) => { };\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        let reject = (_reason) => { };\n        const prom = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        nextCanvasUse = nextCanvasUse.then(() => callback(getRenderCanvas()).then(resolve, reject));\n        const result = yield prom;\n        yield new Promise(res => setTimeout(res, 16)); // Give some time between renders\n        return result;\n    });\n}\n\n;// CONCATENATED MODULE: ./src/components/PageWrapper.tsx\nvar PageWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\nconst PageWrapper = (_a) => {\n    var { children, error, loading, loadingContentForBuildingImage, noData, pageIndex, renderType } = _a, extraProps = PageWrapper_rest(_a, ["children", "error", "loading", "loadingContentForBuildingImage", "noData", "pageIndex", "renderType"]);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const { pageDimensions, getOutlineTargets, setNumPagesLoaded } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { getObjectURLForPage, isBuildingObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\n    const { isLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\n    const objectURLForPage = getObjectURLForPage({ pageIndex });\n    const isBuildingPageImage = isBuildingObjectURLForPage({ pageIndex });\n    // Don\'t display until we have page size data\n    // TODO: Handle this nicer so we display either the loading or error treatment\n    if (!pageDimensions) {\n        return null;\n    }\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        const styles = computePageStyle(pageDimensions, rotation, scale);\n        if (objectURLForPage) {\n            styles.backgroundImage = `url(${objectURLForPage})`;\n        }\n        return styles;\n    }, [pageDimensions, rotation, scale, objectURLForPage]);\n    const getWidth = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return getPageWidth(pageDimensions, rotation);\n    }, [pageDimensions, rotation]);\n    const outlineTargets = getOutlineTargets({\n        pageIndex,\n        scale,\n        rotation,\n        pageDimensions,\n    });\n    const markPageAsLoaded = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        setNumPagesLoaded(prevNumPagesLoaded => prevNumPagesLoaded + 1);\n    }, []);\n    // Width needs to be set to prevent the outermost Page div from extending to fit the parent,\n    // and mis-aligning the text layer.\n    // TODO: Can we CSS this to auto-shrink?\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: generatePageIdFromIndex(pageIndex), className: classnames_default()(\'pdf-reader__page\', { \'pdf-reader__page--has-page-image\': objectURLForPage }, { \'pdf-reader__page--no-page-image\': !objectURLForPage }, `pdf-reader__page--render-type-${getClassNameSuffixFromRenderType(renderType)}`, { \'pdf-reader__is-building-page-image\': isBuildingPageImage }), "data-page-number": pageIndex + 1, style: getPageStyle() }, extraProps),\n        children,\n        isBuildingPageImage && !isLoading && (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page\', {\n                \'pdf-reader__page--is-loading-image\': isBuildingPageImage,\n            }) }, loadingContentForBuildingImage)),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Page, { width: getWidth(), error: error, loading: loading, noData: noData, pageIndex: pageIndex, scale: scale, rotate: rotation, renderAnnotationLayer: true, onGetTextSuccess: markPageAsLoaded }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__page__outline-targets" }, outlineTargets.map(({ dest, leftPx, topPx }) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { key: dest, className: "pdf-reader__page__outline-target", "data-outline-target-dest": dest, "data-test-id": "pdf-reader__page__outline-target", style: { left: leftPx + \'px\', top: topPx + \'px\' } }))))));\n};\n\n;// CONCATENATED MODULE: ./src/components/PrintButton.tsx\nvar PrintButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n/**\n * HTML anchor tag allows you to download a file from the same origin.\n * This is a workaround to download a file served from a different origin\n */\nconst PrintButton = (_a) => {\n    var { children, className } = _a, extraProps = PrintButton_rest(_a, ["children", "className"]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ onClick: () => onClickPrint(), "aria-label": "Print PDF", className: `pdf-reader__print-btn ${className}` }, extraProps), children ? children : \'Print\'));\n};\nfunction onClickPrint() {\n    window.print();\n}\n\n;// CONCATENATED MODULE: ./src/utils/util.ts\n// This function returns min or max if value exceeds the range, otherwise\n// the original value is returned\nconst bandPassFilter = (value, min, max) => {\n    return Math.min(Math.max(value, min), max);\n};\n\n;// CONCATENATED MODULE: ./src/components/SidePanel.tsx\nvar SidePanel_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst DEFAULT_MIN_WIDTH_PX = 300;\nconst DEFAULT_MAX_WIDTH_PX = 700;\nconst SidePanel = (_a) => {\n    var { minWidthPx = DEFAULT_MIN_WIDTH_PX, maxWidthPx = DEFAULT_MAX_WIDTH_PX, className, children, header, content, footer, dragHandlePosition, closeButton, isVisible = true, onClose } = _a, extraProps = SidePanel_rest(_a, ["minWidthPx", "maxWidthPx", "className", "children", "header", "content", "footer", "dragHandlePosition", "closeButton", "isVisible", "onClose"]);\n    // The overlay is used to catch mouse up events over iframe contents\n    // so the mouseup events will not be missed if the click is released over\n    // the iframe and the event listeners will fail to be removed\n    const [isOverlayVisible, setIsOverlayVisible] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [panelWidth, setPanelWidth] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(minWidthPx);\n    const sidePanelRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\n    const dragHandleRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\n    const renderCloseButton = () => {\n        if (typeof closeButton === \'boolean\') {\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", { className: "pdf-reader__side-panel-close-button", onClick: onClose }, "x"));\n        }\n        return closeButton;\n    };\n    const renderDragHandle = () => {\n        const isDragHandleOnLeft = dragHandlePosition === \'left\';\n        const isDragHandleOnRight = dragHandlePosition === \'right\';\n        if (!isDragHandleOnLeft && !isDragHandleOnRight) {\n            return null;\n        }\n        const onMouseMove = (mouseMoveEvent) => {\n            if (!sidePanelRef || !sidePanelRef.current) {\n                return;\n            }\n            const newWidth = dragHandlePosition === \'left\'\n                ? sidePanelRef.current.getBoundingClientRect().right - mouseMoveEvent.pageX\n                : mouseMoveEvent.pageX - sidePanelRef.current.getBoundingClientRect().left;\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\n        };\n        const onMouseUp = () => {\n            // drop opacity styling on drag handle\n            if (dragHandleRef && dragHandleRef.current) {\n                dragHandleRef.current.removeAttribute(\'style\');\n            }\n            setIsOverlayVisible(false);\n            document.body.removeEventListener(\'mousemove\', onMouseMove);\n        };\n        const onDraggingHandle = () => {\n            // prevent flashing when the mouse hovers outside the resize zone\n            if (dragHandleRef && dragHandleRef.current) {\n                dragHandleRef.current.style.opacity = \'1\';\n            }\n            setIsOverlayVisible(true);\n            document.body.addEventListener(\'mousemove\', onMouseMove);\n            document.body.addEventListener(\'mouseup\', onMouseUp, { once: true });\n        };\n        const onChangePanelWidth = (event) => {\n            const newWidth = parseInt(event.currentTarget.value);\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\n        };\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__resize-zone\', {\n                \'pdf-reader__resize-zone--left\': isDragHandleOnLeft,\n                \'pdf-reader__resize-zone--right\': isDragHandleOnRight,\n            }) },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { className: "pdf-reader__drag-handle__assistive-input", type: "range", min: minWidthPx, max: maxWidthPx, step: "5", value: panelWidth, onChange: onChangePanelWidth }),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { ref: dragHandleRef, role: "slider", "aria-valuenow": panelWidth, tabIndex: -1, onMouseDown: onDraggingHandle, className: "pdf-reader__drag-handle" },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__drag-handle__inner" }))));\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ ref: sidePanelRef, style: { width: panelWidth }, className: classnames_default()(\'pdf-reader__side-panel\', { \'pdf-reader__side-panel--hidden\': !isVisible }, className) }, extraProps),\n        renderDragHandle(),\n        closeButton && renderCloseButton(),\n        header && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("h2", { className: "pdf-reader__side-panel-title" }, header),\n        content && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-content" }, content),\n        footer && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-footer" }, footer),\n        children,\n        isOverlayVisible && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-overlay" })));\n};\n\n;// CONCATENATED MODULE: ./src/components/thumbnails/Thumbnail.tsx\n\n\n\n\n\nconst Thumbnail = ({ pageNumber }) => {\n    const { getObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\n    const { isPageVisible, scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const [maxVisiblePageNumber, setMaxVisiblePageNumber] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const objectURL = getObjectURLForPage({ pageNumber });\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (visiblePageRatios.size !== 0) {\n            const max = getMaxVisibleElement(visiblePageRatios);\n            if (max) {\n                setMaxVisiblePageNumber(max.toString());\n            }\n        }\n    }, [visiblePageRatios]);\n    const isThumbnailVisible = maxVisiblePageNumber &&\n        parseInt(maxVisiblePageNumber) === pageNumber &&\n        isPageVisible({ pageNumber });\n    const onClick = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(event => {\n        event.preventDefault();\n        scrollToPage({ pageNumber });\n    }, [pageNumber, scrollToPage]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { "aria-label": `scroll to page ${pageNumber}`, href: `#${pageNumber}`, onClick: onClick, className: classnames_default()(\'pdf-reader__thumbnail\', { \'pdf-reader__thumbnail--no-image\': !objectURL }, { \'pdf-reader__thumbnail--is-visible\': isThumbnailVisible }), "data-page-number": pageNumber, "data-test-id": "thumbnail-link" }, !!objectURL && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("img", { className: "pdf-reader__thumbnail-image", src: objectURL })));\n};\n\n;// CONCATENATED MODULE: ./src/components/thumbnails/ThumbnailList.tsx\n\n\n\nconst ThumbnailList = () => {\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__thumbnail-list-wrapper" },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "pdf-reader__thumbnail-list" }, Array.from({ length: numPages }).map((_, pageIndex) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: pageIndex + 1, className: "pdf-reader__thumbnail-list__item" },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(Thumbnail, { pageNumber: pageIndex + 1 })))))));\n};\n\n;// CONCATENATED MODULE: ./src/utils/format.ts\nconst PercentFormatter = new Intl.NumberFormat(\'en-US\', {\n    style: \'percent\',\n    maximumSignificantDigits: 3,\n});\n\n;// CONCATENATED MODULE: ./src/components/ZoomInButton.tsx\nvar ZoomInButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst MAX_ZOOM_IN_SCALE = 500;\nconst ZoomInButton = (_a) => {\n    var { className, children, onZoom } = _a, extraProps = ZoomInButton_rest(_a, ["className", "children", "onZoom"]);\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const handleZoomIn = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const newScaleValue = scale + zoomIncrementValue;\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\n        if (zoomScale <= MAX_ZOOM_IN_SCALE) {\n            if (onZoom) {\n                onZoom(newScaleValue);\n            }\n            setScale(newScaleValue);\n        }\n    }, [scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-in ${className}`, onClick: handleZoomIn }, extraProps), children ? children : \'+\'));\n};\n\n;// CONCATENATED MODULE: ./src/components/ZoomOutButton.tsx\nvar ZoomOutButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst MIN_ZOOM_OUT_SCALE = 20;\nconst ZoomOutButton = (_a) => {\n    var { className, children, onZoom } = _a, extraProps = ZoomOutButton_rest(_a, ["className", "children", "onZoom"]);\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const handleZoomOut = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const newScaleValue = scale - zoomIncrementValue;\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\n        if (zoomScale >= MIN_ZOOM_OUT_SCALE) {\n            if (onZoom) {\n                onZoom(newScaleValue);\n            }\n            setScale(newScaleValue);\n        }\n    }, [scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-out ${className}`, onClick: handleZoomOut }, extraProps), children ? children : \'-\'));\n};\n\n;// CONCATENATED MODULE: ./src/context/ContextProvider.tsx\n\n\n\n\n\n\nconst ContextProvider = ({ children }) => {\n    const documentProps = useDocumentContextProps();\n    const transformProps = useTransformContextProps();\n    const uiProps = useUiContextProps();\n    const scrollProps = useScrollContextProps();\n    const pageRenderProps = usePageRenderContextProps({\n        pdfDocProxy: documentProps.pdfDocProxy,\n        pixelRatio: transformProps.pixelRatio,\n        scale: transformProps.scale,\n        visiblePageRatios: scrollProps.visiblePageRatios,\n    });\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(DocumentContext.Provider, { value: documentProps },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(TransformContext.Provider, { value: transformProps },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(UiContext.Provider, { value: uiProps },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ScrollContext.Provider, { value: scrollProps },\n                    external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(PageRenderContext.Provider, { value: pageRenderProps }, children))))));\n};\n\n;// CONCATENATED MODULE: ./index.ts\n/*\n * PDF Component Library exports\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const index = ({\n    BoundingBox: BoundingBox,\n    computeBoundingBoxStyle: computeBoundingBoxStyle,\n    computePageStyle: computePageStyle,\n    ContextProvider: ContextProvider,\n    DEFAULT_ZOOM_SCALE: DEFAULT_ZOOM_SCALE,\n    DocumentContext: DocumentContext,\n    DocumentWrapper: DocumentWrapper,\n    DownloadButton: DownloadButton,\n    ArrowFlag: ArrowFlag,\n    ArrowFlagBase: ArrowFlagBase,\n    PrintButton: PrintButton,\n    generatePageIdFromIndex: generatePageIdFromIndex,\n    getPageHeight: getPageHeight,\n    getPageWidth: getPageWidth,\n    HighlightOverlay: HighlightOverlay,\n    IconFlag: IconFlag,\n    isSideways: isSideways,\n    Outline: Outline,\n    OutlineItem: OutlineItem,\n    Overlay: Overlay,\n    PageNumberControl: PageNumberControl,\n    PageRenderContext: PageRenderContext,\n    PageRotation: PageRotation,\n    PageWrapper: PageWrapper,\n    POSITION: POSITION,\n    SidePanel: SidePanel,\n    PercentFormatter: PercentFormatter,\n    RENDER_TYPE: RENDER_TYPE,\n    rotateClockwise: rotateClockwise,\n    rotateCounterClockwise: rotateCounterClockwise,\n    scaleRawBoundingBox: scaleRawBoundingBox,\n    scrollToId: scrollToId,\n    scrollToPdfPageIndex: scrollToPdfPageIndex,\n    Thumbnail: Thumbnail,\n    ThumbnailList: ThumbnailList,\n    ScrollContext: ScrollContext,\n    TransformContext: TransformContext,\n    UiContext: UiContext,\n    ZoomInButton: ZoomInButton,\n    ZoomOutButton: ZoomOutButton,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9wcm92aWRlci50cz84NWFhIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3JvdGF0ZS50cz9jZGJiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3Njcm9sbC50cz83YjA1Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0LnRzPzJmMDMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0LnRzP2JlNjQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvc3R5bGUudHM/ZTMxYiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0JvdW5kaW5nQm94LnRzeD81NmNmIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL1Njcm9sbERpcmVjdGlvbkRldGVjdG9yLnRzP2FjZTYiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvVmlzaWJsZUVudHJpZXNEZXRlY3Rvci50cz9mZjZiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvU2Nyb2xsQ29udGV4dC50cz9jZjkxIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvVWlDb250ZXh0LnRzPzZiYjMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvZXJyb3JNZXNzYWdlLnRzPzMwYTUiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvcGRmV29ya2VyLnRzP2E1ZGUiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvcmVhZGVyLXV0aWxzLnRzPzBlNDkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvc2NhbGUudHM/YTAwNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL3R5cGVzL2Rlc3RpbmF0aW9uLnRzP2IxYTMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9Eb2N1bWVudFdyYXBwZXIudHN4PzUyMDQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9Eb3dubG9hZEJ1dHRvbi50c3g/ZTIzNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0hpZ2hsaWdodE92ZXJsYXkudHN4PzIyMWEiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9tYXJrZXIvQXJyb3dGbGFnQmFzZS50c3g/NTlhYyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL2ljb24vSWNvbkZsYWcudHN4P2RiZGQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveC50cz84NjEwIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvbWFya2VyL0Fycm93RmxhZy50c3g/YjZlYSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL291dGxpbmUvT3V0bGluZUl0ZW0udHN4PzZhNzMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9vdXRsaW5lL091dGxpbmUudHN4PzMzY2EiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9PdmVybGF5LnRzeD9lOWYzIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL01heFZpc2libGVFbGVtZW50LnRzPzM5YzkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9QYWdlTnVtYmVyQ29udHJvbC50c3g/NzkwYyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb250ZXh0L1BhZ2VSZW5kZXJDb250ZXh0LnRzP2YwN2MiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9QYWdlV3JhcHBlci50c3g/YzljNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1ByaW50QnV0dG9uLnRzeD8xNzM5Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3V0aWwudHM/NmRkYiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1NpZGVQYW5lbC50c3g/YmU2OCIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL3RodW1ibmFpbHMvVGh1bWJuYWlsLnRzeD85MjA3Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvdGh1bWJuYWlscy9UaHVtYm5haWxMaXN0LnRzeD81Y2YwIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL2Zvcm1hdC50cz8yZDhjIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvWm9vbUluQnV0dG9uLnRzeD84NmI5Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvWm9vbU91dEJ1dHRvbi50c3g/NmJmMyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb250ZXh0L0NvbnRleHRQcm92aWRlci50c3g/YmM4YiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL2luZGV4LnRzP2E5NTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBTyxTQUFTLGtCQUFrQixDQUFDLFlBQW9CLEVBQUUsWUFBb0I7SUFDM0UsT0FBTyxDQUFDLElBQUksQ0FDVixrQkFBa0IsWUFBWSxTQUFTLFlBQVksd0NBQXdDLENBQzVGLENBQUM7QUFDSixDQUFDOzs7QUNKRCxJQUFZLFlBS1g7QUFMRCxXQUFZLFlBQVk7SUFDdEIscURBQVc7SUFDWCx3REFBYTtJQUNiLDJEQUFlO0lBQ2YsMkRBQWU7QUFDakIsQ0FBQyxFQUxXLFlBQVksS0FBWixZQUFZLFFBS3ZCO0FBRU0sU0FBUyxlQUFlLENBQUMsUUFBc0I7SUFDcEQsUUFBUSxRQUFRLEVBQUU7UUFDaEIsS0FBSyxZQUFZLENBQUMsT0FBTztZQUN2QixPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUM7UUFDL0IsS0FBSyxZQUFZLENBQUMsUUFBUTtZQUN4QixPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDaEMsS0FBSyxZQUFZLENBQUMsU0FBUztZQUN6QixPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDaEM7WUFDRSxPQUFPLFlBQVksQ0FBQyxPQUFPLENBQUM7S0FDL0I7QUFDSCxDQUFDO0FBRU0sU0FBUyxzQkFBc0IsQ0FBQyxRQUFzQjtJQUMzRCxRQUFRLFFBQVEsRUFBRTtRQUNoQixLQUFLLFlBQVksQ0FBQyxPQUFPO1lBQ3ZCLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQztRQUNoQyxLQUFL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YTtDQUNkLEVBQUMiLCJmaWxlIjoiMjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGxvZ1Byb3ZpZGVyV2FybmluZyhmdW5jdGlvbk5hbWU6IHN0cmluZywgcHJvdmlkZXJOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc29sZS53YXJuKFxuICAgIGBVbmFibGUgdG8gY2FsbCAke2Z1bmN0aW9uTmFtZX0uIFRoZSAke3Byb3ZpZGVyTmFtZX0gUHJvdmlkZXIgbWF5IG5vdCBiZSBzZXQgdXAgY29ycmVjdGx5LmBcbiAgKTtcbn1cbiIsImV4cG9ydCBlbnVtIFBhZ2VSb3RhdGlvbiB7XG4gIFJvdGF0ZTAgPSAwLFxuICBSb3RhdGU5MCA9IDkwLFxuICBSb3RhdGUxODAgPSAxODAsXG4gIFJvdGF0ZTI3MCA9IDI3MCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNsb2Nrd2lzZShyb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogUGFnZVJvdGF0aW9uIHtcbiAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTA6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTkwO1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTkwOlxuICAgICAgcmV0dXJuIFBhZ2VSb3RhdGlvbi5Sb3RhdGUxODA7XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMTgwOlxuICAgICAgcmV0dXJuIFBhZ2VSb3RhdGlvbi5Sb3RhdGUyNzA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ291bnRlckNsb2Nrd2lzZShyb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogUGFnZVJvdGF0aW9uIHtcbiAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTA6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDtcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGU5MDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMDtcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGUxODA6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTkwO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MDtcbiAgfVxufVxuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgdGhlIHBhZ2UgaXMgcm90YXRlZCA5MCBkZWdyZWVzIGNsb2Nrd2lzZSBvciBjb3VudGVyY2xvY2t3aXNlIGZyb20gemVybyxcbiAqIGUuZy4gd2hldGhlciB0aGUgcGFnZSBcImlzIHJvdGF0ZWQgc2lkZXdheXMuXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2lkZXdheXMocm90YXRpb246IFBhZ2VSb3RhdGlvbik6IGJvb2xlYW4ge1xuICByZXR1cm4gcm90YXRpb24gPT09IFBhZ2VSb3RhdGlvbi5Sb3RhdGU5MCB8fCByb3RhdGlvbiA9PT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDtcbn1cbiIsImltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94JztcbmltcG9ydCB7IFBhZ2VQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9wYWdlJztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBQYWdlUm90YXRpb24gfSBmcm9tICcuLi91dGlscy9yb3RhdGUnO1xuXG4vLyBFYWNoIHBhZ2UgZGl2IGlzIElEJ2QgYWNjb3JkaW5nIHRvIHBhZ2UgaW5kZXhcbi8vIGUuZy4gcmVhZGVyX3BnXzAsIHJlYWRlcl9wZ18xLCBldGMuXG5leHBvcnQgY29uc3QgUEFHRV9OQVZfVEFSR0VUX0lEX1JPT1QgPSAncmVhZGVyX3BnXyc7XG5cbmNvbnN0IFBERl9IRUlHSFRfUE9JTlRTID0gNzkyO1xuY29uc3QgUERGX1dJRFRIX1BPSU5UUyA9IDYxMjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleDogbnVtYmVyIHwgc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke1BBR0VfTkFWX1RBUkdFVF9JRF9ST09UfSR7cGFnZUluZGV4fWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUb0lkKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JywgaW5saW5lOiAnY2VudGVyJyB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZmluZCBzY3JvbGwgdGFyZ2V0IHdpdGggSUQgIyR7aWR9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvUGRmUGFnZUluZGV4KHBhZ2VJbmRleDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG4gIHNjcm9sbFRvSWQoZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgocGFnZUluZGV4KSk7XG59XG5cbi8qKlxuICogU2Nyb2xsIFBERiBkb2N1bWVudCB0byBhIHNwZWNpZmljIHBvc2l0aW9uLlxuICogQHBhcmFtIHBhZ2VJbmRleCBUaGUgaW5kZXggb2YgdGhlIHBhZ2Ugd2hlcmUgdGhlIHBvc2l0aW9uIGxvY2F0ZXMgYXRcbiAqIEBwYXJhbSBsZWZ0UG9pbnRzIFRoZSBob3Jpem9udGFsIGRpc3RhbmNlIGJldHdlZW4gdGhlIG9yaWdpbiBhbmQgdGhlIHBvc2l0aW9uIChpbiBQREYgY29vcmRpbmF0ZXMpXG4gKiBAcGFyYW0gYm90dG9tUG9pbnRzIFRoZSB2ZXJ0aWNhbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBvcmlnaW4gYW5kIHRoZSBwb3NpdGlvbiAoaW4gUERGIGNvb3JkaW5hdGVzKVxuICogQHBhcmFtIHJvdGF0aW9uIFRoZSByb3RhdGlvbiBkZWdyZWUgb2YgdGhlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKFxuICBwYWdlSW5kZXg6IG51bWJlcixcbiAgbGVmdFBvaW50czogbnVtYmVyLFxuICBib3R0b21Qb2ludHM6IG51bWJlcixcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbiA9IFBhZ2VSb3RhdGlvbi5Sb3RhdGUwXG4pOiB2b2lkIHtcbiAgLypcbiAgICBWZXJ0aWNhbCBzY3JvbGwgZGlzdGFuY2UgaXMgY2FsY3VsYXRlZCBhc1xuICAgID0gdG90YWwgbnVtYmVyIG9mIHByZXZpb3VzIHBhZ2VzICogcGFnZSBoZWlnaHQgaW5jbHVkaW5nIHRvcC9kb3duIG1hcmdpbnNcbiAgICArIHRoZSBtYXJnaW4gdG9wIG9mIGN1cnJlbnQgcGFnZVxuICAgICsgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHBhZ2UgdG9wIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cblxuICAgIE5vdGljZSB0aGF0IHRoZSBzY3JvbGwgZGlzdGFuY2UgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLFxuICAgIHNvIGxlZnRQb2ludHMvYm90dG9tUG9pbnRzIGhhcyB0byBiZSB0cmFuc2Zvcm1lZCBmcm9tIHBvaW50cyB0byBwaXhlbHMgZmlyc3QuXG4gICovXG5cbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBtYXJnaW5Ub3AsIG1hcmdpbkJvdHRvbSwgbWFyZ2luTGVmdCwgbWFyZ2luUmlnaHQgfSA9XG4gICAgZ2V0UGFnZVByb3BlcnRpZXNJblBpeGVscygpO1xuICBjb25zdCBoZWlnaHRXaXRoTWFyZ2lucyA9IGhlaWdodCArIG1hcmdpblRvcCArIG1hcmdpbkJvdHRvbTtcblxuICAvLyBXaGVuIGEgcGFwZXIgaXMgcm90YXRlZCwgaXRzIGhlaWdodCBhbmQgd2lkdGggd291bGQgYmUgc3dpdGNoZWQgYXV0b21hdGljYWxseS4gSG93ZXZlciwgbGVmdFBvaW50cyBhbmQgYm90dG9tUG9pbnRzIHJlbWFpbiB0aGUgc2FtZS5cbiAgbGV0IG1hcmdpblRvcFBpeGVscyA9IG1hcmdpblRvcDtcbiAgbGV0IGJvdHRvbVBpeGVscyA9IChoZWlnaHQgKiBib3R0b21Qb2ludHMpIC8gUERGX0hFSUdIVF9QT0lOVFM7XG4gIGxldCBsZWZ0UGl4ZWxzID0gKHdpZHRoICogbGVmdFBvaW50cykgLyBQREZfV0lEVEhfUE9JTlRTO1xuXG4gIGlmIChyb3RhdGlvbiA9PSBQYWdlUm90YXRpb24uUm90YXRlOTApIHtcbiAgICBtYXJnaW5Ub3BQaXhlbHMgPSBtYXJnaW5MZWZ0O1xuICAgIGJvdHRvbVBpeGVscyA9IChoZWlnaHQgKiAoUERGX1dJRFRIX1BPSU5UUyAtIGxlZnRQb2ludHMpKSAvIFBERl9XSURUSF9QT0lOVFM7XG4gICAgbGVmdFBpeGVscyA9ICh3aWR0aCAqIGJvdHRvbVBvaW50cykgLyBQREZfSEVJR0hUX1BPSU5UUztcbiAgfSBlbHNlIGlmIChyb3RhdGlvbiA9PSBQYWdlUm90YXRpb24uUm90YXRlMTgwKSB7XG4gICAgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luQm90dG9tO1xuICAgIGJvdHRvbVBpeGVscyA9IChoZWlnaHQgKiAoUERGX0hFSUdIVF9QT0lOVFMgLSBib3R0b21Qb2ludHMpKSAvIFBERl9IRUlHSFRfUE9JTlRTO1xuICAgIGxlZnRQaXhlbHMgPSAod2lkdGggKiAoUERGX1dJRFRIX1BPSU5UUyAtIGxlZnRQb2ludHMpKSAvIFBERl9XSURUSF9QT0lOVFM7XG4gIH0gZWxzZSBpZiAocm90YXRpb24gPT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MCkge1xuICAgIG1hcmdpblRvcFBpeGVscyA9IG1hcmdpblJpZ2h0O1xuICAgIGJvdHRvbVBpeGVscyA9IChoZWlnaHQgKiBsZWZ0UG9pbnRzKSAvIFBERl9XSURUSF9QT0lOVFM7XG4gICAgbGVmdFBpeGVscyA9ICh3aWR0aCAqIChQREZfSEVJR0hUX1BPSU5UUyAtIGJvdHRvbVBvaW50cykpIC8gUERGX0hFSUdIVF9QT0lOVFM7XG4gIH1cblxuICAvLyBGaW5kIHBhZ2UgZWxlbWVudFxuICBjb25zdCBwYWdlSWQgPSBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleChwYWdlSW5kZXgpO1xuICBjb25zdCBwYWdlSWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFnZUlkKTtcbiAgaWYgKCFwYWdlSWRFbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmluZCBmaXJzdCBzY3JvbGxhYmxlIHBhcmVudFxuICBjb25zdCBwYXJlbnRFbGVtZW50ID0gZ2V0U2Nyb2xsUGFyZW50KHBhZ2VJZEVsZW1lbnQpO1xuICBpZiAoIXBhcmVudEVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBcHBseSBzY3JvbGxcbiAgcGFyZW50RWxlbWVudC5zY3JvbGxUbyh7XG4gICAgdG9wOiBjYWxjdWxhdGVUb3BQeCh7XG4gICAgICBoZWlnaHRXaXRoTWFyZ2luc0luUHg6IGhlaWdodFdpdGhNYXJnaW5zLFxuICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICBtYXJnaW5Ub3BQeDogbWFyZ2luVG9wUGl4ZWxzLFxuICAgICAgaGVpZ2h0UHg6IGhlaWdodCxcbiAgICAgIGJvdHRvbVB4OiBib3R0b21QaXhlbHMsXG4gICAgfSksXG4gICAgbGVmdDogTWF0aC5mbG9vcihsZWZ0UGl4ZWxzKSxcbiAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KG5vZGU6IEhUTUxFbGVtZW50KTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcbiAgY29uc3QgbWluU2Nyb2xsYWJsZUhlaWdodCA9IDUwOyAvLyB1c2VkIHRvIGNoZWNrIGZvciBhIGJ1ZyB3aGVyZSBGaXJlZm94IGdpdmVzIGlubGluZSBjb250YWluZXJzIGEgc21hbGwgc2Nyb2xsSGVpZ2h0IHdoZW4gaXQgc2hvdWxkbnRcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keScpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIGlmIChub2RlLnNjcm9sbEhlaWdodCAtIG5vZGUuY2xpZW50SGVpZ2h0ID4gbWluU2Nyb2xsYWJsZUhlaWdodCAmJiAhaXNPdmVyZmxvd0lzSGlkZGVuKG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChub2RlLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBpc092ZXJmbG93SXNIaWRkZW4obm9kZTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICByZXR1cm4gKFxuICAgIHN0eWxlLm92ZXJmbG93LmluY2x1ZGVzKCdoaWRkZW4nKSB8fFxuICAgIHN0eWxlLm92ZXJmbG93WC5pbmNsdWRlcygnaGlkZGVuJykgfHxcbiAgICBzdHlsZS5vdmVyZmxvd1kuaW5jbHVkZXMoJ2hpZGRlbicpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUb3BQeCh7XG4gIGhlaWdodFdpdGhNYXJnaW5zSW5QeCxcbiAgcGFnZUluZGV4LFxuICBtYXJnaW5Ub3BQeCxcbiAgaGVpZ2h0UHgsXG4gIGJvdHRvbVB4LFxufToge1xuICBoZWlnaHRXaXRoTWFyZ2luc0luUHg6IG51bWJlcjtcbiAgcGFnZUluZGV4OiBudW1iZXI7XG4gIG1hcmdpblRvcFB4OiBudW1iZXI7XG4gIGhlaWdodFB4OiBudW1iZXI7XG4gIGJvdHRvbVB4OiBudW1iZXI7XG59KTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoaGVpZ2h0V2l0aE1hcmdpbnNJblB4ICogcGFnZUluZGV4ICsgbWFyZ2luVG9wUHggKyAoaGVpZ2h0UHggLSBib3R0b21QeCkpO1xufVxuXG4vKipcbiAqIEdldCBsZW5ndGhzLCB3aWR0aHMsIGFuZCBtYXJnaW5zIG9mIGEgcGFnZS5cbiAqIEByZXR1cm5zIGEgUGFnZVByb3BlcnRpZXMgb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlUHJvcGVydGllc0luUGl4ZWxzKCk6IFBhZ2VQcm9wZXJ0aWVzIHtcbiAgY29uc3QgZmlyc3RQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgoMCkpO1xuICBpZiAoIWZpcnN0UGFnZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYENhbm5vdCBnZXQgdGhlIGZpcnN0IHBhZ2Ugb2YgdGhpcyBkb2N1bWVudC5gKTtcbiAgICBjb25zdCBlbXB0eVBhZ2VQcm9wZXJ0aWVzOiBQYWdlUHJvcGVydGllcyA9IHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgbWFyZ2luVG9wOiAwLFxuICAgICAgbWFyZ2luQm90dG9tOiAwLFxuICAgICAgbWFyZ2luTGVmdDogMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAwLFxuICAgIH07XG4gICAgcmV0dXJuIGVtcHR5UGFnZVByb3BlcnRpZXM7XG4gIH1cblxuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZmlyc3RQYWdlIGFzIEVsZW1lbnQpO1xuICBjb25zdCBwYWdlUHJvcGVydGllczogUGFnZVByb3BlcnRpZXMgPSB7XG4gICAgd2lkdGg6IHBhcnNlSW50KHN0eWxlLndpZHRoKSxcbiAgICBoZWlnaHQ6IHBhcnNlSW50KHN0eWxlLmhlaWdodCksXG4gICAgbWFyZ2luVG9wOiBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3ApLFxuICAgIG1hcmdpbkJvdHRvbTogcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tKSxcbiAgICBtYXJnaW5MZWZ0OiBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0KSxcbiAgICBtYXJnaW5SaWdodDogcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQpLFxuICB9O1xuXG4gIHJldHVybiBwYWdlUHJvcGVydGllcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVRhcmdldFBvc2l0aW9uKHtcbiAgc2NhbGUsXG4gIGxlZnRQb2ludCxcbiAgYm90dG9tUG9pbnQsXG4gIHBhZ2VEaW1lbnNpb25zLFxuICByb3RhdGlvbiA9IFBhZ2VSb3RhdGlvbi5Sb3RhdGUwLFxufToge1xuICBzY2FsZTogbnVtYmVyO1xuICBsZWZ0UG9pbnQ6IG51bWJlcjtcbiAgYm90dG9tUG9pbnQ6IG51bWJlcjtcbiAgcGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnM7XG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb247XG59KTogeyBsZWZ0UHg6IG51bWJlcjsgdG9wUHg6IG51bWJlciB9IHtcbiAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgIGRlZmF1bHQ6XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMDoge1xuICAgICAgY29uc3QgbGVmdFB4ID0gKGxlZnRQb2ludCAvIFBERl9XSURUSF9QT0lOVFMpICogcGFnZURpbWVuc2lvbnMud2lkdGggKiBzY2FsZTtcbiAgICAgIGNvbnN0IHRvcFB4ID0gKDEgLSBib3R0b21Qb2ludCAvIFBERl9IRUlHSFRfUE9JTlRTKSAqIHBhZ2VEaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlO1xuICAgICAgcmV0dXJuIHsgbGVmdFB4LCB0b3BQeCB9O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xuXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XG5pbXBvcnQge1xuICBPdXRsaW5lTm9kZSxcbiAgT3V0bGluZVBvc2l0aW9uLFxuICBPdXRsaW5lUG9zaXRpb25zQnlQYWdlTnVtYmVyTWFwLFxuICBPdXRsaW5lVGFyZ2V0LFxuICBPdXRsaW5lVGFyZ2V0QXJncyxcbn0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9vdXRsaW5lJztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBsb2dQcm92aWRlcldhcm5pbmcgfSBmcm9tICcuLi91dGlscy9wcm92aWRlcic7XG5pbXBvcnQgeyBjYWxjdWxhdGVUYXJnZXRQb3NpdGlvbiB9IGZyb20gJy4uL3V0aWxzL3Njcm9sbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURvY3VtZW50Q29udGV4dCB7XG4gIG51bVBhZ2VzOiBudW1iZXI7XG4gIG51bVBhZ2VzTG9hZGVkOiBudW1iZXI7XG4gIG91dGxpbmU6IE51bGxhYmxlPEFycmF5PE91dGxpbmVOb2RlPj47XG4gIG91dGxpbmVQb3NpdGlvbnM6IE51bGxhYmxlPE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXA+O1xuICBwYWdlRGltZW5zaW9uczogRGltZW5zaW9uczsgLy8gU2NhbGVkIGF0IDEwMCVcbiAgcGRmRG9jUHJveHk/OiBwZGZqcy5QREZEb2N1bWVudFByb3h5O1xuICBnZXRPdXRsaW5lVGFyZ2V0czogKG9wdHM6IE91dGxpbmVUYXJnZXRBcmdzKSA9PiBPdXRsaW5lVGFyZ2V0W107XG4gIHNldE51bVBhZ2VzOiAobnVtUGFnZXM6IG51bWJlcikgPT4gdm9pZDtcbiAgc2V0TnVtUGFnZXNMb2FkZWQ6IChudW1QYWdlc0xvYWRlZDogbnVtYmVyIHwgKChwcmV2TnVtUGFnZXNMb2FkZWQ6IG51bWJlcikgPT4gbnVtYmVyKSkgPT4gdm9pZDtcbiAgc2V0T3V0bGluZTogKG91dGxpbmU6IE51bGxhYmxlPEFycmF5PE91dGxpbmVOb2RlPj4pID0+IHZvaWQ7XG4gIHNldE91dGxpbmVQb3NpdGlvbnM6IChvdXRsaW5lUG9zaXRpb25zOiBOdWxsYWJsZTxPdXRsaW5lUG9zaXRpb25zQnlQYWdlTnVtYmVyTWFwPikgPT4gdm9pZDtcbiAgc2V0UGFnZURpbWVuc2lvbnM6IChwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucykgPT4gdm9pZDtcbiAgc2V0UGRmRG9jUHJveHk6IChwZGZEb2NQcm94eTogcGRmanMuUERGRG9jdW1lbnRQcm94eSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IERvY3VtZW50Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SURvY3VtZW50Q29udGV4dD4oe1xuICBudW1QYWdlczogMCxcbiAgbnVtUGFnZXNMb2FkZWQ6IDAsXG4gIG91dGxpbmU6IFtdLFxuICBvdXRsaW5lUG9zaXRpb25zOiBudWxsLFxuICBwYWdlRGltZW5zaW9uczogeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0sXG4gIHBkZkRvY1Byb3h5OiB1bmRlZmluZWQsXG4gIGdldE91dGxpbmVUYXJnZXRzOiBvcHRzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGdldE91dGxpbmVUYXJnZXRzKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdEb2N1bWVudENvbnRleHQnKTtcbiAgICByZXR1cm4gW107XG4gIH0sXG4gIHNldE51bVBhZ2VzOiBudW1QYWdlcyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXROdW1QYWdlcygke251bVBhZ2VzfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XG4gIH0sXG4gIHNldE51bVBhZ2VzTG9hZGVkOiBudW1QYWdlcyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXROdW1QYWdlc0xvYWRlZCgke251bVBhZ2VzfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XG4gIH0sXG4gIHNldE91dGxpbmU6IG91dGxpbmUgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0T3V0bGluZSgke291dGxpbmV9KWAsICdEb2N1bWVudENvbnRleHQnKTtcbiAgfSxcbiAgc2V0T3V0bGluZVBvc2l0aW9uczogb3V0bGluZSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRPdXRsaW5lUG9zaXRpb25zKCR7b3V0bGluZX0pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xuICB9LFxuICBzZXRQYWdlRGltZW5zaW9uczogcGFnZURpbWVuc2lvbnMgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0UGFnZURpbWVuc2lvbnMoJHtwYWdlRGltZW5zaW9uc30pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xuICB9LFxuICBzZXRQZGZEb2NQcm94eTogcGRmRG9jUHJveHkgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0UGRmRG9jUHJveHkoJHtwZGZEb2NQcm94eX0pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xuICB9LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N1bWVudENvbnRleHRQcm9wcygpOiBJRG9jdW1lbnRDb250ZXh0IHtcbiAgY29uc3QgW251bVBhZ2VzLCBzZXROdW1QYWdlc10gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbbnVtUGFnZXNMb2FkZWQsIHNldE51bVBhZ2VzTG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtvdXRsaW5lLCBzZXRPdXRsaW5lXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPEFycmF5PE91dGxpbmVOb2RlPj4+KG51bGwpO1xuICBjb25zdCBbb3V0bGluZVBvc2l0aW9ucywgc2V0T3V0bGluZVBvc2l0aW9uc10gPVxuICAgIFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXA+PihudWxsKTtcbiAgY29uc3QgW3BhZ2VEaW1lbnNpb25zLCBzZXRQYWdlRGltZW5zaW9uc10gPSBSZWFjdC51c2VTdGF0ZTxEaW1lbnNpb25zPih7XG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICB9KTtcbiAgY29uc3QgW3BkZkRvY1Byb3h5LCBzZXRQZGZEb2NQcm94eV0gPSBSZWFjdC51c2VTdGF0ZTxwZGZqcy5QREZEb2N1bWVudFByb3h5PigpO1xuXG4gIC8vIERyYXcgb3V0bGluZSB0YXJnZXQgaW50byB0aGUgcGRmIGJhc2VkIG9uIHRoZSBhcmdzXG4gIGNvbnN0IGdldE91dGxpbmVUYXJnZXRzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHtcbiAgICAgIHBhZ2VOdW1iZXIsXG4gICAgICBwYWdlSW5kZXgsXG4gICAgICBzY2FsZSxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgcGFnZURpbWVuc2lvbnMsXG4gICAgfTogT3V0bGluZVRhcmdldEFyZ3MpOiBPdXRsaW5lVGFyZ2V0W10gPT4ge1xuICAgICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHBhZ2VOdW1iZXIgPSBwYWdlSW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCBwb3NpdGlvbnMgPSBvdXRsaW5lUG9zaXRpb25zPy5nZXQocGFnZU51bWJlcikgfHwgW107XG4gICAgICByZXR1cm4gcG9zaXRpb25zLm1hcCgoeyBkZXN0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50IH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBsZWZ0UHgsIHRvcFB4IH0gPSBjYWxjdWxhdGVUYXJnZXRQb3NpdGlvbih7XG4gICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgbGVmdFBvaW50LFxuICAgICAgICAgIGJvdHRvbVBvaW50LFxuICAgICAgICAgIHBhZ2VEaW1lbnNpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXN0LFxuICAgICAgICAgIGxlZnRQeCxcbiAgICAgICAgICB0b3BQeCxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW291dGxpbmVQb3NpdGlvbnNdXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBudW1QYWdlcyxcbiAgICBudW1QYWdlc0xvYWRlZCxcbiAgICBvdXRsaW5lLFxuICAgIG91dGxpbmVQb3NpdGlvbnMsXG4gICAgcGFnZURpbWVuc2lvbnMsXG4gICAgcGRmRG9jUHJveHksXG4gICAgZ2V0T3V0bGluZVRhcmdldHMsXG4gICAgc2V0TnVtUGFnZXMsXG4gICAgc2V0TnVtUGFnZXNMb2FkZWQsXG4gICAgc2V0T3V0bGluZSxcbiAgICBzZXRPdXRsaW5lUG9zaXRpb25zLFxuICAgIHNldFBhZ2VEaW1lbnNpb25zOiBzZXRQYWdlRGltZW5zaW9ucyxcbiAgICBzZXRQZGZEb2NQcm94eSxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1aWxkT3V0bGluZVBvc2l0aW9ucyhcbiAgcGRmRG9jUHJveHk6IHBkZmpzLlBERkRvY3VtZW50UHJveHksXG4gIG91dGxpbmU/OiBPdXRsaW5lTm9kZVtdXG4pOiBQcm9taXNlPE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXA+IHtcbiAgaWYgKCFvdXRsaW5lKSB7XG4gICAgb3V0bGluZSA9IGF3YWl0IHBkZkRvY1Byb3h5LmdldE91dGxpbmUoKTtcbiAgfVxuXG4gIC8vIERlcHRoIGZpcnN0IHNlYXJjaCB0aHJvdWdoIG91dGxpbmUgaXRlbXNcbiAgY29uc3QgaXRlbVF1ZXVlID0gb3V0bGluZS5zbGljZSgpO1xuICBjb25zdCBwcm9tczogUHJvbWlzZTxOdWxsYWJsZTxPdXRsaW5lUG9zaXRpb24+PltdID0gW107XG4gIHdoaWxlIChpdGVtUXVldWUubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGl0ZW0gPSBpdGVtUXVldWUucG9wKCk7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBjb250aW51ZTsgLy8gTm90IGFibGUgdG8gcHJvY2Vzc1xuICAgIH1cbiAgICBjb25zdCB7IGRlc3QsIGl0ZW1zIH0gPSBpdGVtO1xuXG4gICAgLy8gQWRkIGNoaWxkIGl0ZW1zIHRvIHF1ZXVlXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICBpdGVtUXVldWUucHVzaCguLi5pdGVtcyk7XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggZGVzdGluYXRpb25zIGZvciBpdGVtXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVzdCkpIHtcbiAgICAgIHByb21zLnB1c2goLi4uZGVzdC5tYXAoZGVzdCA9PiBnZXREZXN0aW5hdGlvbihwZGZEb2NQcm94eSwgZGVzdCkpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgcHJvbXMucHVzaChnZXREZXN0aW5hdGlvbihwZGZEb2NQcm94eSwgZGVzdCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbGxlY3QgcmVzdWx0cyBhbGwgYXQgb25jZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byBwYXkgZm9yIHRoZSBjb3N0IG9mXG4gIC8vIHF1ZXVlaW5nIG1lc3NhZ2VzIHNlbnQgdG8gdGhlIHdvcmtlclxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbXMpO1xuXG4gIC8vIFNwbGl0IHJlc3VsdHMgaW50byBwYWdlc1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPG51bWJlciwgT3V0bGluZVBvc2l0aW9uW10+KCk7XG4gIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgY29udGludWU7IC8vIEZpbHRlciBvdXQgbnVsbFxuICAgIH1cbiAgICBjb25zdCB7IHBhZ2VOdW1iZXIgfSA9IHJlc3VsdDtcbiAgICBpZiAoIW1hcC5oYXMocGFnZU51bWJlcikpIHtcbiAgICAgIG1hcC5zZXQocGFnZU51bWJlciwgW10pO1xuICAgIH1cbiAgICBtYXAuZ2V0KHBhZ2VOdW1iZXIpPy5wdXNoKHJlc3VsdCk7XG4gIH1cblxuICAvLyBGcmVlemUgb2JqZWN0cyBzbyBjb25zdW1lcnMgY2Fubm90IG11dGF0ZVxuICBmb3IgKGNvbnN0IHBhZ2VQb3Mgb2YgbWFwLnZhbHVlcygpKSB7XG4gICAgZm9yIChjb25zdCBwb3Mgb2YgcGFnZVBvcykge1xuICAgICAgT2JqZWN0LmZyZWV6ZShwb3MpO1xuICAgIH1cbiAgICBPYmplY3QuZnJlZXplKHBhZ2VQb3MpO1xuICB9XG4gIE9iamVjdC5mcmVlemUobWFwKTtcblxuICByZXR1cm4gbWFwO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXREZXN0aW5hdGlvbihcbiAgcGRmRG9jUHJveHk6IHBkZmpzLlBERkRvY3VtZW50UHJveHksXG4gIGRlc3Q6IHN0cmluZ1xuKTogUHJvbWlzZTxOdWxsYWJsZTxPdXRsaW5lUG9zaXRpb24+PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBkZkRvY1Byb3h5LmdldERlc3RpbmF0aW9uKGRlc3QpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBjb25zdCBbcmVmLCBfZm9ybWF0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50XSA9IHJlc3VsdDtcbiAgY29uc3QgcGFnZUluZGV4ID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0UGFnZUluZGV4KHJlZik7XG4gIGNvbnN0IHBhZ2VOdW1iZXIgPSBwYWdlSW5kZXggKyAxO1xuICByZXR1cm4geyBwYWdlTnVtYmVyLCBkZXN0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50IH07XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGxvZ1Byb3ZpZGVyV2FybmluZyB9IGZyb20gJy4uL3V0aWxzL3Byb3ZpZGVyJztcbmltcG9ydCB7IFBhZ2VSb3RhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3JvdGF0ZSc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1pPT01fU0NBTEUgPSAxLjA7XG5leHBvcnQgaW50ZXJmYWNlIElUcmFuc2Zvcm1Db250ZXh0IHtcbiAgcGl4ZWxSYXRpbzogbnVtYmVyO1xuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uO1xuICBzY2FsZTogbnVtYmVyO1xuICB6b29tSW5jcmVtZW50VmFsdWU6IG51bWJlcjtcbiAgc2V0UGl4ZWxSYXRpbzogKGRldmljZVBpeGVsUmF0aW86IG51bWJlcikgPT4gdm9pZDtcbiAgc2V0Um90YXRpb246IChyb3RhdGlvbjogUGFnZVJvdGF0aW9uKSA9PiB2b2lkO1xuICBzZXRTY2FsZTogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XG4gIHNldFpvb21JbmNyZW1lbnRWYWx1ZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm1Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxJVHJhbnNmb3JtQ29udGV4dD4oe1xuICBwaXhlbFJhdGlvOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IG51bGwpIHx8IDEsXG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb24uUm90YXRlMCxcbiAgc2NhbGU6IDEsXG4gIHpvb21JbmNyZW1lbnRWYWx1ZTogMC4yLFxuICBzZXRQaXhlbFJhdGlvOiBwaXhlbFJhdGlvID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFBpeGVsUmF0aW8oJHtwaXhlbFJhdGlvfSlgLCAnVHJhbnNmb3JtQ29udGV4dCcpO1xuICB9LFxuICBzZXRSb3RhdGlvbjogcm90YXRpb24gPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0Um90YXRpb24oJHtyb3RhdGlvbn0pYCwgJ1RyYW5zZm9ybUNvbnRleHQnKTtcbiAgfSxcbiAgc2V0U2NhbGU6IHNjYWxlID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFNjYWxlKCR7c2NhbGV9KWAsICdUcmFuc2Zvcm1Db250ZXh0Jyk7XG4gIH0sXG4gIHNldFpvb21JbmNyZW1lbnRWYWx1ZTogdmFsdWUgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0Wm9vbUluY3JlbWVudFZhbHVlKCR7dmFsdWV9KWAsICdUcmFuc2Zvcm1Db250ZXh0Jyk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRyYW5zZm9ybUNvbnRleHRQcm9wcygpOiBJVHJhbnNmb3JtQ29udGV4dCB7XG4gIGNvbnN0IFtwaXhlbFJhdGlvLCBzZXRQaXhlbFJhdGlvXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiBudWxsKSB8fCAxXG4gICk7XG4gIGNvbnN0IFtyb3RhdGlvbiwgc2V0Um90YXRpb25dID0gUmVhY3QudXNlU3RhdGU8UGFnZVJvdGF0aW9uPihQYWdlUm90YXRpb24uUm90YXRlMCk7XG4gIGNvbnN0IFtzY2FsZSwgc2V0U2NhbGVdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPihERUZBVUxUX1pPT01fU0NBTEUpO1xuICBjb25zdCBbem9vbUluY3JlbWVudFZhbHVlLCBzZXRab29tSW5jcmVtZW50VmFsdWVdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigwLjIpO1xuXG4gIHJldHVybiB7XG4gICAgcGl4ZWxSYXRpbyxcbiAgICByb3RhdGlvbixcbiAgICBzY2FsZSxcbiAgICBzZXRQaXhlbFJhdGlvLFxuICAgIHNldFJvdGF0aW9uLFxuICAgIHNldFNjYWxlLFxuICAgIHpvb21JbmNyZW1lbnRWYWx1ZSxcbiAgICBzZXRab29tSW5jcmVtZW50VmFsdWUsXG4gIH07XG59XG4iLCJpbXBvcnQgeyBEaW1lbnNpb25zLCBTaXplIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XG5pbXBvcnQgeyBpc1NpZGV3YXlzLCBQYWdlUm90YXRpb24gfSBmcm9tICcuL3JvdGF0ZSc7XG5cbi8vIENvbXB1dGVzIHRoZSBzdHlsZSBmb3IgYSBib3VuZGluZyBib3gsIGFjY291bnRpbmcgZm9yIHBhZ2Ugcm9hdGlvbiBhbmQgcGFnZSBzY2FsaW5nL3pvb21cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQm91bmRpbmdCb3hTdHlsZShcbiAgYm91bmRpbmdCb3hTaXplOiBTaXplLFxuICBwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucyxcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbixcbiAgc2NhbGU6IG51bWJlclxuKTogU2l6ZSB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBoZWlnaHQsIHdpZHRoIH0gPSBib3VuZGluZ0JveFNpemU7XG5cbiAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTkwOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBsZWZ0ICogc2NhbGUsXG4gICAgICAgIGxlZnQ6IChwYWdlRGltZW5zaW9ucy5oZWlnaHQgLSBoZWlnaHQgLSB0b3ApICogc2NhbGUsXG4gICAgICAgIGhlaWdodDogd2lkdGggKiBzY2FsZSxcbiAgICAgICAgd2lkdGg6IGhlaWdodCAqIHNjYWxlLFxuICAgICAgfTtcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGUxODA6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IChwYWdlRGltZW5zaW9ucy5oZWlnaHQgLSBoZWlnaHQgLSB0b3ApICogc2NhbGUsXG4gICAgICAgIGxlZnQ6IChwYWdlRGltZW5zaW9ucy53aWR0aCAtIHdpZHRoIC0gbGVmdCkgKiBzY2FsZSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiBzY2FsZSxcbiAgICAgICAgd2lkdGg6IHdpZHRoICogc2NhbGUsXG4gICAgICB9O1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogKHBhZ2VEaW1lbnNpb25zLndpZHRoIC0gd2lkdGggLSBsZWZ0KSAqIHNjYWxlLFxuICAgICAgICBsZWZ0OiB0b3AgKiBzY2FsZSxcbiAgICAgICAgaGVpZ2h0OiB3aWR0aCAqIHNjYWxlLFxuICAgICAgICB3aWR0aDogaGVpZ2h0ICogc2NhbGUsXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCAqIHNjYWxlLFxuICAgICAgICBsZWZ0OiBsZWZ0ICogc2NhbGUsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ICogc2NhbGUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCAqIHNjYWxlLFxuICAgICAgfTtcbiAgfVxufVxuXG4vLyBDb21wdXRlIHRoZSBzdHlsZSBmb3IgYSBwYWdlLCBhY2NvdW50aW5nIGZvciBwYWdlIHJvdGF0aW9uIGFuZCBwYWdlIHNjYWxpbmcvem9vbVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQYWdlU3R5bGUoXG4gIHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zLFxuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uLFxuICBzY2FsZTogbnVtYmVyXG4pOiBTaXplIHtcbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGdldFBhZ2VIZWlnaHQocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uKSAqIHNjYWxlLFxuICAgIHdpZHRoOiBnZXRQYWdlV2lkdGgocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uKSAqIHNjYWxlLFxuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwLFxuICB9O1xufVxuXG4vLyBHZXQgcGFnZSBoZWlnaHQgYWNjb3VudGluZyBmb3IgcGFnZSByb3RhdGlvbi0gaWYgdGhlIHBhZ2UgaXMgcm90YXRlZCBvbiBpdHMgc2lkZSwgaXRzIHdpZHRoIGJlY29tZXMgaXRzIGhlaWdodFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VIZWlnaHQocGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnMsIHJvdGF0aW9uOiBQYWdlUm90YXRpb24pOiBudW1iZXIge1xuICByZXR1cm4gaXNTaWRld2F5cyhyb3RhdGlvbikgPyBwYWdlRGltZW5zaW9ucy53aWR0aCA6IHBhZ2VEaW1lbnNpb25zLmhlaWdodDtcbn1cblxuLy8gR2V0IHBhZ2Ugd2lkdGggYWNjb3VudGluZyBmb3IgcGFnZSByb3RhdGlvbi0gaWYgdGhlIHBhZ2UgaXMgcm90YXRlZCBvbiBpdHMgc2lkZSwgaXRzIGhlaWdodCBiZWNvbWVzIGl0cyB3aWR0aFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VXaWR0aChwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucywgcm90YXRpb246IFBhZ2VSb3RhdGlvbik6IG51bWJlciB7XG4gIHJldHVybiBpc1NpZGV3YXlzKHJvdGF0aW9uKSA/IHBhZ2VEaW1lbnNpb25zLmhlaWdodCA6IHBhZ2VEaW1lbnNpb25zLndpZHRoO1xufVxuIiwiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUgfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCBhcyBCb3VuZGluZ0JveFR5cGUgfSBmcm9tICcuL3R5cGVzL2JvdW5kaW5nQm94JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdW5kZXJsaW5lQ2xhc3NOYW1lPzogc3RyaW5nO1xuICBpZD86IHN0cmluZztcbiAgaXNIaWdobGlnaHRlZD86IGJvb2xlYW47XG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICB2b2ljZU92ZXJMYWJlbD86IHN0cmluZztcbn0gJiBCb3VuZGluZ0JveFR5cGU7XG5cbmV4cG9ydCBjb25zdCBCb3VuZGluZ0JveDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgdG9wLFxuICBsZWZ0LFxuICBoZWlnaHQsXG4gIHdpZHRoLFxuICBjbGFzc05hbWUsXG4gIHVuZGVybGluZUNsYXNzTmFtZSxcbiAgaWQsXG4gIGlzSGlnaGxpZ2h0ZWQsXG4gIG9uQ2xpY2ssXG4gIHZvaWNlT3ZlckxhYmVsLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHBhZ2VEaW1lbnNpb25zIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgcm90YXRpb24sIHNjYWxlIH0gPSBSZWFjdC51c2VDb250ZXh0KFRyYW5zZm9ybUNvbnRleHQpO1xuICBjb25zdCBib3hTaXplID0geyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfTtcbiAgY29uc3QgY29tcG9uZW50Q2xhc3NOYW1lID0gY2xhc3NOYW1lcyhcbiAgICAncGRmLXJlYWRlcl9fb3ZlcmxheS1ib3VuZGluZy1ib3gnLFxuICAgIGlzSGlnaGxpZ2h0ZWQgPT09IHRydWUgPyAncGRmLXJlYWRlcl9fb3ZlcmxheS1ib3VuZGluZy1ib3gtaGlnaGxpZ2h0ZWQnIDogJycsXG4gICAgY2xhc3NOYW1lXG4gICk7XG5cbiAgY29uc3QgZ2V0Qm91bmRpbmdCb3hTdHlsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUoYm94U2l6ZSwgcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSk7XG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XG5cbiAgY29uc3Qgcm90YXRpb25DbGFzc05hbWUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGByb3RhdGUke3JvdGF0aW9ufWA7XG4gIH0sIFtyb3RhdGlvbl0pO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BwZGYtcmVhZGVyX19vdmVybGF5LWJvdW5kaW5nLWJveC11bmRlcmxpbmUgJHtcbiAgICAgICAgICB1bmRlcmxpbmVDbGFzc05hbWUgfHwgcm90YXRpb25DbGFzc05hbWUoKVxuICAgICAgICB9YH1cbiAgICAgICAgc3R5bGU9e2dldEJvdW5kaW5nQm94U3R5bGUoKX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGlkPXtpZH1cbiAgICAgICAgY2xhc3NOYW1lPXtgJHtjb21wb25lbnRDbGFzc05hbWV9ICR7cm90YXRpb25DbGFzc05hbWUoKX1gfVxuICAgICAgICBzdHlsZT17Z2V0Qm91bmRpbmdCb3hTdHlsZSgpfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICAgIGFyaWEtbGFiZWw9e3ZvaWNlT3ZlckxhYmVsfVxuICAgICAgICB7Li4uZXh0cmFQcm9wc31cbiAgICAgIC8+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xuXG5leHBvcnQgZW51bSBTY3JvbGxEaXJlY3Rpb24ge1xuICBVUCA9ICdVUCcsXG4gIERPV04gPSAnRE9XTicsXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JvbGxEZXRlY3RvciB7XG4gIF9sYXN0U2Nyb2xsVG9wOiBudW1iZXI7XG4gIF9sYXN0U2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xuICBfZWw6IEVsZW1lbnQ7XG4gIF9zZXRTY3JvbGxEaXJlY3Rpb246IChzY3JvbGxEaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbikgPT4gYW55O1xuICBfbGFzdFNjcm9sbFRvcEJlZm9yZURpcmVjdGlvbkNoYW5nZTogbnVtYmVyO1xuICBfc2Nyb2xsVGhyZXNob2xkPzogbnVtYmVyO1xuICBfaXNTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb246IE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj47XG4gIF9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24/OiAoc2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+KSA9PiBhbnk7XG4gIF9pc0F0VG9wOiBOdWxsYWJsZTxib29sZWFuPjtcbiAgX3NldElzQXRUb3A6IChpc0F0VG9wOiBib29sZWFuKSA9PiBhbnk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZWw6IEVsZW1lbnQsXG4gICAgc2V0U2Nyb2xsRGlyZWN0aW9uOiAoc2Nyb2xsRGlyZWN0aW9uOiBTY3JvbGxEaXJlY3Rpb24pID0+IGFueSxcbiAgICBzZXRJc0F0VG9wOiAoaXNBdFRvcDogYm9vbGVhbikgPT4gYW55LFxuICAgIHNldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbj86IChzY3JvbGxEaXJlY3Rpb246IE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4pID0+IGFueSxcbiAgICBzY3JvbGxUaHJlc2hvbGQ/OiBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5fZWwgPSBlbDtcbiAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wID0gdGhpcy5fZWwuc2Nyb2xsVG9wO1xuICAgIHRoaXMuX2xhc3RTY3JvbGxEaXJlY3Rpb24gPSBudWxsO1xuICAgIHRoaXMuX3NldFNjcm9sbERpcmVjdGlvbiA9IHNldFNjcm9sbERpcmVjdGlvbjtcbiAgICB0aGlzLl9pc0F0VG9wID0gbnVsbDtcbiAgICB0aGlzLl9zZXRJc0F0VG9wID0gc2V0SXNBdFRvcDtcbiAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wQmVmb3JlRGlyZWN0aW9uQ2hhbmdlID0gdGhpcy5fZWwuc2Nyb2xsVG9wO1xuICAgIHRoaXMuX3Njcm9sbFRocmVzaG9sZCA9IHNjcm9sbFRocmVzaG9sZDtcblxuICAgIHRoaXMuX2lzU2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSBzZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb247XG4gIH1cblxuICBhdHRhY2hTY3JvbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fZWw/LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLCBmYWxzZSk7XG4gIH1cblxuICBkZXRhY2hTY3JvbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fZWw/LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJykge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLCBmYWxzZSk7XG4gIH1cblxuICBfb25TY3JvbGwgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgY3VyclNjcm9sbFRvcCA9IHRoaXMuX2VsLnNjcm9sbFRvcDtcbiAgICBpZiAodGhpcy5faXNBdFRvcCAhPT0gKGN1cnJTY3JvbGxUb3AgPT09IDApKSB7XG4gICAgICB0aGlzLl9pc0F0VG9wID0gY3VyclNjcm9sbFRvcCA9PT0gMDtcbiAgICAgIHRoaXMuX3NldElzQXRUb3AoY3VyclNjcm9sbFRvcCA9PT0gMCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9sYXN0U2Nyb2xsVG9wID09PSBjdXJyU2Nyb2xsVG9wKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIGRpcmVjdGlvblxuICAgIGNvbnN0IGN1cnJTY3JvbGxEaXJlY3Rpb24gPSAoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJTY3JvbGxUb3AgPD0gMCkge1xuICAgICAgICByZXR1cm4gU2Nyb2xsRGlyZWN0aW9uLkRPV047XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fbGFzdFNjcm9sbFRvcCA8IGN1cnJTY3JvbGxUb3AgPyBTY3JvbGxEaXJlY3Rpb24uRE9XTiA6IFNjcm9sbERpcmVjdGlvbi5VUDtcbiAgICB9KSgpO1xuXG4gICAgLy8gVXBkYXRlIHN0YXRlLCBpZiBjaGFuZ2VkXG4gICAgdGhpcy5fbGFzdFNjcm9sbFRvcCA9IGN1cnJTY3JvbGxUb3A7XG4gICAgaWYgKHRoaXMuX2xhc3RTY3JvbGxEaXJlY3Rpb24gIT09IGN1cnJTY3JvbGxEaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xhc3RTY3JvbGxEaXJlY3Rpb24gPSBjdXJyU2Nyb2xsRGlyZWN0aW9uO1xuICAgICAgdGhpcy5fc2V0U2Nyb2xsRGlyZWN0aW9uKGN1cnJTY3JvbGxEaXJlY3Rpb24pO1xuXG4gICAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wQmVmb3JlRGlyZWN0aW9uQ2hhbmdlID0gY3VyclNjcm9sbFRvcDtcbiAgICAgIHRoaXMuX2lzU2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gJiYgIXRoaXMuX2lzQXRUb3ApIHtcbiAgICAgICAgdGhpcy5fc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uKG51bGwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsVGhyZXNob2xkICYmIHRoaXMuX3NldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBzY3JvbGxlZEFtb3VudCA9IE1hdGguYWJzKHRoaXMuX2xhc3RTY3JvbGxUb3BCZWZvcmVEaXJlY3Rpb25DaGFuZ2UgLSBjdXJyU2Nyb2xsVG9wKTtcbiAgICAgICAgaWYgKHNjcm9sbGVkQW1vdW50ID49IHRoaXMuX3Njcm9sbFRocmVzaG9sZCkge1xuICAgICAgICAgIHRoaXMuX2lzU2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uID0gdGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbjtcbiAgICAgICAgICB0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24odGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4iLCJjb25zdCBERUZBVUxUX1JPT1RfTUFSR0lOID0gJzUwcHgnO1xuY29uc3QgREVGQVVMVF9USFJFU0hPTEQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDEgfSkubWFwKChfLCBpKSA9PiBpIC8gMTAwKTtcblxuZXhwb3J0IHR5cGUgU2V0VmlzaWJsZUVudHJpZXNDYWxsYmFjazxURW50cnk+ID0gKFxuICB2aXNpYmxlOiBNYXA8VEVudHJ5LCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPlxuKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgb25WaXNpYmxlRW50cmllc0NoYW5nZUNhbGxiYWNrPFRFbnRyeT4gPSAoYXJnczoge1xuICB2aXNpYmxlRW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdO1xuICBoaWRkZW5FbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W107XG4gIGxhc3RFbnRyaWVzOiBNYXA8VEVudHJ5LCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjtcbn0pID0+IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xuXG5leHBvcnQgdHlwZSBWaXNpYmxlRW50cnlEZXRhaWxUeXBlID0ge1xuICByYXRpbzogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8VEVudHJ5PiB7XG4gIF9yb290OiBFbGVtZW50O1xuICBfb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyO1xuICBfbGFzdFZpc2libGVFbnRyaWVzOiBNYXA8VEVudHJ5LCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjtcbiAgX3NldFZpc2libGVFbnRyaWVzOiBTZXRWaXNpYmxlRW50cmllc0NhbGxiYWNrPFRFbnRyeT47XG4gIF9vblZpc2libGVFbnRyaWVzQ2hhbmdlOiBvblZpc2libGVFbnRyaWVzQ2hhbmdlQ2FsbGJhY2s8VEVudHJ5PjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcm9vdCxcbiAgICB0aHJlc0hvbGQsXG4gICAgc2V0VmlzaWJsZUVudHJpZXMsXG4gICAgb25WaXNpYmxlRW50cmllc0NoYW5nZSxcbiAgfToge1xuICAgIHJvb3Q6IEVsZW1lbnQ7XG4gICAgdGhyZXNIb2xkPzogbnVtYmVyIHwgQXJyYXk8bnVtYmVyPjtcbiAgICBzZXRWaXNpYmxlRW50cmllczogU2V0VmlzaWJsZUVudHJpZXNDYWxsYmFjazxURW50cnk+O1xuICAgIG9uVmlzaWJsZUVudHJpZXNDaGFuZ2U6IG9uVmlzaWJsZUVudHJpZXNDaGFuZ2VDYWxsYmFjazxURW50cnk+O1xuICB9KSB7XG4gICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgdGhpcy5fbGFzdFZpc2libGVFbnRyaWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX3NldFZpc2libGVFbnRyaWVzID0gc2V0VmlzaWJsZUVudHJpZXM7XG4gICAgdGhpcy5fb25WaXNpYmxlRW50cmllc0NoYW5nZSA9IG9uVmlzaWJsZUVudHJpZXNDaGFuZ2U7XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICBlbnRyaWVzID0+IHtcbiAgICAgICAgLy8gQ29sbGVjdCB2aXNpYmxlIGFuZCBoaWRkZW4gZWxlbWVudHNcbiAgICAgICAgY29uc3QgdmlzaWJsZUVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIGNvbnN0IGhpZGRlbkVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihlbnRyeSA9PiAhZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGF0IG5lZWRzIHNhdmVkXG4gICAgICAgIGNvbnN0IG5ld1Zpc2libGVFbnRyaWVzID0gdGhpcy5fb25WaXNpYmxlRW50cmllc0NoYW5nZSh7XG4gICAgICAgICAgdmlzaWJsZUVudHJpZXMsXG4gICAgICAgICAgaGlkZGVuRW50cmllcyxcbiAgICAgICAgICBsYXN0RW50cmllczogdGhpcy5fbGFzdFZpc2libGVFbnRyaWVzLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBmcm96ZW5FbnRyaWVzID0gbmV3IE1hcChuZXdWaXNpYmxlRW50cmllcyk7XG4gICAgICAgIE9iamVjdC5mcmVlemUoZnJvemVuRW50cmllcyk7XG4gICAgICAgIHRoaXMuX2xhc3RWaXNpYmxlRW50cmllcyA9IGZyb3plbkVudHJpZXM7XG4gICAgICAgIHRoaXMuX3NldFZpc2libGVFbnRyaWVzKGZyb3plbkVudHJpZXMpO1xuICAgICAgfSxcblxuICAgICAgLy8gRGVmYXVsdCBzZXR0aW5nIGZvciBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcbiAgICAgIHtcbiAgICAgICAgcm9vdDogdGhpcy5fcm9vdC50YWdOYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnaHRtbCcgPyBudWxsIDogdGhpcy5fcm9vdCxcbiAgICAgICAgcm9vdE1hcmdpbjogREVGQVVMVF9ST09UX01BUkdJTixcbiAgICAgICAgdGhyZXNob2xkOiB0aHJlc0hvbGQgPyB0aHJlc0hvbGQgOiBERUZBVUxUX1RIUkVTSE9MRCxcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgb2JzZXJ2ZU5vZGVzKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5fcm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZShub2RlKTtcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL291dGxpbmUnO1xuaW1wb3J0IHsgUGFnZU51bWJlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvcGFnZSc7XG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xuaW1wb3J0IHsgbG9nUHJvdmlkZXJXYXJuaW5nIH0gZnJvbSAnLi4vdXRpbHMvcHJvdmlkZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXggfSBmcm9tICcuLi91dGlscy9zY3JvbGwnO1xuaW1wb3J0IFNjcm9sbERldGVjdG9yLCB7IFNjcm9sbERpcmVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL1Njcm9sbERpcmVjdGlvbkRldGVjdG9yJztcbmltcG9ydCBWaXNpYmxlRW50cmllc0RldGVjdG9yLCB7IFZpc2libGVFbnRyeURldGFpbFR5cGUgfSBmcm9tICcuLi91dGlscy9WaXNpYmxlRW50cmllc0RldGVjdG9yJztcblxuY29uc3QgT1VUTElORV9BVFRSSUJVVEUgPSAnZGF0YS1vdXRsaW5lLXRhcmdldC1kZXN0JztcblxuY29uc3QgT1VUTElORV9TRUxFQ1RPUiA9ICcucGRmLXJlYWRlcl9fcGFnZV9fb3V0bGluZS10YXJnZXQnO1xuXG5jb25zdCBQQUdFX05VTUJFUl9BVFRSSUJVVEUgPSAnZGF0YS1wYWdlLW51bWJlcic7XG5cbmNvbnN0IFBBR0VfTlVNQkVSX1NFTEVDVE9SID0gYC5wZGYtcmVhZGVyX19wYWdlWyR7UEFHRV9OVU1CRVJfQVRUUklCVVRFfV1gO1xuXG5jb25zdCBERUZBVUxUX1BBR0VfU0NST0xMRURfSU5UT19WSUVXX1RIUkVTSE9MRCA9IDAuMTtcblxuY29uc3QgRU1QVFlfTlVNQkVSX1RPX1ZJU0lCTEVfRU5UUllfREVUQUlMX01BUCA9IE9iamVjdC5mcmVlemUoXG4gIG5ldyBNYXA8bnVtYmVyLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPigpXG4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTY3JvbGxDb250ZXh0IHtcbiAgaXNPdXRsaW5lVGFyZ2V0VmlzaWJsZTogKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbikgPT4gYm9vbGVhbjtcbiAgaXNQYWdlVmlzaWJsZTogKHBhZ2VOdW1iZXI6IFBhZ2VOdW1iZXIpID0+IGJvb2xlYW47XG4gIHNjcm9sbERpcmVjdGlvbjogTnVsbGFibGU8U2Nyb2xsRGlyZWN0aW9uPjtcbiAgdmlzaWJsZU91dGxpbmVUYXJnZXRzOiBNYXA8Tm9kZURlc3RpbmF0aW9uLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjsgLy8gbWFwcGluZyBub2RlIGRlc3RpbmF0aW9uIHdpdGggdGhlaXIgaW50ZXJzZWN0aW9uIHJhdGlvXG4gIHZpc2libGVQYWdlUmF0aW9zOiBNYXA8bnVtYmVyLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjsgLy8gbWFwcGluZyBwYWdlIG51bWJlciB3aXRoIHRoZWlyIGludGVyc2VjdGlvbiByYXRpb1xuICByZXNldFNjcm9sbE9ic2VydmVyczogKCkgPT4gdm9pZDtcbiAgc2Nyb2xsUm9vdDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+O1xuICBzZXRTY3JvbGxSb290OiAocm9vdDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkO1xuICBzY3JvbGxUb091dGxpbmVUYXJnZXQ6IChkZXN0OiBOb2RlRGVzdGluYXRpb24pID0+IHZvaWQ7XG4gIHNldFNjcm9sbFRocmVzaG9sZDogKHNjcm9sbFRocmVzaG9sZDogTnVsbGFibGU8bnVtYmVyPikgPT4gdm9pZDtcbiAgc2Nyb2xsVG9QYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gdm9pZDtcbiAgdXBkYXRlU2Nyb2xsUG9zaXRpb246ICh6b29tTXVsdGlwbGllcjogbnVtYmVyKSA9PiB2b2lkO1xuICBzZXRJc091dGxpbmVDbGlja2VkOiAoaXNPdXRsaW5lR2V0Q2xpY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xuICBpc0F0VG9wOiBOdWxsYWJsZTxib29sZWFuPjtcbiAgaXNPdXRsaW5lQ2xpY2tlZDogTnVsbGFibGU8Ym9vbGVhbj47XG4gIHBhZ2VzU2Nyb2xsZWRJbnRvVmlldzogTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47IC8vIG1hcHBpbmcgcGFnZSBudW1iZXIgd2l0aCB0aGVpciBpbnRlcnNlY3Rpb24gcmF0aW9cbiAgc2V0UGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGQ6ICh0aHJlc2hvbGQ6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuY29uc3QgREVGQVVMVF9DT05URVhUOiBJU2Nyb2xsQ29udGV4dCA9IHtcbiAgc2Nyb2xsRGlyZWN0aW9uOiBudWxsLFxuICB2aXNpYmxlT3V0bGluZVRhcmdldHM6IG5ldyBNYXAoKSxcbiAgdmlzaWJsZVBhZ2VSYXRpb3M6IG5ldyBNYXAoKSxcbiAgaXNPdXRsaW5lVGFyZ2V0VmlzaWJsZTogb3B0cyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc091dGxpbmVUYXJnZXRWaXNpYmxlKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1BhZ2VWaXNpYmxlOiBvcHRzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGlzUGFnZVZpc2libGUoJHtKU09OLnN0cmluZ2lmeShvcHRzKX0pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzOiAoKSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGByZXNldFNjcm9sbE9ic2VydmVycygpYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgfSxcbiAgc2Nyb2xsUm9vdDogPEhUTUxFbGVtZW50Pnt9LFxuICBzZXRTY3JvbGxSb290OiAoX2VsOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4pID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFNjcm9sbFJvb3QoLi4uKWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG4gIHNjcm9sbFRvT3V0bGluZVRhcmdldDogZGVzdCA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzY3JvbGxUb091dGxpbmVUYXJnZXQoJHtkZXN0fSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICB9LFxuICBzZXRTY3JvbGxUaHJlc2hvbGQ6IChzY3JvbGxUaHJlc2hvbGQ6IE51bGxhYmxlPG51bWJlcj4pID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFNjcm9sbFRocmVzaG9sZCgke3Njcm9sbFRocmVzaG9sZH0pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgfSxcbiAgc2Nyb2xsVG9QYWdlOiBvcHRzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNjcm9sbFRvUGFnZSgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICB9LFxuICB1cGRhdGVTY3JvbGxQb3NpdGlvbjogem9vbU11bHRpcGxpZXIgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgdXBkYXRlU2Nyb2xsUG9zaXRpb24oJHtKU09OLnN0cmluZ2lmeSh6b29tTXVsdGlwbGllcil9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG4gIHNldElzT3V0bGluZUNsaWNrZWQ6IG9wdHMgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNPdXRsaW5lR2V0Q2xpY2tlZCgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICB9LFxuICBzY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb246IG51bGwsXG4gIGlzQXRUb3A6IG51bGwsXG4gIGlzT3V0bGluZUNsaWNrZWQ6IG51bGwsXG4gIHBhZ2VzU2Nyb2xsZWRJbnRvVmlldzogbmV3IE1hcCgpLFxuICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZDogKHRocmVzaG9sZDogbnVtYmVyKSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBwYWdlc1Njcm9sbGVkSW50b1ZpZXcoJHt0aHJlc2hvbGR9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU2Nyb2xsQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SVNjcm9sbENvbnRleHQ+KERFRkFVTFRfQ09OVEVYVCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTY3JvbGxDb250ZXh0UHJvcHMoKTogSVNjcm9sbENvbnRleHQge1xuICAvLyBOb2RlIHVzZWQgZm9yIG9ic2VydmluZyB0aGUgc2Nyb2xsIHBvc2l0aW9uXG4gIGNvbnN0IFtzY3JvbGxSb290LCBzZXRTY3JvbGxSb290XSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPEhUTUxFbGVtZW50Pj4obnVsbCk7XG5cbiAgLy8gRGV0ZXJtaW5lIHNjcm9sbCBkaXJlY3Rpb25cbiAgY29uc3QgW3Njcm9sbERpcmVjdGlvbiwgc2V0U2Nyb2xsRGlyZWN0aW9uXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4+KG51bGwpO1xuICBjb25zdCBbc2Nyb2xsVGhyZXNob2xkLCBzZXRTY3JvbGxUaHJlc2hvbGRdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8bnVtYmVyPj4obnVsbCk7XG4gIGNvbnN0IFtzY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24sIHNldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbl0gPVxuICAgIFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4+KG51bGwpO1xuICBjb25zdCBbaXNBdFRvcCwgc2V0SXNBdFRvcF0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxib29sZWFuPj4obnVsbCk7XG4gIGNvbnN0IFtpc091dGxpbmVDbGlja2VkLCBzZXRJc091dGxpbmVDbGlja2VkXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPGJvb2xlYW4+PihudWxsKTtcblxuICBjb25zdCBbcGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGQsIHNldFBhZ2VTY3JvbGxlZEludG9WaWV3VGhyZXNob2xkXSA9IFJlYWN0LnVzZVN0YXRlKFxuICAgIERFRkFVTFRfUEFHRV9TQ1JPTExFRF9JTlRPX1ZJRVdfVEhSRVNIT0xEXG4gICk7XG5cbiAgY29uc3QgW3BhZ2VzU2Nyb2xsZWRJbnRvVmlldywgc2V0UGFnZXNTY3JvbGxlZEludG9WaWV3XSA9IFJlYWN0LnVzZVN0YXRlPFxuICAgIE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+XG4gID4oKCkgPT4gRU1QVFlfTlVNQkVSX1RPX1ZJU0lCTEVfRU5UUllfREVUQUlMX01BUCk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxFbGVtID0gc2Nyb2xsUm9vdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKCFzY3JvbGxFbGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNjcm9sbERpcmVjdGlvbkRldGVjdG9yOiBTY3JvbGxEZXRlY3RvcjtcbiAgICBpZiAoIXNjcm9sbFRocmVzaG9sZCkge1xuICAgICAgLy8gc2Nyb2xsIHRocmVzaG9sZCBpcyBvcHRpb25hbFxuICAgICAgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IgPSBuZXcgU2Nyb2xsRGV0ZWN0b3Ioc2Nyb2xsRWxlbSwgc2V0U2Nyb2xsRGlyZWN0aW9uLCBzZXRJc0F0VG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IgPSBuZXcgU2Nyb2xsRGV0ZWN0b3IoXG4gICAgICAgIHNjcm9sbEVsZW0sXG4gICAgICAgIHNldFNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgc2V0SXNBdFRvcCxcbiAgICAgICAgc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uLFxuICAgICAgICBzY3JvbGxUaHJlc2hvbGRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IuYXR0YWNoU2Nyb2xsTGlzdGVuZXIoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IuZGV0YWNoU2Nyb2xsTGlzdGVuZXIoKTtcbiAgICB9O1xuICB9LCBbc2Nyb2xsUm9vdCwgc2Nyb2xsVGhyZXNob2xkXSk7XG5cbiAgLy8gQ2F1c2VzIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlcnMgdG8gZGlzY29ubmVjdCBhbmQgYmUgcmVjcmVhdGVkICh1c2VmdWwgd2hlbiBET00gY2hhbmdlcylcbiAgY29uc3QgW29ic2VydmVySW5kZXgsIHNldE9ic2VydmVySW5kZXhdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gIGNvbnN0IHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldE9ic2VydmVySW5kZXgob2JzZXJ2ZXJJbmRleCArIDEpO1xuICB9LCBbb2JzZXJ2ZXJJbmRleF0pO1xuXG4gIGNvbnN0IFt2aXNpYmxlT3V0bGluZVRhcmdldHMsIHNldFZpc2libGVPdXRsaW5lTm9kZXNdID0gUmVhY3QudXNlU3RhdGU8XG4gICAgTWFwPE5vZGVEZXN0aW5hdGlvbiwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cbiAgPigoKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcDxOb2RlRGVzdGluYXRpb24sIFZpc2libGVFbnRyeURldGFpbFR5cGU+KCk7XG4gICAgT2JqZWN0LmZyZWV6ZShtYXApO1xuICAgIHJldHVybiBtYXA7XG4gIH0pO1xuXG4gIGNvbnN0IFt2aXNpYmxlUGFnZVJhdGlvcywgc2V0VmlzaWJsZVBhZ2VSYXRpb3NdID0gUmVhY3QudXNlU3RhdGU8XG4gICAgTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cbiAgPigoKSA9PiBFTVBUWV9OVU1CRVJfVE9fVklTSUJMRV9FTlRSWV9ERVRBSUxfTUFQKTtcblxuICBjb25zdCBpc091dGxpbmVUYXJnZXRWaXNpYmxlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbik6IGJvb2xlYW4gPT4ge1xuICAgICAgcmV0dXJuIHZpc2libGVPdXRsaW5lVGFyZ2V0cy5oYXMoZGVzdCk7XG4gICAgfSxcbiAgICBbdmlzaWJsZU91dGxpbmVUYXJnZXRzXVxuICApO1xuXG4gIGNvbnN0IHNjcm9sbFRvT3V0bGluZVRhcmdldCA9IFJlYWN0LnVzZUNhbGxiYWNrKChkZXN0OiBOb2RlRGVzdGluYXRpb24pOiB2b2lkID0+IHtcbiAgICBzZXRJc091dGxpbmVDbGlja2VkKHRydWUpO1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtb3V0bGluZS10YXJnZXQtZGVzdD1cIiR7ZGVzdH1cIl1gKVxuICAgICAgPy5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGlzUGFnZVZpc2libGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoeyBwYWdlTnVtYmVyLCBwYWdlSW5kZXggfTogUGFnZU51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHBhZ2VOdW1iZXIgPSBwYWdlSW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlzaWJsZVBhZ2VSYXRpb3MuaGFzKHBhZ2VOdW1iZXIpO1xuICAgIH0sXG4gICAgW3Zpc2libGVQYWdlUmF0aW9zXVxuICApO1xuXG4gIGNvbnN0IHNjcm9sbFRvUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogdm9pZCA9PiB7XG4gICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyID09PSAnbnVtYmVyJykge1xuICAgICAgcGFnZUluZGV4ID0gcGFnZU51bWJlciAtIDE7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCkpXG4gICAgICA/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gV2F0Y2ggb3V0bGluZSBub2Rlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJvb3QgPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBkZXRlY3RvciA9IG5ldyBWaXNpYmxlRW50cmllc0RldGVjdG9yPE5vZGVEZXN0aW5hdGlvbj4oe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIHNldFZpc2libGVFbnRyaWVzOiBzZXRWaXNpYmxlT3V0bGluZU5vZGVzLFxuICAgICAgb25WaXNpYmxlRW50cmllc0NoYW5nZTogKHsgdmlzaWJsZUVudHJpZXMsIGhpZGRlbkVudHJpZXMsIGxhc3RFbnRyaWVzIH0pID0+IHtcbiAgICAgICAgaGlkZGVuRW50cmllcy5tYXAoZW50cnkgPT5cbiAgICAgICAgICBsYXN0RW50cmllcy5kZWxldGUoZW50cnkudGFyZ2V0LmdldEF0dHJpYnV0ZShPVVRMSU5FX0FUVFJJQlVURSkpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSBuZXcgTWFwKGxhc3RFbnRyaWVzKTtcbiAgICAgICAgdmlzaWJsZUVudHJpZXMubWFwKGVudHJ5ID0+XG4gICAgICAgICAgbmV3RW50cmllcy5zZXQoZW50cnkudGFyZ2V0LmdldEF0dHJpYnV0ZShPVVRMSU5FX0FUVFJJQlVURSksIHtcbiAgICAgICAgICAgIHJhdGlvOiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZW50cnkudGltZSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbmV3RW50cmllcztcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgZGV0ZWN0b3Iub2JzZXJ2ZU5vZGVzKE9VVExJTkVfU0VMRUNUT1IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZXRlY3Rvci5kZXN0cm95KCk7XG4gICAgfTtcbiAgfSwgW3Njcm9sbFJvb3QsIG9ic2VydmVySW5kZXhdKTtcblxuICAvLyBXYXRjaCBwYWdlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJvb3QgPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBkZXRlY3RvciA9IG5ldyBWaXNpYmxlRW50cmllc0RldGVjdG9yPG51bWJlcj4oe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIHNldFZpc2libGVFbnRyaWVzOiBzZXRWaXNpYmxlUGFnZVJhdGlvcyxcbiAgICAgIG9uVmlzaWJsZUVudHJpZXNDaGFuZ2U6ICh7IHZpc2libGVFbnRyaWVzLCBoaWRkZW5FbnRyaWVzLCBsYXN0RW50cmllcyB9KSA9PiB7XG4gICAgICAgIGlmIChoaWRkZW5FbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IG1heFRpbWUgPSBNYXRoLm1heCguLi5oaWRkZW5FbnRyaWVzLm1hcChlID0+IGUudGltZSkpO1xuICAgICAgICAgIGNvbnN0IGhpZGRlblBhZ2VOdW1zID0gaGlkZGVuRW50cmllcy5tYXAoXG4gICAgICAgICAgICBlID0+IGUudGFyZ2V0Py5nZXRBdHRyaWJ1dGUoUEFHRV9OVU1CRVJfQVRUUklCVVRFKSB8fCAnJ1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBkdWUgdG8gdXBwZXIgbGltaXQgb24gaG93IGZhc3QgdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgY2FuIHNhbXBsZSBhbmQgaG93IGZhc3QgYnJvd3NlcnMgY2FuIHJlbmRlciAoaGFwcGVucyB3aGVuIHVzZXJzIHNjcm9sbCBmYXN0KVxuICAgICAgICAgIC8vIHNvbWV0aW1lcyBlbnRyaWVzIHdpbGwgbm90IGJlIHNpZ25hbGVkIGFzIGhpZGRlbiwgbWVhbmluZyB0aGV5IHNob3VsZCBiZSByZW1vdmVkIGZyb20gbGFzdEVudHJpZXMgYnV0IHdlcmVuJ3RcbiAgICAgICAgICAvLyBzbyBpZiBhbiBlbnRyeSBoYXMgYSB0aW1lc3RhbXAgdGhhdHMgb2xkZXIgdGhlbiBhbiBlbnRyeSB3ZSBhcmUgY3VycmVudGx5IHJlbW92aW5nLCB3ZSBjYW4gYXNzdW1lIGl0cyBcInN0YWxlXCIgYW5kIGRlbGV0ZVxuICAgICAgICAgIC8vIG1vcmUgZGV0YWlscyBhYm91dCB0aGlzIGlzc3VlIGhlcmU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYxOTUxMzgwL2ludGVyc2VjdGlvbi1vYnNlcnZlci1mYWlscy1zb21ldGltZXMtd2hlbi1pLXNjcm9sbC1mYXN0XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBsYXN0RW50cmllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS50aW1lc3RhbXAgPD0gbWF4VGltZSB8fCBoaWRkZW5QYWdlTnVtcy5pbmNsdWRlcyhTdHJpbmcoa2V5KSkpIHtcbiAgICAgICAgICAgICAgbGFzdEVudHJpZXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSBuZXcgTWFwKGxhc3RFbnRyaWVzKTtcbiAgICAgICAgdmlzaWJsZUVudHJpZXMubWFwKGVudHJ5ID0+IHtcbiAgICAgICAgICBuZXdFbnRyaWVzLnNldChwYXJzZUludChlbnRyeS50YXJnZXQ/LmdldEF0dHJpYnV0ZShQQUdFX05VTUJFUl9BVFRSSUJVVEUpIHx8ICcnLCAxMCksIHtcbiAgICAgICAgICAgIHJhdGlvOiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZW50cnkudGltZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdFbnRyaWVzO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBkZXRlY3Rvci5vYnNlcnZlTm9kZXMoUEFHRV9OVU1CRVJfU0VMRUNUT1IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZXRlY3Rvci5kZXN0cm95KCk7XG4gICAgfTtcbiAgfSwgW3Njcm9sbFJvb3QsIG9ic2VydmVySW5kZXhdKTtcblxuICAvLyBtYXAgb2YgcGFnZXMgYXQgdGhlIG1vbWVudCB0aGV5IGFyZSBzY3JvbGxlZCBpbnRvIHZpZXcsIHVzZWZ1bCBmb3IgdHJhY2tpbmcgYW5hbHl0aWNzIHN1Y2ggYXMgcGFnZSBpbXByZXNzaW9uc1xuICAvLyBkaWZmZXJlbnQgdGhhbiB0aGUgdmlzaWJsZVBhZ2VSYXRpb3MgaW4gdGhhdCBpdCBvbmx5IHNhdmVzIHRoZSB+aW5pdGlhbH4gcG9pbnQgb2Ygd2hlbiBhIHBhZ2UgY29tZXMgaW50byB2aWV3XG4gIC8vIGl0IGRvZXNuJ3QgdHJhY2sgdGhlIGxpdmUgY2hhbmdlIGluIHJhdGlvcyBhcyB0aGUgcGFnZSByZW1haW5zIGluIHZpZXcgd2hlbiBzY3JvbGxlZFxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJvb3QgPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBkZXRlY3RvciA9IG5ldyBWaXNpYmxlRW50cmllc0RldGVjdG9yPG51bWJlcj4oe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIHRocmVzSG9sZDogcGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGQsXG4gICAgICBzZXRWaXNpYmxlRW50cmllczogc2V0UGFnZXNTY3JvbGxlZEludG9WaWV3LFxuICAgICAgb25WaXNpYmxlRW50cmllc0NoYW5nZTogKHsgdmlzaWJsZUVudHJpZXMgfSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB2aXNpYmxlRW50cmllcy5tYXAoZW50cnkgPT4ge1xuICAgICAgICAgIG5ld0VudHJpZXMuc2V0KFxuICAgICAgICAgICAgcGFyc2VJbnQoZW50cnkudGFyZ2V0Py5nZXRBdHRyaWJ1dGUoUEFHRV9OVU1CRVJfQVRUUklCVVRFKSB8fCAnJywgMTApLFxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW9cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld0VudHJpZXM7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIGRldGVjdG9yLm9ic2VydmVOb2RlcyhQQUdFX05VTUJFUl9TRUxFQ1RPUik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRldGVjdG9yLmRlc3Ryb3koKTtcbiAgICB9O1xuICB9LCBbc2Nyb2xsUm9vdCwgb2JzZXJ2ZXJJbmRleF0pO1xuXG4gIC8vIGNhbGN1bGF0ZXMgYSBuZXcgc2Nyb2xsIHBvc2l0aW9uIGFmdGVyIHpvb21pbmcgaW4vb3V0IHNvIHVzZXIgZG9lc250IGxvc2UgdGhlaXIgcG9zaXRpb25cbiAgY29uc3QgdXBkYXRlU2Nyb2xsUG9zaXRpb24gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoem9vbU11bHRpcGxpZXI6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgY29uc3Qgcm9vdCA9IHNjcm9sbFJvb3QgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1Njcm9sbFRvcCA9IE1hdGguZmxvb3Iocm9vdC5zY3JvbGxUb3AgKiB6b29tTXVsdGlwbGllcik7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcm9vdC5zY3JvbGxUb3AgPSBuZXdTY3JvbGxUb3A7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICAgIFtzY3JvbGxSb290XVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgaXNPdXRsaW5lVGFyZ2V0VmlzaWJsZSxcbiAgICBpc1BhZ2VWaXNpYmxlLFxuICAgIHNjcm9sbERpcmVjdGlvbixcbiAgICB2aXNpYmxlT3V0bGluZVRhcmdldHMsXG4gICAgdmlzaWJsZVBhZ2VSYXRpb3MsXG4gICAgcmVzZXRTY3JvbGxPYnNlcnZlcnMsXG4gICAgc2Nyb2xsUm9vdCxcbiAgICBzZXRTY3JvbGxSb290LFxuICAgIHNjcm9sbFRvT3V0bGluZVRhcmdldCxcbiAgICBzZXRTY3JvbGxUaHJlc2hvbGQsXG4gICAgc2Nyb2xsVG9QYWdlLFxuICAgIHVwZGF0ZVNjcm9sbFBvc2l0aW9uLFxuICAgIHNldElzT3V0bGluZUNsaWNrZWQsXG4gICAgc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uLFxuICAgIGlzQXRUb3AsXG4gICAgaXNPdXRsaW5lQ2xpY2tlZCxcbiAgICBwYWdlc1Njcm9sbGVkSW50b1ZpZXcsXG4gICAgc2V0UGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGQsXG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBsb2dQcm92aWRlcldhcm5pbmcgfSBmcm9tICcuLi91dGlscy9wcm92aWRlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVpQ29udGV4dCB7XG4gIGVycm9yTWVzc2FnZTogTnVsbGFibGU8c3RyaW5nPjtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBib29sZWFuO1xuICBpc1Nob3dpbmdPdXRsaW5lOiBib29sZWFuO1xuICBpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0OiBib29sZWFuO1xuICBpc1Nob3dpbmdUaHVtYm5haWw6IGJvb2xlYW47XG4gIHNldEVycm9yTWVzc2FnZTogKGVycm9yTWVzc2FnZTogTnVsbGFibGU8c3RyaW5nPikgPT4gdm9pZDtcbiAgc2V0SXNMb2FkaW5nOiAoaXNMb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiAoaXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheTogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0SXNTaG93aW5nT3V0bGluZTogKGlzU2hvd2luZ091dGxpbmU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldElzU2hvd2luZ1RleHRIaWdobGlnaHQ6IChpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0OiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRJc1Nob3dpbmdUaHVtYm5haWw6IChpc1Nob3dpbmdUaHVtYm5haWw6IGJvb2xlYW4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBVaUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElVaUNvbnRleHQ+KHtcbiAgZXJyb3JNZXNzYWdlOiBudWxsLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBmYWxzZSxcbiAgaXNTaG93aW5nT3V0bGluZTogZmFsc2UsXG4gIGlzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGZhbHNlLFxuICBpc1Nob3dpbmdUaHVtYm5haWw6IGZhbHNlLFxuICBzZXRFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRFcnJvck1lc3NhZ2UoJHtlcnJvck1lc3NhZ2V9KWAsICdVaUNvbnRleHQnKTtcbiAgfSxcbiAgc2V0SXNTaG93aW5nT3V0bGluZTogaXNTaG93aW5nT3V0bGluZSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc1Nob3dpbmdPdXRsaW5lKCR7aXNTaG93aW5nT3V0bGluZX0pYCwgJ1VpQ29udGV4dCcpO1xuICB9LFxuICBzZXRJc0xvYWRpbmc6IGlzTG9hZGluZyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc0xvYWRpbmcoJHtpc0xvYWRpbmd9KWAsICdVaUNvbnRleHQnKTtcbiAgfSxcbiAgc2V0SXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheTogaXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5KCR7aXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheX0pYCwgJ1VpQ29udGV4dCcpO1xuICB9LFxuICBzZXRJc1Nob3dpbmdUZXh0SGlnaGxpZ2h0OiBpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0ID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzU2hvd2luZ1RleHRIaWdobGlnaHQoJHtpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0fSlgLCAnVWlDb250ZXh0Jyk7XG4gIH0sXG4gIHNldElzU2hvd2luZ1RodW1ibmFpbDogaXNTaG93aW5nVGh1bWJuYWlsID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzU2hvd2luZ1RodW1ibmFpbCgke2lzU2hvd2luZ1RodW1ibmFpbH0pYCwgJ1VpQ29udGV4dCcpO1xuICB9LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVaUNvbnRleHRQcm9wcygpOiBJVWlDb250ZXh0IHtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPHN0cmluZz4+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG4gIGNvbnN0IFtpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5LCBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2lzU2hvd2luZ091dGxpbmUsIHNldElzU2hvd2luZ091dGxpbmVdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNTaG93aW5nVGV4dEhpZ2hsaWdodCwgc2V0SXNTaG93aW5nVGV4dEhpZ2hsaWdodF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtpc1Nob3dpbmdUaHVtYm5haWwsIHNldElzU2hvd2luZ1RodW1ibmFpbF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvck1lc3NhZ2UsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXksXG4gICAgaXNTaG93aW5nT3V0bGluZSxcbiAgICBpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0LFxuICAgIGlzU2hvd2luZ1RodW1ibmFpbCxcbiAgICBzZXRFcnJvck1lc3NhZ2UsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIHNldElzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXksXG4gICAgc2V0SXNTaG93aW5nT3V0bGluZSxcbiAgICBzZXRJc1Nob3dpbmdUZXh0SGlnaGxpZ2h0LFxuICAgIHNldElzU2hvd2luZ1RodW1ibmFpbCxcbiAgfTtcbn1cbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoIWVycm9yKSB7XG4gICAgcmV0dXJuICdVbmtub3duIGVycm9yJztcbiAgfVxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IuZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVycm9yLmVycm9yO1xuICB9XG4gIHJldHVybiBlcnJvci50b1N0cmluZygpO1xufVxuIiwiaW1wb3J0IHsgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xuXG4vLyBTZXQgUERGanMgd29ya2VyIHNvdXJjZSBvciBlbHNlIFBERiB3aWxsIG5vdCBsb2FkIHdoZW4gdGhpcyBsaWJyYXJ5IGlzIGltcG9ydGVkIGFzIGEgcGFja2FnZS5cbmV4cG9ydCBmdW5jdGlvbiBpbml0UGRmV29ya2VyKCk6IHZvaWQge1xuICBwZGZqcy5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IGAvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqcy52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XG59XG4iLCJleHBvcnQgY29uc3QgUkVOREVSX1RZUEUgPSB7XG4gIE1VTFRJX0NBTlZBUzogJ211bHRpLWNhbnZhcycsXG4gIFNJTkdMRV9DQU5WQVM6ICdzaW5nbGUtY2FudmFzJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFJlbmRlclR5cGUgPSB0eXBlb2YgUkVOREVSX1RZUEVba2V5b2YgdHlwZW9mIFJFTkRFUl9UWVBFXTtcblxuZXhwb3J0IHR5cGUgUmVuZGVyTW9kZSA9ICdjYW52YXMnIHwgJ25vbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyTW9kZShyZW5kZXJUeXBlOiBSZW5kZXJUeXBlKTogUmVuZGVyTW9kZSB7XG4gIHN3aXRjaCAocmVuZGVyVHlwZSkge1xuICAgIGNhc2UgUkVOREVSX1RZUEUuU0lOR0xFX0NBTlZBUzpcbiAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnY2FudmFzJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lU3VmZml4RnJvbVJlbmRlclR5cGUocmVuZGVyVHlwZTogUmVuZGVyVHlwZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAocmVuZGVyVHlwZSkge1xuICAgIGNhc2UgUkVOREVSX1RZUEUuU0lOR0xFX0NBTlZBUzpcbiAgICAgIHJldHVybiAnc2luZ2xlLWNhbnZhcyc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnbXVsdGktY2FudmFzJztcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvYm91bmRpbmdCb3gnO1xuXG4vLyBEYXRhIGZyb20gcmVhY3QtcGRmL3BkZmpzIHRoYXQgd2UgbmVlZCB0byBjb21wdXRlIHRoZSBwaXhlbCBzaXplIG9mIHRoZSBQREYncyBwYWdlKHMpLlxuZXhwb3J0IGludGVyZmFjZSBJUERGUGFnZVByb3h5IHtcbiAgdXNlclVuaXQ6IG51bWJlcjsgLy8gdGhlIGRlZmF1bHQgc2l6ZSBvZiB1bml0cyBpbiAxLzcybmRzIG9mIGFuIGluY2hcbiAgdmlldzogQXJyYXk8bnVtYmVyPjsgLy8gZm9ybWF0OiBbIHRvcCBsZWZ0IHggY29vcmRpbmF0ZSwgdG9wIGxlZnQgeSBjb29yZGluYXRlLCBib3R0b20gcmlnaHQgeCwgYm90dG9tIHJpZ2h0IHldXG59XG5cbi8vIFdlIGFzc3VtZSA5NiBEUEkgZm9yIGRpc3BsYXlcbi8vIFRPRE86IFRoZXJlIGFyZSBtb3JlIGFjY3VyYXRlIHdheXMgdG8gZG8gdGhpcywgYnV0IHRoaXMgaXMgd2hhdCBTY2hvbGFyUGhpIGRvZXMgbm93XG5jb25zdCBEUEkgPSA5NjtcblxuLy8gUERGIHVuaXRzIGFyZSBpbiAxLzcybmRzIG9mIGFuIGluY2hcbmNvbnN0IFVTRVJfVU5JVF9ERU5PTUlOQVRPUiA9IDcyO1xuXG4vKipcbiAqIEdpdmVuIGEgUERGUGFnZVByb3h5LCBjYWxjdWxhdGVzIHRoZSBzY3JlZW4gcGl4ZWwgc2l6ZSBvZiB0aGUgUERGIHBhZ2UgYXQgMTAwJSBzY2FsZVxuICogQHBhcmFtIHBhZ2UgVGhlIFBERlBhZ2VQcm94eSB0byBjYWxjdWxhdGUgc2l6ZSBmb3JcbiAqIEByZXR1cm5zIFBpeGVsIHNpemUgb2YgYSBwYWdlIGF0IDEwMCUgc2NhbGUgYXNzdW1pbmcgOTZEUEkgZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBhZ2VEaW1lbnNpb25zKHBhZ2U6IElQREZQYWdlUHJveHkpOiBEaW1lbnNpb25zIHtcbiAgY29uc3QgW2xlZnRQeCwgdG9wUHgsIHJpZ2h0UHgsIGJvdHRvbVB4XSA9IHBhZ2UudmlldztcbiAgY29uc3QgUFBJID0gKHBhZ2UudXNlclVuaXQgLyBVU0VSX1VOSVRfREVOT01JTkFUT1IpICogRFBJO1xuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiAoYm90dG9tUHggLSB0b3BQeCkgKiBQUEksXG4gICAgd2lkdGg6IChyaWdodFB4IC0gbGVmdFB4KSAqIFBQSSxcbiAgfTtcbn1cbiIsImltcG9ydCB7IFBhZ2VSZWZlcmVuY2UgfSBmcm9tICcuL3BhZ2UnO1xuXG5leHBvcnQgdHlwZSBEZXN0aW5hdGlvbiA9IHtcbiAgZGVzdDogc3RyaW5nO1xuICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgcGFnZU51bWJlcjogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBmaXJzdCBpdGVtIHdoZW4gRGVzdGluYXRpb24gaXMgcmV0dXJuZWQgYXMgYW4gYXJyYXkuXG4gKiBJdCBpcyBjcmVhdGVkIGJhc2VkIG9uIHRoZSBzYW1lIGNsYXNzIGluICdyZWFjdC1wZGYnIGxpYnJhcnk6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vd29qdGVrbWFqL3JlYWN0LXBkZi9ibG9iL2NhNDQ1M2YxMjNhZjUxZTJmYWVkMzlhOGE2MjgwMDkwMTAzMDQ1OWEvc3JjL1JlZi5qc1xuICovXG5leHBvcnQgY2xhc3MgUmVmIGltcGxlbWVudHMgUGFnZVJlZmVyZW5jZSB7XG4gIG51bTogbnVtYmVyO1xuICBnZW46IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih7IG51bSwgZ2VuIH06IFBhZ2VSZWZlcmVuY2UpIHtcbiAgICB0aGlzLm51bSA9IG51bTtcbiAgICB0aGlzLmdlbiA9IGdlbjtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuICE9PSAwID8gYCR7dGhpcy5udW19UiR7dGhpcy5nZW59YCA6IGAke3RoaXMubnVtfVJgO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEb2N1bWVudCwgRG9jdW1lbnRQcm9wcywgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xuXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9TY3JvbGxDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgVWlDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9VaUNvbnRleHQnO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JNZXNzYWdlJztcbmltcG9ydCB7IGluaXRQZGZXb3JrZXIgfSBmcm9tICcuLi91dGlscy9wZGZXb3JrZXInO1xuaW1wb3J0IHsgZ2V0UmVuZGVyTW9kZSwgUmVuZGVyVHlwZSB9IGZyb20gJy4uL3V0aWxzL3JlYWRlci11dGlscyc7XG5pbXBvcnQgeyBjb21wdXRlUGFnZURpbWVuc2lvbnMsIElQREZQYWdlUHJveHkgfSBmcm9tICcuLi91dGlscy9zY2FsZSc7XG5pbXBvcnQgeyBzY3JvbGxUb1Bvc2l0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc2Nyb2xsJztcbmltcG9ydCB7IERlc3RpbmF0aW9uLCBSZWYgfSBmcm9tICcuL3R5cGVzL2Rlc3RpbmF0aW9uJztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICByZW5kZXJUeXBlOiBSZW5kZXJUeXBlO1xufSAmIERvY3VtZW50UHJvcHM7XG5cbmV4cG9ydCBjb25zdCBEb2N1bWVudFdyYXBwZXI6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICByZW5kZXJUeXBlLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBpbml0UGRmV29ya2VyKCk7XG5cbiAgY29uc3QgeyBwZGZEb2NQcm94eSwgc2V0TnVtUGFnZXMsIHNldE51bVBhZ2VzTG9hZGVkLCBzZXRQYWdlRGltZW5zaW9ucywgc2V0UGRmRG9jUHJveHkgfSA9XG4gICAgUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xuICBjb25zdCB7IHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzLCB1cGRhdGVTY3JvbGxQb3NpdGlvbiB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG4gIGNvbnN0IHsgc2V0RXJyb3JNZXNzYWdlLCBzZXRJc0xvYWRpbmcgfSA9IFJlYWN0LnVzZUNvbnRleHQoVWlDb250ZXh0KTtcbiAgY29uc3QgW2xhc3RTY2FsZSwgc2V0TGFzdFNjYWxlXSA9IFJlYWN0LnVzZVN0YXRlKDEpOyAvLyBhc3N1bWluZyB0aGUgc2NhbGUgZGVmYXVsdHMgdG8gMTAwJVxuXG4gIGZ1bmN0aW9uIGdldEZpcnN0UGFnZShwZGZEb2M6IHBkZmpzLlBERkRvY3VtZW50UHJveHkpOiBQcm9taXNlPElQREZQYWdlUHJveHk+IHtcbiAgICAvLyBnZXRQYWdlIHVzZXMgMS1pbmRleGVkIHBhZ2VOdW1iZXIsIG5vdCAwLWluZGV4ZWQgcGFnZUluZGV4XG4gICAgcmV0dXJuIHBkZkRvYy5nZXRQYWdlKDEpO1xuICB9XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXNldFNjcm9sbE9ic2VydmVycygpO1xuICB9LCBbXSk7XG5cbiAgLy8gYWZ0ZXIgc2NhbGUgY2hhbmdlcywgdXBkYXRlIHNjcm9sbCBwb3NpdGlvbiBzbyB0aGUgdXNlciBzdGF5cyBsb29raW5nIGF0IHRoZSBzYW1lIHBvc2l0aW9uIG9mIHRoZSBwYXBlclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY2FsZSA9PT0gbGFzdFNjYWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHpvb21NdWx0aXBsaWVyID0gc2NhbGUgLyBsYXN0U2NhbGU7XG4gICAgdXBkYXRlU2Nyb2xsUG9zaXRpb24oem9vbU11bHRpcGxpZXIpO1xuICAgIHNldExhc3RTY2FsZShzY2FsZSk7XG4gIH0sIFtzY2FsZSwgdXBkYXRlU2Nyb2xsUG9zaXRpb25dKTtcblxuICBjb25zdCBvblBkZkxvYWRTdWNjZXNzID0gUmVhY3QudXNlQ2FsbGJhY2soKHBkZkRvYzogcGRmanMuUERGRG9jdW1lbnRQcm94eSk6IHZvaWQgPT4ge1xuICAgIHNldE51bVBhZ2VzTG9hZGVkKDApO1xuICAgIHNldE51bVBhZ2VzKHBkZkRvYy5udW1QYWdlcyk7XG4gICAgZ2V0Rmlyc3RQYWdlKHBkZkRvYylcbiAgICAgIC50aGVuKHBhZ2UgPT4ge1xuICAgICAgICBzZXRQYWdlRGltZW5zaW9ucyhjb21wdXRlUGFnZURpbWVuc2lvbnMocGFnZSkpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UobnVsbCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGdldEVycm9yTWVzc2FnZShlcnJvcikpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKCFwZGZEb2NQcm94eSkge1xuICAgICAgc2V0UGRmRG9jUHJveHkocGRmRG9jKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBvblNvdXJjZUVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soKGVycm9yOiB1bmtub3duKTogdm9pZCA9PiB7XG4gICAgc2V0RXJyb3JNZXNzYWdlKGdldEVycm9yTWVzc2FnZShlcnJvcikpO1xuICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBvblBkZkxvYWRFcnJvciA9IFJlYWN0LnVzZUNhbGxiYWNrKChlcnJvcjogdW5rbm93bik6IHZvaWQgPT4ge1xuICAgIHNldEVycm9yTWVzc2FnZShnZXRFcnJvck1lc3NhZ2UoZXJyb3IpKTtcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgb25JdGVtQ2xpY2tlZCA9IChwYXJhbTogRGVzdGluYXRpb24pOiB2b2lkID0+IHtcbiAgICBpZiAoIXBkZkRvY1Byb3h5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2Nyb2xsIHRvIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgaXRlbVxuICAgIHBkZkRvY1Byb3h5LmdldERlc3RpbmF0aW9uKHBhcmFtLmRlc3QpLnRoZW4oZGVzdEFycmF5ID0+IHtcbiAgICAgIGlmICghZGVzdEFycmF5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgW3JlZiwgLCAsIGJvdHRvbVBvaW50c10gPSBkZXN0QXJyYXk7XG4gICAgICBwZGZEb2NQcm94eS5nZXRQYWdlSW5kZXgobmV3IFJlZihyZWYpKS50aGVuKHJlZkluZm8gPT4ge1xuICAgICAgICBzY3JvbGxUb1Bvc2l0aW9uKHBhcnNlSW50KHJlZkluZm8udG9TdHJpbmcoKSksIDAsIGJvdHRvbVBvaW50cywgcm90YXRpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RG9jdW1lbnRcbiAgICAgIG9wdGlvbnM9e3sgY01hcFVybDogJ2NtYXBzLycsIGNNYXBQYWNrZWQ6IHRydWUgfX1cbiAgICAgIG9uU291cmNlRXJyb3I9e29uU291cmNlRXJyb3J9XG4gICAgICBvbkxvYWRFcnJvcj17b25QZGZMb2FkRXJyb3J9XG4gICAgICBvbkxvYWRTdWNjZXNzPXtvblBkZkxvYWRTdWNjZXNzfVxuICAgICAgZXh0ZXJuYWxMaW5rVGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIHJlbmRlck1vZGU9e2dldFJlbmRlck1vZGUocmVuZGVyVHlwZSl9XG4gICAgICAvLyBAdHMtaWdub3JlOiB0aGUgYXJndW1lbnRzIHNob3VsZCBiZSB7IGRlc3QsIHBhZ2VJbmRleCwgcGFnZU51bWJlciB9XG4gICAgICAvLyBAdHlwZXMvcmVhY3QtcGRmIGhhc24ndCB1cGRhdGVkIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EZWZpbml0ZWx5VHlwZWQvRGVmaW5pdGVseVR5cGVkL2Jsb2IvZDczZWI2NTJlMGJhOGY4OTM5NWEwZWYyYmE2OWNmMWU2NDBjZTViZS90eXBlcy9yZWFjdC1wZGYvZGlzdC9Eb2N1bWVudC5kLnRzI0w3MlxuICAgICAgb25JdGVtQ2xpY2s9e29uSXRlbUNsaWNrZWR9XG4gICAgICB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Eb2N1bWVudD5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBwZGZVcmw6IHN0cmluZztcbn07XG5cbi8qKlxuICogSFRNTCBhbmNob3IgdGFnIGFsbG93cyB5b3UgdG8gZG93bmxvYWQgYSBmaWxlIGZyb20gdGhlIHNhbWUgb3JpZ2luLlxuICogVGhpcyBpcyBhIHdvcmthcm91bmQgdG8gZG93bmxvYWQgYSBmaWxlIHNlcnZlZCBmcm9tIGEgZGlmZmVyZW50IG9yaWdpblxuICovXG5leHBvcnQgY29uc3QgRG93bmxvYWRCdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIHBkZlVybCxcbiAgY2hpbGRyZW4sXG4gIGNsYXNzTmFtZSxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgW2ZldGNoaW5nLCBzZXRGZXRjaGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgZG93bmxvYWQgPSAoKSA9PiB7XG4gICAgc2V0RmV0Y2hpbmcodHJ1ZSk7XG5cbiAgICBmZXRjaChwZGZVcmwpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5ibG9iKCkpXG4gICAgICAudGhlbihibG9iID0+IHtcbiAgICAgICAgc2V0RmV0Y2hpbmcoZmFsc2UpO1xuICAgICAgICBjb25zdCBibG9iVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgYS5ocmVmID0gYmxvYlVSTDtcbiAgICAgICAgYS5kb3dubG9hZCA9IHBkZlVybC5zcGxpdCgnLycpLnBvcCgpIHx8IHBkZlVybDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBkaXNhYmxlZD17ZmV0Y2hpbmd9XG4gICAgICBvbkNsaWNrPXsoKSA9PiBkb3dubG9hZCgpfVxuICAgICAgYXJpYS1sYWJlbD1cIkRvd25sb2FkIFBERlwiXG4gICAgICBjbGFzc05hbWU9e2BwZGYtcmVhZGVyX19kb3dubG9hZC1idG4gJHtjbGFzc05hbWV9YH1cbiAgICAgIHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtjaGlsZHJlbiA/IGNoaWxkcmVuIDogJ0Rvd25sb2FkJ31cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUsIGNvbXB1dGVQYWdlU3R5bGUgfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XG5pbXBvcnQgeyBQcm9wcyBhcyBCb3VuZGluZ0JveFByb3BzIH0gZnJvbSAnLi9Cb3VuZGluZ0JveCc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDxCb3VuZGluZ0JveFByb3BzPiB8IEFycmF5PFJlYWN0LlJlYWN0RWxlbWVudDxCb3VuZGluZ0JveFByb3BzPj47XG4gIHBhZ2VJbmRleDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IEhpZ2hsaWdodE92ZXJsYXk6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBwYWdlSW5kZXgsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG4gIGNvbnN0IG1hc2tJZCA9IGBoaWdobGlnaHQtb3ZlcmxheS1tYXNrLSR7cGFnZUluZGV4fWA7XG5cbiAgY29uc3QgZ2V0UGFnZVN0eWxlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBjb21wdXRlUGFnZVN0eWxlKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xuICB9LCBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZV0pO1xuXG4gIGNvbnN0IGdldFVubWFza2VkQXJlYSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChcbiAgICAgIGJvdW5kaW5nQm94ZXM6XG4gICAgICAgIHwgUmVhY3QuUmVhY3RFbGVtZW50PEJvdW5kaW5nQm94UHJvcHM+XG4gICAgICAgIHwgQXJyYXk8UmVhY3QuUmVhY3RFbGVtZW50PEJvdW5kaW5nQm94UHJvcHM+PlxuICAgICkgPT4ge1xuICAgICAgY29uc3QgYm94ZXMgPSBBcnJheS5pc0FycmF5KGJvdW5kaW5nQm94ZXMpID8gYm91bmRpbmdCb3hlcyA6IFtib3VuZGluZ0JveGVzXTtcbiAgICAgIHJldHVybiBib3hlcy5tYXAoKGJveCwgaSkgPT4ge1xuICAgICAgICBjb25zdCBib3hTdHlsZSA9IGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlKGJveC5wcm9wcywgcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHJlY3Qgc3R5bGU9e2JveFN0eWxlfSB4PXtib3hTdHlsZS5sZWZ0fSB5PXtib3hTdHlsZS50b3B9IGtleT17aX0gZmlsbD1cImJsYWNrXCI+PC9yZWN0PlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fcGFnZS1oaWdobGlnaHQtb3ZlcmxheVwiIHN0eWxlPXtnZXRQYWdlU3R5bGUoKX0gey4uLmV4dHJhUHJvcHN9PlxuICAgICAgPHN2ZyBjbGFzc05hbWU9XCJwYWdlLW1hc2tcIiBzdHlsZT17Z2V0UGFnZVN0eWxlKCl9PlxuICAgICAgICA8bWFzayBpZD17bWFza0lkfT5cbiAgICAgICAgICA8cmVjdCBzdHlsZT17Z2V0UGFnZVN0eWxlKCl9IGZpbGw9XCJ3aGl0ZVwiPjwvcmVjdD5cbiAgICAgICAgICB7Y2hpbGRyZW4gJiYgZ2V0VW5tYXNrZWRBcmVhKGNoaWxkcmVuKX1cbiAgICAgICAgPC9tYXNrPlxuICAgICAgICA8cmVjdCBzdHlsZT17Z2V0UGFnZVN0eWxlKCl9IGZpbGw9XCJ3aGl0ZVwiIG9wYWNpdHk9XCIwLjZcIiBtYXNrPXtgdXJsKCMke21hc2tJZH0pYH0+PC9yZWN0PlxuICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHlsZSc7XG5pbXBvcnQgeyBJY29uRmxhZyB9IGZyb20gJy4uL2ljb24vSWNvbkZsYWcnO1xuaW1wb3J0IHsgU2l6ZSB9IGZyb20gJy4uL3R5cGVzL2JvdW5kaW5nQm94JztcblxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OID0ge1xuICBMRUZUOiAnTEVGVCcsXG4gIFJJR0hUOiAnUklHSFQnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgUG9zaXRpb25UeXBlID0gdHlwZW9mIFBPU0lUSU9OW2tleW9mIHR5cGVvZiBQT1NJVElPTl07XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZmxhZ1dpZHRoPzogbnVtYmVyOyAvLyBpbiBweFxuICBsYWJlbD86IHN0cmluZztcbiAgb3JpZ2luVG9wPzogbnVtYmVyOyAvLyBpbiBweFxuICBwb3NpdGlvbj86IFBvc2l0aW9uVHlwZTtcbiAgdGFpbExlbmd0aD86IG51bWJlcjsgLy8gaW4gcHhcbiAgdGFpbFdpZGd0aD86IG51bWJlcjsgLy8gaW4gcHhcbn07XG5cbmNvbnN0IERFRkFVTFRfT1JJR0lOX1RPUF9QWCA9IDA7XG5jb25zdCBERUZBVUxUX0ZMQUdfV0lEVEhfUFggPSA2MjtcbmNvbnN0IERFRkFVTFRfRkxBR19IRUlHSFRfUFggPSAyMDtcbmNvbnN0IERFRkFVTFRfVEFJTF9MRU5HVEhfUFggPSA0MDtcbmNvbnN0IERFRkFVTFRfVEFJTF9XSURUSF9QWCA9IDc7XG5cbmV4cG9ydCBjb25zdCBBcnJvd0ZsYWdCYXNlOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xuICBjbGFzc05hbWUsXG4gIGxhYmVsLFxuICBmbGFnV2lkdGgsXG4gIG9yaWdpblRvcCxcbiAgcG9zaXRpb24gPSBQT1NJVElPTi5MRUZULFxuICB0YWlsTGVuZ3RoLFxuICB0YWlsV2lkZ3RoLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHBhZ2VEaW1lbnNpb25zIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgcm90YXRpb24sIHNjYWxlIH0gPSBSZWFjdC51c2VDb250ZXh0KFRyYW5zZm9ybUNvbnRleHQpO1xuICAvLyBmdW5jdGlvbiBmb3Igc2NhbGluZyBib3VuZGluZyBib3hlcyBiYXNlZCBvbiBjdXJyZW50IGRvY3VtZW50IHN0YXRlc1xuICBjb25zdCBjb21wdXRlU2l6ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChib3g6IFNpemUpOiBTaXplID0+IGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlKGJveCwgcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSksXG4gICAgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUsIG9yaWdpblRvcF1cbiAgKTtcblxuICAvLyBib3VuZGluZyBib3ggb2YgdGhlIGZsYWdcbiAgY29uc3QgZmxhZ1NpemUgPSB7XG4gICAgdG9wOiBvcmlnaW5Ub3AgfHwgREVGQVVMVF9PUklHSU5fVE9QX1BYLFxuICAgIGxlZnQ6IDAsXG4gICAgaGVpZ2h0OiBERUZBVUxUX0ZMQUdfSEVJR0hUX1BYLFxuICAgIHdpZHRoOiBmbGFnV2lkdGggfHwgREVGQVVMVF9GTEFHX1dJRFRIX1BYLFxuICB9O1xuICAvLyBib3VuZGluZyBib3ggb2YgdGhlIHRhaWxcbiAgY29uc3QgdGFpbFNpemUgPSB7XG4gICAgdG9wOiBvcmlnaW5Ub3AgfHwgREVGQVVMVF9PUklHSU5fVE9QX1BYLFxuICAgIGxlZnQ6IDAsXG4gICAgaGVpZ2h0OiB0YWlsTGVuZ3RoIHx8IERFRkFVTFRfVEFJTF9MRU5HVEhfUFgsXG4gICAgd2lkdGg6IHRhaWxXaWRndGggfHwgREVGQVVMVF9UQUlMX1dJRFRIX1BYLFxuICB9O1xuXG4gIGNvbnN0IGNvbXB1dGVkRmxhZ1NpemUgPSBjb21wdXRlU2l6ZShmbGFnU2l6ZSk7XG4gIGNvbnN0IGNvbXB1dGVkVGFpbFNpemUgPSBjb21wdXRlU2l6ZSh0YWlsU2l6ZSk7XG5cbiAgY29uc3QgdGFpbFBvc2l0aW9uID0ge1xuICAgIHRvcDogY29tcHV0ZWRUYWlsU2l6ZS50b3AsXG4gICAgbGVmdDogcG9zaXRpb24gPT09IFBPU0lUSU9OLkxFRlQgPyAtY29tcHV0ZWRUYWlsU2l6ZS53aWR0aCA6IHBhZ2VEaW1lbnNpb25zLndpZHRoICogc2NhbGUsXG4gICAgaGVpZ2h0OiBjb21wdXRlZFRhaWxTaXplLmhlaWdodCxcbiAgICB3aWR0aDogY29tcHV0ZWRUYWlsU2l6ZS53aWR0aCxcbiAgfTtcblxuICBjb25zdCByZW5kZXJGbGFnID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSBjb21wdXRlZEZsYWdTaXplO1xuICAgIGNvbnN0IGZsYWdQb3NpdGlvbiA9IHtcbiAgICAgIHRvcCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHdpZHRoLFxuICAgICAgbGVmdDpcbiAgICAgICAgcG9zaXRpb24gPT09IFBPU0lUSU9OLkxFRlRcbiAgICAgICAgICA/IC1jb21wdXRlZFRhaWxTaXplLndpZHRoXG4gICAgICAgICAgOiB0YWlsUG9zaXRpb24ubGVmdCArIHRhaWxQb3NpdGlvbi53aWR0aCAtIHdpZHRoICsgMSxcbiAgICB9O1xuICAgIGNvbnN0IGxhYmVsUG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gUE9TSVRJT04uTEVGVCA/ICc0NyUnIDogJzUzJSc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19hcnJvdy1mbGFnLWJhc2VfX2ZsYWdcIiBzdHlsZT17ZmxhZ1Bvc2l0aW9ufT5cbiAgICAgICAgPEljb25GbGFnIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fZmxhZy1pY29uXCIgaGVhZGVyUG9zaXRpb249e3Bvc2l0aW9ufT5cbiAgICAgICAgICA8dGV4dFxuICAgICAgICAgICAgeD17bGFiZWxQb3NpdGlvbn1cbiAgICAgICAgICAgIHk9XCI1NCVcIlxuICAgICAgICAgICAgZG9taW5hbnRCYXNlbGluZT1cIm1pZGRsZVwiXG4gICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fZmxhZy1sYWJlbFwiPlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIDwvdGV4dD5cbiAgICAgICAgPC9JY29uRmxhZz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fYXJyb3ctZmxhZy1iYXNlJywgY2xhc3NOYW1lKX0gey4uLmV4dHJhUHJvcHN9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19hcnJvdy1mbGFnLWJhc2VfX3RhaWxcIiBzdHlsZT17dGFpbFBvc2l0aW9ufSAvPlxuICAgICAge2xhYmVsICYmIHJlbmRlckZsYWcoKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFBPU0lUSU9OLCBQb3NpdGlvblR5cGUgfSBmcm9tICcuLi9tYXJrZXIvQXJyb3dGbGFnQmFzZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGhlYWRlclBvc2l0aW9uPzogUG9zaXRpb25UeXBlO1xufTtcblxuZXhwb3J0IGNvbnN0IEljb25GbGFnOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICBoZWFkZXJQb3NpdGlvbiA9IFBPU0lUSU9OLkxFRlQsXG59OiBQcm9wcykgPT4ge1xuICBpZiAoaGVhZGVyUG9zaXRpb24gPT0gUE9TSVRJT04uTEVGVCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgNjIgMjJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxwYXRoIGQ9XCJNNTIuMDEwOCAyMC44MzE1TDUyLjAxMDUgMjAuODMxOEM1MS41NTI1IDIxLjI1MjUgNTAuOTUyNyAyMS40OTEgNTAuMzI2NSAyMS41SDMuMDI4MjhDMi4zNTYyMyAyMS41IDEuNzEyNjQgMjEuMjM1NSAxLjIzODg1IDIwLjc2NjFDMC43NjUyMiAyMC4yOTY5IDAuNSAxOS42NjE1IDAuNSAxOVYzQzAuNSAyLjMzODQ4IDAuNzY1MjIxIDEuNzAzMDkgMS4yMzg4NSAxLjIzMzg5QzEuNzEyNjQgMC43NjQ1MTkgMi4zNTYyMyAwLjUgMy4wMjgyOCAwLjVINTAuMjQ1N0M1MC44NzE5IDAuNTA5MDIgNTEuNDcxOCAwLjc0NzQ2NiA1MS45Mjk4IDEuMTY4MjFMNTEuOTMgMS4xNjg0Nkw2MC42NTE1IDkuMTY4NDZMNjAuNjUxNCA5LjE2ODUyTDYwLjY1OCA5LjE3NDM5QzYwLjkxNzUgOS40MDQwOCA2MS4xMjYgOS42ODQxMiA2MS4yNzA3IDkuOTk2NzlDNjEuNDE1NCAxMC4zMDk1IDYxLjQ5MzMgMTAuNjQ4MiA2MS40OTk2IDEwLjk5MTdDNjEuNTA1OSAxMS4zMzUzIDYxLjQ0MDUgMTEuNjc2NSA2MS4zMDc0IDExLjk5NDFDNjEuMTc0OSAxMi4zMTA0IDYwLjk3NzkgMTIuNTk2NiA2MC43Mjg2IDEyLjgzNDhMNTIuMDEwOCAyMC44MzE1WlwiIC8+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvc3ZnPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzdmcgdmlld0JveD1cIjAgMCA2MiAyMlwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxwYXRoIGQ9XCJNOS45ODkyMiAxLjE2ODQ2TDkuOTg5NSAxLjE2ODIxQzEwLjQ0NzUgMC43NDc0NzIgMTEuMDQ3MyAwLjUwOTAyOSAxMS42NzM1IDAuNDk5OTk5TDU4Ljk3MTcgMC41MDAwMDRDNTkuNjQzOCAwLjUwMDAwNCA2MC4yODc0IDAuNzY0NTIyIDYwLjc2MTEgMS4yMzM4OUM2MS4yMzQ4IDEuNzAzMSA2MS41IDIuMzM4NDggNjEuNSAzTDYxLjUgMTlDNjEuNSAxOS42NjE1IDYxLjIzNDggMjAuMjk2OSA2MC43NjExIDIwLjc2NjFDNjAuMjg3NCAyMS4yMzU1IDU5LjY0MzggMjEuNSA1OC45NzE3IDIxLjVMMTEuNzU0MyAyMS41QzExLjEyODEgMjEuNDkxIDEwLjUyODIgMjEuMjUyNSAxMC4wNzAyIDIwLjgzMThMMTAuMDcgMjAuODMxNUwxLjM0ODU0IDEyLjgzMTVMMS4zNDg2IDEyLjgzMTVMMS4zNDE5NiAxMi44MjU2QzEuMDgyNDggMTIuNTk1OSAwLjg3Mzk5IDEyLjMxNTkgMC43MjkyODMgMTIuMDAzMkMwLjU4NDU4NCAxMS42OTA1IDAuNTA2NzE5IDExLjM1MTggMC41MDA0MTcgMTEuMDA4M0MwLjQ5NDExMSAxMC42NjQ3IDAuNTU5NDk1IDEwLjMyMzUgMC42OTI2MDUgMTAuMDA1OUMwLjgyNTE0MyA5LjY4OTYxIDEuMDIyMDYgOS40MDM0MSAxLjI3MTM2IDkuMTY1MTlMOS45ODkyMiAxLjE2ODQ2WlwiIC8+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zdmc+XG4gICk7XG59O1xuIiwiLy8gSGVpZ2h0IGFuZCB3aWR0aCBhcmUgaW4gc2NyZWVuIHBpeGVsIHVuaXRzIGF0IDEwMCUgc2NhbGluZyBvZiB0aGUgcGFnZVxuZXhwb3J0IHR5cGUgRGltZW5zaW9ucyA9IHtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG59O1xuXG4vLyBUb3AgYW5kIGxlZnQgYXJlIGluIHNjcmVlbiBwaXhlbCB1bml0cyBhdCAxMDAlIHNjYWxpbmcgb2YgdGhlIHBhZ2VcbmV4cG9ydCB0eXBlIE9yaWdpbiA9IHtcbiAgdG9wOiBudW1iZXI7XG4gIGxlZnQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFNpemUgPSBEaW1lbnNpb25zICYgT3JpZ2luO1xuXG5leHBvcnQgdHlwZSBCb3VuZGluZ0JveCA9IHtcbiAgcGFnZTogbnVtYmVyO1xufSAmIFNpemU7XG5cbi8vIFJhdyBCb3VuZGluZ0JveGVzIHRvcCwgbGVmdCwgaGVpZ2h0LCBhbmQgd2lkdGggYXR0cmlidXRlcyBhcmUgZXhwcmVzc2VkIGFzIGEgcmF0aW8gb2YgdGhlXG4vLyBwYWdlIGhlaWdodC93aWR0aCBhbmQgbmVlZCB0byBiZSBzY2FsZWQgYWNjb3JkaW5nIHRvIHBhZ2Ugc2l6ZSBiZWZvcmUgdGhleSBjYW4gYmUgcmVuZGVyZWRcbmV4cG9ydCB0eXBlIFJhd0JvdW5kaW5nQm94ID0gQm91bmRpbmdCb3g7XG5cbi8vIENhbGN1bGF0ZSBhIGJvdW5kaW5nIGJveCdzIHBpeGVsIGNvb3JkaW5hdGVzIGZyb20gdGhlIHJhdyBib3VuZGluZyBib3gncyBjb29yZGl0YXRlIHJhdGlvcyBzY2FsZWQgdG8gdGhlIHBhZ2Ugc2l6ZVxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlUmF3Qm91bmRpbmdCb3goXG4gIGJvdW5kaW5nQm94UmF3OiBSYXdCb3VuZGluZ0JveCxcbiAgcGFnZUhlaWdodDogbnVtYmVyLFxuICBwYWdlV2lkdGg6IG51bWJlclxuKTogQm91bmRpbmdCb3gge1xuICBjb25zdCBib3hTY2FsZWQ6IEJvdW5kaW5nQm94ID0ge1xuICAgIHBhZ2U6IGJvdW5kaW5nQm94UmF3LnBhZ2UsXG4gICAgdG9wOiBib3VuZGluZ0JveFJhdy50b3AgKiBwYWdlSGVpZ2h0LFxuICAgIGxlZnQ6IGJvdW5kaW5nQm94UmF3LmxlZnQgKiBwYWdlV2lkdGgsXG4gICAgaGVpZ2h0OiBib3VuZGluZ0JveFJhdy5oZWlnaHQgKiBwYWdlSGVpZ2h0LFxuICAgIHdpZHRoOiBib3VuZGluZ0JveFJhdy53aWR0aCAqIHBhZ2VXaWR0aCxcbiAgfTtcblxuICByZXR1cm4gYm94U2NhbGVkO1xufVxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IEJvdW5kaW5nQm94IGFzIEJvdW5kaW5nQm94VHlwZSwgc2NhbGVSYXdCb3VuZGluZ0JveCB9IGZyb20gJy4uL3R5cGVzL2JvdW5kaW5nQm94JztcbmltcG9ydCB7IEFycm93RmxhZ0Jhc2UsIFBPU0lUSU9OLCBQb3NpdGlvblR5cGUgfSBmcm9tICcuL0Fycm93RmxhZ0Jhc2UnO1xuXG50eXBlIFByb3BzID0ge1xuICBib3VuZGluZ0JveGVzOiBBcnJheTxCb3VuZGluZ0JveFR5cGU+OyAvLyBhbGwgYm91bmRpbmcgYm94ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIG9uIHRoZSBzYW1lIHBhZ2VcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBsYWJlbD86IHN0cmluZztcbn07XG5cbmNvbnN0IENFTlRFUl9MSU5FID0gMC41O1xuY29uc3QgTElORV9IRUlHSFRfTVVMVElQTElFUiA9IDEuNTtcblxuZXhwb3J0IGNvbnN0IEFycm93RmxhZzogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgYm91bmRpbmdCb3hlcyxcbiAgY2xhc3NOYW1lLFxuICBsYWJlbCxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xuICBjb25zdCBjb252ZXJ0UmF0aW9Ub1B4ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHJhd0JvdW5kaW5nQm94OiBCb3VuZGluZ0JveFR5cGUpOiBCb3VuZGluZ0JveFR5cGUgPT5cbiAgICAgIHNjYWxlUmF3Qm91bmRpbmdCb3gocmF3Qm91bmRpbmdCb3gsIHBhZ2VEaW1lbnNpb25zLmhlaWdodCwgcGFnZURpbWVuc2lvbnMud2lkdGgpLFxuICAgIFtwYWdlRGltZW5zaW9uc11cbiAgKTtcblxuICBpZiAoYm91bmRpbmdCb3hlcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gSWYgYW55IGJvdW5kaW5nIGJveGVzIHNwYW4gb3ZlciB0aGUgY2VudGVyIGxpbmUsIHdlIGtub3cgdGhhdCBlaXRoZXIgdGhlIHBhcGVyIGlzXG4gIC8vIHNpbmdsZS1jb2x1bW4gb3IgYSBtaXggb2Ygc2luZ2xlLWNvbHVtbiBhbmQgdHdvLWNvbHVtbi4gSW4gc3VjaCBjYXNlLCBib3VuZGluZ1xuICAvLyBib3hlcyB3aWxsIG5vdCBiZSBkaXZpZGVkIHNvIGFzIHRvIGd1YXJhbnRlZSBvbmx5IDEgZmxhZyBpcyByZW5kZXJlZCBvbiB0aGUgbGVmdCBzaWRlLlxuICBjb25zdCBoYXNXaWRlQm94ID0gYm91bmRpbmdCb3hlcy5zb21lKFxuICAgICh7IGxlZnQsIHdpZHRoIH0pID0+IGxlZnQgPCBDRU5URVJfTElORSAmJiBsZWZ0ICsgd2lkdGggPj0gQ0VOVEVSX0xJTkVcbiAgKTtcblxuICBsZXQgbGVmdEJvdW5kaW5nQm94ZXMgPSBib3VuZGluZ0JveGVzLFxuICAgIHJpZ2h0Qm91bmRpbmdCb3hlczogQm91bmRpbmdCb3hUeXBlW10gPSBbXTtcbiAgaWYgKCFoYXNXaWRlQm94KSB7XG4gICAgbGVmdEJvdW5kaW5nQm94ZXMgPSBib3VuZGluZ0JveGVzLmZpbHRlcigoeyBsZWZ0IH0pID0+IGxlZnQgPCBDRU5URVJfTElORSk7XG4gICAgcmlnaHRCb3VuZGluZ0JveGVzID0gYm91bmRpbmdCb3hlcy5maWx0ZXIoKHsgbGVmdCB9KSA9PiBsZWZ0ID49IENFTlRFUl9MSU5FKTtcbiAgfVxuXG4gIC8vIFRvIGhhbmRsZSBhIHNwZWNpYWwgY2FzZSB3aGVyZSB0aGUgcHJldmlvdXMgYm91bmRpbmcgYm94IGlzIG9uIHRoZSByaWdodCB3aGlsZVxuICAvLyB0aGUgbGF0ZXIgaXMgb24gdGhlIGxlZnQuIEluIHN1Y2ggY2FzZSwgdGhlcmUgYXJlIG9ubHkgMiBib3VuZGluZyBib3hlcy5cbiAgLy8gVGhlIHZlcnRpY2FsIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBib3hlcyBpcyB1c2VkIHRvIGRpZmZlcmVudGlhdGUgd2hldGhlciB0aGlzIGNhc2VcbiAgLy8gaGFwcGVucyBvbiBhIHNpbmdsZS1jb2x1bW4gcGFwZXIgb3IgYSB0d28tY29sdW1uIHBhcGVyLiBJZiBpdCdzIHRoZSBwcmV2aW91cywgdGhlblxuICAvLyB0aGUgd2hvbGUgZmxhZyBzaG91bGQgYXBwZWFyIG9uIHRoZSBsZWZ0LiBCb3RoIGJvdW5kaW5nIGJveGVzIHdpbGwgYmUgY2F0ZWdvcml6ZWRcbiAgLy8gYXMgbGVmdEJvdW5kaW5nQm94ZXMuIE90aGVyd2lzZSwgdGhlIHRhaWwgd3JhcHBpbmcgc3RpbGwgYXBwbGllcy5cbiAgaWYgKGxlZnRCb3VuZGluZ0JveGVzLmxlbmd0aCA9PT0gMSAmJiByaWdodEJvdW5kaW5nQm94ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gSWYgdGhlIHZlcnRpY2FsIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIGJveGVzIGlzIHNtYWxsZXIgdGhlbiAxLjUgdGltZXMgbGluZSBoZWlnaHQsXG4gICAgLy8gdGhlIHBhcGVyIGlzIGNhdGVnb3JpemVkIGFzIHNpbmdsZS1jb2x1bW4uIEJvdGggYm91bmRpbmcgYm94ZXMgYXJlIHNldCB0byBsZWZ0Qm91bmRpbmdCb3hlcy5cbiAgICAvLyBBcnJvd0ZsYWcgd2lsbCBhcHBlYXIgb24gdGhlIGxlZnRcbiAgICBpZiAoXG4gICAgICBNYXRoLmFicyhyaWdodEJvdW5kaW5nQm94ZXNbMF0udG9wIC0gbGVmdEJvdW5kaW5nQm94ZXNbMF0udG9wKSA8XG4gICAgICBMSU5FX0hFSUdIVF9NVUxUSVBMSUVSICogcmlnaHRCb3VuZGluZ0JveGVzWzBdLmhlaWdodFxuICAgICkge1xuICAgICAgbGVmdEJvdW5kaW5nQm94ZXMgPSBib3VuZGluZ0JveGVzO1xuICAgICAgcmlnaHRCb3VuZGluZ0JveGVzID0gW107XG4gICAgfVxuICB9XG5cbiAgLy8gU29ydCBib3VuZGluZyBib3hlcyBieSB0aGVpciB0b3AgcG9zaXRpb25zXG4gIGxlZnRCb3VuZGluZ0JveGVzLnNvcnQoKGZpcnN0LCBzZWNvbmQpID0+IGZpcnN0LnRvcCAtIHNlY29uZC50b3ApO1xuICByaWdodEJvdW5kaW5nQm94ZXMuc29ydCgoZmlyc3QsIHNlY29uZCkgPT4gZmlyc3QudG9wIC0gc2Vjb25kLnRvcCk7XG5cbiAgY29uc3QgcmVuZGVyQXJyb3dGbGFnQmFzZSA9IChcbiAgICBib3hlczogQm91bmRpbmdCb3hUeXBlW10sXG4gICAgcG9zaXRpb246IFBvc2l0aW9uVHlwZSxcbiAgICBzaG93TGFiZWw6IGJvb2xlYW5cbiAgKSA9PiB7XG4gICAgaWYgKGJveGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGZpcnN0Qm94ID0gY29udmVydFJhdGlvVG9QeChib3hlc1swXSksXG4gICAgICBsYXN0Qm94ID0gY29udmVydFJhdGlvVG9QeChib3hlc1tib3hlcy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICBsYWJlbDogc2hvd0xhYmVsID8gbGFiZWwgOiB1bmRlZmluZWQsXG4gICAgICB0YWlsTGVuZ3RoOiBsYXN0Qm94LnRvcCArIGxhc3RCb3guaGVpZ2h0IC0gZmlyc3RCb3gudG9wLFxuICAgICAgb3JpZ2luVG9wOiBmaXJzdEJveC50b3AsXG4gICAgICBwb3NpdGlvbixcbiAgICB9O1xuXG4gICAgcmV0dXJuIDxBcnJvd0ZsYWdCYXNlIHsuLi5wcm9wc30gLz47XG4gIH07XG5cbiAgY29uc3QgaGFzTGVmdEZsYWcgPSBsZWZ0Qm91bmRpbmdCb3hlcy5sZW5ndGggPiAwO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ3BkZi1yZWFkZXJfX2Fycm93LWZsYWcnLCBjbGFzc05hbWUpfSB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7cmVuZGVyQXJyb3dGbGFnQmFzZShsZWZ0Qm91bmRpbmdCb3hlcywgUE9TSVRJT04uTEVGVCwgaGFzTGVmdEZsYWcpfVxuICAgICAge3JlbmRlckFycm93RmxhZ0Jhc2UocmlnaHRCb3VuZGluZ0JveGVzLCBQT1NJVElPTi5SSUdIVCwgIWhhc0xlZnRGbGFnKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24sIE91dGxpbmVOb2RlIH0gZnJvbSAnLi4vdHlwZXMvb3V0bGluZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGl0ZW1zPzogQXJyYXk8T3V0bGluZU5vZGU+O1xuICBvbkNsaWNrPzogKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbikgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBPdXRsaW5lSXRlbTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgaXRlbXMsIG9uQ2xpY2sgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBpc091dGxpbmVUYXJnZXRWaXNpYmxlIH0gPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbENvbnRleHQpO1xuXG4gIGlmICghaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVySXRlbShpdGVtOiBPdXRsaW5lTm9kZSkge1xuICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IChldmVudDogYW55KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljayhpdGVtLmRlc3QpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBJZiBhbiBpdGVtIGhhcyBzdWIgdGl0bGVzLCByZW5kZXIgPE91dGxpbmVJdGVtIC8+XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBrZXk9e2l0ZW0uZGVzdD8udG9TdHJpbmcoKSB8fCBpdGVtLnRpdGxlfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ3JlYWRlcl9fb3V0bGluZS1pdGVtJywge1xuICAgICAgICAgICdyZWFkZXJfX291dGxpbmUtaXRlbS0tdGFyZ2V0LXZpc2libGUnOiBpc091dGxpbmVUYXJnZXRWaXNpYmxlKGl0ZW0uZGVzdCksXG4gICAgICAgIH0pfT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXtjbGlja0hhbmRsZXJ9IGRhdGEtdGVzdC1pZD1cInJlYWRlci1vdXRsaW5lLWl0ZW1cIj5cbiAgICAgICAgICB7aXRlbS50aXRsZX1cbiAgICAgICAgPC9hPlxuICAgICAgICA8T3V0bGluZUl0ZW0gaXRlbXM9e2l0ZW0uaXRlbXN9IG9uQ2xpY2s9e29uQ2xpY2t9IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInJlYWRlcl9fb3V0bGluZS1pdGVtc1wiPntpdGVtcy5tYXAoaXRlbSA9PiByZW5kZXJJdGVtKGl0ZW0pKX08L3VsPjtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGJ1aWxkT3V0bGluZVBvc2l0aW9ucywgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24sIE91dGxpbmVOb2RlIH0gZnJvbSAnLi4vdHlwZXMvb3V0bGluZSc7XG5pbXBvcnQgeyBPdXRsaW5lSXRlbSB9IGZyb20gJy4vT3V0bGluZUl0ZW0nO1xuXG5leHBvcnQgY29uc3QgT3V0bGluZTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQgPSAoeyAuLi5leHRyYVByb3BzIH0pID0+IHtcbiAgY29uc3QgeyBvdXRsaW5lLCBwZGZEb2NQcm94eSwgc2V0T3V0bGluZSwgc2V0T3V0bGluZVBvc2l0aW9ucyB9ID1cbiAgICBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0LCByZXNldFNjcm9sbE9ic2VydmVycyB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvdXRsaW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFwZGZEb2NQcm94eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBkZkRvY1Byb3h5XG4gICAgICAuZ2V0T3V0bGluZSgpXG4gICAgICAudGhlbigob3V0bGluZUFycmF5OiBBcnJheTxPdXRsaW5lTm9kZT4pID0+IHtcbiAgICAgICAgc2V0T3V0bGluZShvdXRsaW5lQXJyYXkpO1xuICAgICAgICByZXR1cm4gYnVpbGRPdXRsaW5lUG9zaXRpb25zKHBkZkRvY1Byb3h5LCBvdXRsaW5lQXJyYXkpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKG91dGxpbmVQb3NpdGlvbnMgPT4ge1xuICAgICAgICBzZXRPdXRsaW5lUG9zaXRpb25zKG91dGxpbmVQb3NpdGlvbnMpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzZXRTY3JvbGxPYnNlcnZlcnMoKTtcbiAgICAgIH0pO1xuICB9LCBbb3V0bGluZV0pO1xuXG4gIGNvbnN0IGNsaWNrSGFuZGxlciA9IFJlYWN0LnVzZUNhbGxiYWNrKChkZXN0OiBOb2RlRGVzdGluYXRpb24pOiB2b2lkID0+IHtcbiAgICBpZiAoIWRlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0KGRlc3QpO1xuICAgIHJldHVybjtcbiAgfSwgW10pO1xuXG4gIGlmICghcGRmRG9jUHJveHkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWFkZXJfX291dGxpbmVcIiB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7ISFvdXRsaW5lICYmIDxPdXRsaW5lSXRlbSBpdGVtcz17b3V0bGluZX0gb25DbGljaz17Y2xpY2tIYW5kbGVyfSAvPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgY29tcHV0ZVBhZ2VTdHlsZSB9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcbmltcG9ydCB7IEJvdW5kaW5nQm94IH0gZnJvbSAnLi9Cb3VuZGluZ0JveCc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDx0eXBlb2YgQm91bmRpbmdCb3g+IHwgQXJyYXk8UmVhY3QuUmVhY3RFbGVtZW50PHR5cGVvZiBCb3VuZGluZ0JveD4+O1xufTtcblxuZXhwb3J0IGNvbnN0IE92ZXJsYXk6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7IGNoaWxkcmVuLCAuLi5leHRyYVByb3BzIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG5cbiAgY29uc3QgZ2V0T3ZlcmxheVN0eWxlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBjb21wdXRlUGFnZVN0eWxlKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xuICB9LCBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19vdmVybGF5XCIgc3R5bGU9e2dldE92ZXJsYXlTdHlsZSgpfSB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcbmltcG9ydCB7IFZpc2libGVFbnRyeURldGFpbFR5cGUgfSBmcm9tICcuL1Zpc2libGVFbnRyaWVzRGV0ZWN0b3InO1xuXG50eXBlIFZpc2libGVFbGVtZW50ID0gTnVsbGFibGU8bnVtYmVyIHwgc3RyaW5nPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1heFZpc2libGVFbGVtZW50KFxuICB2aXNpYmxlRWxlbWVudHM6IE1hcDxWaXNpYmxlRWxlbWVudCwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cbik6IFZpc2libGVFbGVtZW50IHtcbiAgbGV0IG1heFZpc2libGVLZXkgPSBudWxsO1xuICBsZXQgbWF4UmF0aW8gPSAwO1xuICBmb3IgKGNvbnN0IFt2aXNpYmxlS2V5LCB7IHJhdGlvIH1dIG9mIHZpc2libGVFbGVtZW50cykge1xuICAgIGlmIChtYXhSYXRpbyA8IHJhdGlvKSB7XG4gICAgICBtYXhWaXNpYmxlS2V5ID0gdmlzaWJsZUtleTtcbiAgICAgIG1heFJhdGlvID0gcmF0aW87XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXhWaXNpYmxlS2V5O1xufVxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFNjcm9sbENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1Njcm9sbENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0TWF4VmlzaWJsZUVsZW1lbnQgfSBmcm9tICcuLi91dGlscy9NYXhWaXNpYmxlRWxlbWVudCc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59O1xuXG50eXBlIFRPRE9fX1RJTUVSID0gYW55O1xuXG5jb25zdCBERUxBWV9TQ1JPTExfVElNRV9PVVRfTVMgPSAxMDAwO1xuXG5leHBvcnQgY29uc3QgUGFnZU51bWJlckNvbnRyb2w6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7IGNsYXNzTmFtZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkZWxheVRpbWVyUmVmID0gUmVhY3QudXNlUmVmPFRPRE9fX1RJTUVSPigpO1xuICBjb25zdCB7IG51bVBhZ2VzIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgc2Nyb2xsVG9QYWdlLCB2aXNpYmxlUGFnZVJhdGlvcyB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcbiAgY29uc3QgW21pblBhZ2UsIHNldE1pblBhZ2VdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJzAnKTtcblxuICAvLyBJbml0aWFsaXplIHBhZ2UgY29udHJvbCBlbGVtZW50XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG51bVBhZ2VzICE9IDApIHtcbiAgICAgIHNldE1pblBhZ2UoMSk7XG4gICAgfVxuICB9LCBbbnVtUGFnZXNdKTtcblxuICAvLyBFdmVyeXRpbWUgd2Ugc2Nyb2xsIHRocm91Z2ggdGhlIHBhZ2UgdGhpcyB1c2VFZmZlY3RcbiAgLy8gd2lsbCB0cmlnZ2VyIGFuZCBzZXQgY3VycmVudCBwYWdlIGJhc2VkIG9uIG91ciBjdXJyZW50XG4gIC8vIHNjcm9sbCBwb3NpdGlvblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2aXNpYmxlUGFnZVJhdGlvcy5zaXplICE9PSAwKSB7XG4gICAgICBjb25zdCBtYXhWaXNpYmxlUGFnZU51bWJlciA9IGdldE1heFZpc2libGVFbGVtZW50KHZpc2libGVQYWdlUmF0aW9zKTtcbiAgICAgIGlmIChtYXhWaXNpYmxlUGFnZU51bWJlcikge1xuICAgICAgICBzZXRVc2VySW5wdXQobWF4VmlzaWJsZVBhZ2VOdW1iZXIudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdmlzaWJsZVBhZ2VSYXRpb3NdKTtcblxuICBjb25zdCBvblBhZ2VOdW1iZXJDaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgLy8gRGVjaW1hbCBjYXNlXG4gICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgIHNldFVzZXJJbnB1dChwYXJzZUludCh2YWx1ZSwgMTApLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuXG4gICAgICBzZXRVc2VySW5wdXQodmFsdWUpO1xuICAgICAgaWYgKGRlbGF5VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVsYXlUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gQWZ0ZXIgdXNlciBpbnB1dCB0aGUgcGFnZSB0aGF0IHRoZXkgd2FudCB0byBzY3JvbGwgdG9cbiAgICAgIC8vIG91ciByZWYgd2lsbCBzdGFydCBzZXR0aW5nIGEgZGVsYXkgYXJvdW5kIDFzIGJlZm9yZSBzY3JvbGxcbiAgICAgIC8vIHRvIHRoZSBwb3NpdGlvbiB0aGF0IHVzZXIgZGVzaXJlXG4gICAgICBjb25zdCBuZXdQYWdlTnVtYmVyID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgIGlmIChuZXdQYWdlTnVtYmVyID49IG1pblBhZ2UgJiYgbmV3UGFnZU51bWJlciA8PSBudW1QYWdlcykge1xuICAgICAgICBkZWxheVRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzY3JvbGxUb1BhZ2UoeyBwYWdlTnVtYmVyOiBuZXdQYWdlTnVtYmVyIH0pO1xuICAgICAgICB9LCBERUxBWV9TQ1JPTExfVElNRV9PVVRfTVMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW21pblBhZ2UsIG51bVBhZ2VzLCBzY3JvbGxUb1BhZ2VdXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlQmx1ciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoZGVsYXlUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZGVsYXlUaW1lclJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgY29uc3QgcGFnZU51bWJlciA9IHBhcnNlSW50KHVzZXJJbnB1dCwgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4ocGFnZU51bWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZWxheVRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNjcm9sbFRvUGFnZSh7IHBhZ2VOdW1iZXI6IHBhZ2VOdW1iZXIgfSk7XG4gICAgfSwgREVMQVlfU0NST0xMX1RJTUVfT1VUX01TKTtcbiAgfSwgW3VzZXJJbnB1dCwgc2Nyb2xsVG9QYWdlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fcGFnZS1udW1iZXItY29udHJvbCcsIGNsYXNzTmFtZSl9PlxuICAgICAgPGlucHV0XG4gICAgICAgIGFyaWEtbGFiZWw9XCJDdXJyZW50IFBhZ2VcIlxuICAgICAgICBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlLW51bWJlci1jb250cm9sX19jdXJyZW50LXBhZ2VcIlxuICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgbmFtZT1cImN1cnJlbnRQYWdlXCJcbiAgICAgICAgdmFsdWU9e3VzZXJJbnB1dH1cbiAgICAgICAgb25DaGFuZ2U9e29uUGFnZU51bWJlckNoYW5nZX1cbiAgICAgICAgb25CbHVyPXtoYW5kbGVCbHVyfVxuICAgICAgLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3BhZ2UtbnVtYmVyLWNvbnRyb2xfX3NlcGFyYXRvciBcIj4vPC9zcGFuPlxuICAgICAgPHNwYW4gYXJpYS1sYWJlbD1cIlRvdGFsIFBhZ2VzXCIgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fcGFnZS1udW1iZXItY29udHJvbF9fdG90YWwtcGFnZXNcIj5cbiAgICAgICAge251bVBhZ2VzfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBkZmpzIH0gZnJvbSAncmVhY3QtcGRmJztcblxuaW1wb3J0IHsgUGFnZU51bWJlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvcGFnZSc7XG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xuaW1wb3J0IHsgbG9nUHJvdmlkZXJXYXJuaW5nIH0gZnJvbSAnLi4vdXRpbHMvcHJvdmlkZXInO1xuaW1wb3J0IHsgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSB9IGZyb20gJy4uL3V0aWxzL1Zpc2libGVFbnRyaWVzRGV0ZWN0b3InO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJTdGF0ZSA9IHtcbiAgcHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+O1xuICBvYmplY3RVUkw6IE51bGxhYmxlPHN0cmluZz47XG59O1xuXG5leHBvcnQgdHlwZSBQYWdlTnVtYmVyVG9SZW5kZXJTdGF0ZU1hcCA9IE1hcDxudW1iZXIsIFJlbmRlclN0YXRlPjtcblxuZXhwb3J0IGludGVyZmFjZSBJUGFnZVJlbmRlckNvbnRleHQge1xuICBwYWdlUmVuZGVyU3RhdGVzOiBQYWdlTnVtYmVyVG9SZW5kZXJTdGF0ZU1hcDtcbiAgZ2V0T2JqZWN0VVJMRm9yUGFnZTogKHBhZ2VOdW1iZXI6IFBhZ2VOdW1iZXIpID0+IE51bGxhYmxlPHN0cmluZz47XG4gIGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gYm9vbGVhbjtcbiAgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzOiAoKSA9PiBib29sZWFuO1xuICBidWlsZE9iamVjdFVSTEZvclBhZ2U6IChwYWdlTnVtYmVyOiBQYWdlTnVtYmVyKSA9PiBQcm9taXNlPHN0cmluZz47XG59XG5cbmV4cG9ydCBjb25zdCBQYWdlUmVuZGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SVBhZ2VSZW5kZXJDb250ZXh0Pih7XG4gIHBhZ2VSZW5kZXJTdGF0ZXM6IG5ldyBNYXAoKSxcbiAgZ2V0T2JqZWN0VVJMRm9yUGFnZTogYXJncyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBnZXRPYmplY3RVUkxGb3JQYWdlKCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KWAsICdQYWdlUmVuZGVyQ29udGV4dCcpO1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZTogYXJncyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSgke0pTT04uc3RyaW5naWZ5KGFyZ3MpfSlgLCAnUGFnZVJlbmRlckNvbnRleHQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzRmluaXNoZWRCdWlsZGluZ0FsbFBhZ2VzT2JqZWN0VVJMczogKCkgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzKClgLCAnUGFnZVJlbmRlckNvbnRleHQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGJ1aWxkT2JqZWN0VVJMRm9yUGFnZTogYXJncyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBidWlsZE9iamVjdFVSTEZvclBhZ2UoJHtKU09OLnN0cmluZ2lmeShhcmdzKX0pYCwgJ1BhZ2VSZW5kZXJDb250ZXh0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhZ2VSZW5kZXJDb250ZXh0UHJvcHMoe1xuICBwZGZEb2NQcm94eSxcbiAgcGl4ZWxSYXRpbyxcbiAgc2NhbGUsXG4gIHZpc2libGVQYWdlUmF0aW9zLFxufToge1xuICBwZGZEb2NQcm94eT86IHBkZmpzLlBERkRvY3VtZW50UHJveHk7XG4gIHBpeGVsUmF0aW86IG51bWJlcjtcbiAgc2NhbGU6IG51bWJlcjtcbiAgdmlzaWJsZVBhZ2VSYXRpb3M6IE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xufSk6IElQYWdlUmVuZGVyQ29udGV4dCB7XG4gIGNvbnN0IFtwYWdlUmVuZGVyU3RhdGVzLCBfc2V0UGFnZVJlbmRlclN0YXRlc10gPSBSZWFjdC51c2VTdGF0ZTxQYWdlTnVtYmVyVG9SZW5kZXJTdGF0ZU1hcD4oXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShtYXApO1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICk7XG5cbiAgLy8gQmVjYXVzZSByZW5kZXJpbmcgYSBwYWdlIGlzIGFzeW5jLCB3ZSB3aWxsIGxvc2UgdGhlIGN1cnJlbnQgcGFnZVJlbmRlclN0YXRlc1xuICAvLyBUaGlzIHJlZiB0cmljayBhbGxvd3MgdGhlIGxhdGVzdCB0byBiZSBhY2Nlc3NpYmxlIHdoZW4gdGhlIG9iamVjdFVSTCBpcyByZWFkeVxuICBjb25zdCBwYWdlUmVuZGVyU3RhdGVzUmVmID0gUmVhY3QudXNlUmVmKHBhZ2VSZW5kZXJTdGF0ZXMpO1xuICBjb25zdCBzZXRQYWdlUmVuZGVyU3RhdGVzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHBhZ2VSZW5kZXJTdGF0ZXM6IFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwKSA9PiB7XG4gICAgICBwYWdlUmVuZGVyU3RhdGVzUmVmLmN1cnJlbnQgPSBwYWdlUmVuZGVyU3RhdGVzO1xuICAgICAgX3NldFBhZ2VSZW5kZXJTdGF0ZXMocGFnZVJlbmRlclN0YXRlcyk7XG4gICAgfSxcbiAgICBbcGFnZVJlbmRlclN0YXRlc1JlZl1cbiAgKTtcblxuICBjb25zdCBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXRlID0gcGFnZVJlbmRlclN0YXRlcy5nZXQocGFnZU51bWJlcik7XG4gICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhc3RhdGUub2JqZWN0VVJMO1xuICAgIH0sXG4gICAgW3BhZ2VSZW5kZXJTdGF0ZXNdXG4gICk7XG5cbiAgY29uc3QgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzID0gUmVhY3QudXNlQ2FsbGJhY2soKCk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghcGRmRG9jUHJveHkpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBwYWdlTnVtYmVyID0gMTsgcGFnZU51bWJlciA8PSBwZGZEb2NQcm94eS5udW1QYWdlczsgcGFnZU51bWJlcisrKSB7XG4gICAgICBpZiAoIXBhZ2VSZW5kZXJTdGF0ZXMuZ2V0KHBhZ2VOdW1iZXIpPy5vYmplY3RVUkwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSwgW3BkZkRvY1Byb3h5LCBwYWdlUmVuZGVyU3RhdGVzXSk7XG5cbiAgY29uc3QgZ2V0T2JqZWN0VVJMRm9yUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogTnVsbGFibGU8c3RyaW5nPiA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhZ2VSZW5kZXJTdGF0ZXMuZ2V0KHBhZ2VOdW1iZXIpPy5vYmplY3RVUkwgfHwgbnVsbDtcbiAgICB9LFxuICAgIFtwYWdlUmVuZGVyU3RhdGVzXVxuICApO1xuXG4gIGNvbnN0IGJ1aWxkT2JqZWN0VVJMRm9yUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFnZU51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9wIFwicGFnZU51bWJlclwiIGlzIG5vdCBhIG51bWJlcicpO1xuICAgICAgfVxuICAgICAgaWYgKCFwZGZEb2NQcm94eSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBidWlsZCBhIHBhZ2UgdW50aWwgYSBcInBkZkRvY1Byb3h5XCIgaXMgc2V0IG9uIERvY3VtZW50Q29udGV4dCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBEb24ndCBuZWVkIHRvIHN0YXJ0IGFub3RoZXIgdGFzayBpZiBhbHJlYWR5IHJlbmRlcmVkXG4gICAgICBjb25zdCBleGlzdGluZ1Byb21pc2UgPSBwYWdlUmVuZGVyU3RhdGVzLmdldChwYWdlTnVtYmVyKT8ucHJvbWlzZTtcbiAgICAgIGlmIChleGlzdGluZ1Byb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nUHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvbWlzZSA9IGJ1aWxkUGFnZU9iamVjdFVSTCh7XG4gICAgICAgIHBhZ2VOdW1iZXIsXG4gICAgICAgIHBkZkRvY1Byb3h5LFxuICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICBzY2FsZSxcbiAgICAgICAgcHJvbWlzZVRpbWVzdGFtcDogZmx1c2hUaW1lc3RhbXAsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZSA9IHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgb2JqZWN0VVJMOiBudWxsLFxuICAgICAgfTtcbiAgICAgIHByb21pc2UudGhlbihvYmplY3RVUkwgPT4ge1xuICAgICAgICBpZiAoIW9iamVjdFVSTCkgcmV0dXJuO1xuICAgICAgICByZW5kZXJTdGF0ZS5vYmplY3RVUkwgPSBvYmplY3RVUkw7XG4gICAgICAgIGNvbnN0IG5ld1BhZ2VSZW5kZXJTdGF0ZXMgPSBuZXcgTWFwKHBhZ2VSZW5kZXJTdGF0ZXNSZWYuY3VycmVudCk7XG4gICAgICAgIE9iamVjdC5mcmVlemUobmV3UGFnZVJlbmRlclN0YXRlcyk7XG4gICAgICAgIHNldFBhZ2VSZW5kZXJTdGF0ZXMobmV3UGFnZVJlbmRlclN0YXRlcyk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5ld1BhZ2VSZW5kZXJTdGF0ZXMgPSBuZXcgTWFwKHBhZ2VSZW5kZXJTdGF0ZXNSZWYuY3VycmVudCk7XG4gICAgICBuZXdQYWdlUmVuZGVyU3RhdGVzLnNldChwYWdlTnVtYmVyLCByZW5kZXJTdGF0ZSk7XG4gICAgICBPYmplY3QuZnJlZXplKG5ld1BhZ2VSZW5kZXJTdGF0ZXMpO1xuICAgICAgc2V0UGFnZVJlbmRlclN0YXRlcyhuZXdQYWdlUmVuZGVyU3RhdGVzKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgW3BhZ2VSZW5kZXJTdGF0ZXMsIHBkZkRvY1Byb3h5LCBzY2FsZV1cbiAgKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHZpc2libGVQYWdlcyA9IFsuLi52aXNpYmxlUGFnZVJhdGlvcy5rZXlzKCldO1xuICAgIGlmICghcGRmRG9jUHJveHkgfHwgWy4uLnBhZ2VSZW5kZXJTdGF0ZXMua2V5cygpXS5sZW5ndGggPT09IHBkZkRvY1Byb3h5Lm51bVBhZ2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJpb3JpdHlRdWV1ZSA9IGdldFByaW9yaXR5UXVldWUodmlzaWJsZVBhZ2VzLCBwZGZEb2NQcm94eS5udW1QYWdlcyk7XG4gICAgZm9yIChjb25zdCBwYWdlTnVtYmVyIG9mIHByaW9yaXR5UXVldWUpIHtcbiAgICAgIGJ1aWxkT2JqZWN0VVJMRm9yUGFnZSh7IHBhZ2VOdW1iZXIgfSk7XG4gICAgfVxuICB9LCBbcGFnZVJlbmRlclN0YXRlcywgcGRmRG9jUHJveHksIHZpc2libGVQYWdlUmF0aW9zXSk7XG5cbiAgLy8gRmx1c2ggcGFnZSByZW5kZXIgc3RhdGVzIHdoZW4gc2NhbGUgY2hhbmdlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENsZWFuIG1lbW9yeSBvZiBvbGQgZ2VuZXJhdGVkIGltYWdlc1xuICAgIGZvciAoY29uc3QgWywgcmVuZGVyU3RhdGVdIG9mIHBhZ2VSZW5kZXJTdGF0ZXNSZWYuY3VycmVudCkge1xuICAgICAgaWYgKHJlbmRlclN0YXRlLm9iamVjdFVSTCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHJlbmRlclN0YXRlLm9iamVjdFVSTCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgY3VycmVudCBhc3luYyBwcm9taXNlcyBkb250IGhhdmUgdGhpcyB0aW1lc3RhbXAsIHRoZW4gd2UgZmx1c2ggdGhlbVxuICAgIGZsdXNoVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAvLyBDbGVhciBhbGwgcGFnZSByZW5kZXIgc3RhdGVzLCBzbyBwYWdlcyBjYW4gcmVidWlsZCBpbWFnZXNcbiAgICBjb25zdCBuZXdQYWdlUmVuZGVyU3RhdGVzID0gbmV3IE1hcCgpO1xuICAgIE9iamVjdC5mcmVlemUobmV3UGFnZVJlbmRlclN0YXRlcyk7XG4gICAgc2V0UGFnZVJlbmRlclN0YXRlcyhuZXdQYWdlUmVuZGVyU3RhdGVzKTtcbiAgfSwgW3NjYWxlLCBwaXhlbFJhdGlvXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYWdlUmVuZGVyU3RhdGVzLFxuICAgIGdldE9iamVjdFVSTEZvclBhZ2UsXG4gICAgaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2UsXG4gICAgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzLFxuICAgIGJ1aWxkT2JqZWN0VVJMRm9yUGFnZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5laWdoYm9yaW5nUGFnZXMocGFnZXM6IG51bWJlcltdLCBudW1Ub3RhbFBhZ2VzOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIHJldHVybiBwYWdlcy5sZW5ndGggPT09IDBcbiAgICA/IFtdXG4gICAgOiBbTWF0aC5tYXgoMSwgcGFnZXNbMF0gLSAxKSwgTWF0aC5taW4obnVtVG90YWxQYWdlcywgcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV0gKyAxKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmlvcml0eVF1ZXVlKHZpc2libGVQYWdlczogbnVtYmVyW10sIG51bVBhZ2VzOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIGNvbnN0IHZpc2libGVQYWdlc05laWdoYm9ycyA9IGdldE5laWdoYm9yaW5nUGFnZXModmlzaWJsZVBhZ2VzLCBudW1QYWdlcyk7XG4gIGNvbnN0IGFsbFBhZ2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtUGFnZXMgfSwgKF8sIGkpID0+IGkgKyAxKTtcbiAgY29uc3QgcHJpb3JpdHlRdWV1ZSA9IG5ldyBTZXQoWy4uLnZpc2libGVQYWdlcywgLi4udmlzaWJsZVBhZ2VzTmVpZ2hib3JzLCAuLi5hbGxQYWdlc10pOyAvLyBwdXQgaW50byBzZXQgdG8gcmVtb3ZlIGR1cGxpY2F0c1xuICByZXR1cm4gQXJyYXkuZnJvbShwcmlvcml0eVF1ZXVlKTsgLy8gY29udmVydCBzZXQgdG8gYXJyYXlcbn1cblxuLy8gVGhpcyBib29zdCBjYXVzZXMgdGhlIHJlbmRlcmVkIGltYWdlIHRvIGJlIHNjYWxlZCB1cCBieSB0aGlzIGFtb3VudFxuY29uc3QgU0NBTEVfQk9PU1QgPSAyO1xuXG4vLyBHZW5lcmF0ZSBhbiBvYmplY3QgdXJsIGZvciBhIGdpdmVuIHBhZ2UsIHJlbmRlcmVkIGluIGEgc2hhcmVkIGNhbnZhc1xuYXN5bmMgZnVuY3Rpb24gYnVpbGRQYWdlT2JqZWN0VVJMKHtcbiAgcGFnZU51bWJlcixcbiAgcGRmRG9jUHJveHksXG4gIHBpeGVsUmF0aW8gPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IG51bGwpIHx8IDAsXG4gIHNjYWxlID0gMSxcbiAgaW1hZ2VUeXBlID0gJ2ltYWdlL3BuZycsXG4gIGltYWdlUXVhbGl0eSA9IDEuMCxcbiAgcHJvbWlzZVRpbWVzdGFtcCxcbn06IHtcbiAgcGFnZU51bWJlcjogbnVtYmVyO1xuICBwZGZEb2NQcm94eTogcGRmanMuUERGRG9jdW1lbnRQcm94eTtcbiAgcGl4ZWxSYXRpbz86IG51bWJlcjtcbiAgc2NhbGU/OiBudW1iZXI7XG4gIGltYWdlVHlwZT86IHN0cmluZztcbiAgaW1hZ2VRdWFsaXR5PzogbnVtYmVyO1xuICBwcm9taXNlVGltZXN0YW1wOiBudW1iZXI7XG59KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcGFnZVByb3h5ID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0UGFnZShwYWdlTnVtYmVyKTtcblxuICBjb25zdCBibG9iOiBOdWxsYWJsZTxCbG9iPiB8IG51bWJlciA9IGF3YWl0IHVzZVJlbmRlckNhbnZhcyhhc3luYyBjYW52YXMgPT4ge1xuICAgIGlmIChwcm9taXNlVGltZXN0YW1wICE9PSBmbHVzaFRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHByb21pc2VUaW1lc3RhbXA7IC8vIGZsdXNoIHN0YWxlIHByb21pc2VcbiAgICB9XG4gICAgLy8gUmVuZGVyIHBhZ2UgaW4gYSBjYW52YXNcbiAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2VQcm94eS5nZXRWaWV3cG9ydCh7IHNjYWxlOiBzY2FsZSAqIHBpeGVsUmF0aW8gKiBTQ0FMRV9CT09TVCB9KTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgIGNvbnN0IGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWNhbnZhc0NvbnRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2FudmFzIHdhcyB1bmFibGUgdG8gZ2V0IGEgY29udGV4dCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlbmRlclRhc2sgPSBwYWdlUHJveHkucmVuZGVyKHtcbiAgICAgIGNhbnZhc0NvbnRleHQsXG4gICAgICB2aWV3cG9ydCxcbiAgICAgIGludGVudDogJ3ByaW50JywgLy8gaW1tZWRpYXRlbHkgcmVuZGVyIHBhZ2VzIG9uIGluYWN0aXZlIHBhZ2VzXG4gICAgfSk7XG4gICAgYXdhaXQgcmVuZGVyVGFzay5wcm9taXNlO1xuXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE2KSk7XG5cbiAgICAvLyBGZXRjaCBhIGJsb2IgZm9yIGFuIGltYWdlIG9mIHRoZSBjYW52YXNcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FudmFzLnRvQmxvYihibG9iID0+IHJlc29sdmUoYmxvYiksIGltYWdlVHlwZSwgaW1hZ2VRdWFsaXR5KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2YgYmxvYiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgLy8gQ29udmVydCBibG9iIGltYWdlIHRvIG9iamVjdCB1cmxcbiAgaWYgKCFibG9iKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gY3JlYXRlIGltYWdlIGZyb20gcGFnZScpO1xuICB9XG4gIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xufVxuXG5sZXQgcmVuZGVyQ2FudmFzOiBOdWxsYWJsZTxIVE1MQ2FudmFzRWxlbWVudD4gPSBudWxsO1xuXG4vLyBHZXQgb3IgY3JlYXRlIGEgc2hhcmVkIGNhbnZhcyBmb3IgcmVuZGVyaW5nIHBhZ2VzIGluXG5mdW5jdGlvbiBnZXRSZW5kZXJDYW52YXMoKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICBpZiAoIXJlbmRlckNhbnZhcykge1xuICAgIHJlbmRlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB9XG4gIHJldHVybiByZW5kZXJDYW52YXM7XG59XG5cbmxldCBmbHVzaFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xubGV0IG5leHRDYW52YXNVc2U6IFByb21pc2U8YW55PiA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4vLyBVc2UgdGhlIHNoYXJlZCBjYW52YXMgdG8gcmVuZGVyIGEgcGFnZSwgdXNpbmcgcHJvbWlzZXMgdG8gY3JlYXRlIGEgcXVldWVcbmFzeW5jIGZ1bmN0aW9uIHVzZVJlbmRlckNhbnZhczxUPihjYWxsYmFjazogKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICBsZXQgcmVzb2x2ZSA9IChfdmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4ge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgbGV0IHJlamVjdCA9IChfcmVhc29uOiBhbnkpID0+IHt9O1xuICBjb25zdCBwcm9tID0gbmV3IFByb21pc2U8VD4oKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgIHJlamVjdCA9IF9yZWplY3Q7XG4gIH0pO1xuICBuZXh0Q2FudmFzVXNlID0gbmV4dENhbnZhc1VzZS50aGVuKCgpID0+IGNhbGxiYWNrKGdldFJlbmRlckNhbnZhcygpKS50aGVuKHJlc29sdmUsIHJlamVjdCkpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9tO1xuICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDE2KSk7IC8vIEdpdmUgc29tZSB0aW1lIGJldHdlZW4gcmVuZGVyc1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAncmVhY3QtcGRmJztcbmltcG9ydCB7IFJlbmRlckZ1bmN0aW9uIH0gZnJvbSAncmVhY3QtcGRmL2Rpc3QvUGFnZSc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFBhZ2VSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9QYWdlUmVuZGVyQ29udGV4dCc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcbmltcG9ydCB7IFVpQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVWlDb250ZXh0JztcbmltcG9ydCB7IGdldENsYXNzTmFtZVN1ZmZpeEZyb21SZW5kZXJUeXBlLCBSZW5kZXJUeXBlIH0gZnJvbSAnLi4vdXRpbHMvcmVhZGVyLXV0aWxzJztcbmltcG9ydCB7IGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4IH0gZnJvbSAnLi4vdXRpbHMvc2Nyb2xsJztcbmltcG9ydCB7IGNvbXB1dGVQYWdlU3R5bGUsIGdldFBhZ2VXaWR0aCB9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcbmltcG9ydCB7IEhpZ2hsaWdodE92ZXJsYXkgfSBmcm9tICcuL0hpZ2hsaWdodE92ZXJsYXknO1xuaW1wb3J0IHsgT3ZlcmxheSB9IGZyb20gJy4vT3ZlcmxheSc7XG5cbi8qKlxuICogQSBzdWJzZXQgb2YgcmVhY3QtcGRmJ3MgUGFnZSBjb21wb25lbnQgcHJvcHMgZXhwb3NlZCBieSB0aGlzIHdyYXBwZXJcbiAqL1xuZXhwb3J0IHR5cGUgUGFnZVByb3BzID0ge1xuICBlcnJvcj86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudCB8IFJlbmRlckZ1bmN0aW9uO1xuICBsb2FkaW5nPzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50IHwgUmVuZGVyRnVuY3Rpb247XG4gIG5vRGF0YT86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudCB8IFJlbmRlckZ1bmN0aW9uO1xuICBwYWdlSW5kZXg6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGxvYWRpbmdDb250ZW50Rm9yQnVpbGRpbmdJbWFnZT86IFJlYWN0LlJlYWN0RWxlbWVudDtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdEVsZW1lbnQ8dHlwZW9mIEhpZ2hsaWdodE92ZXJsYXkgfCB0eXBlb2YgT3ZlcmxheT47XG4gIHJlbmRlclR5cGU6IFJlbmRlclR5cGU7XG59ICYgUGFnZVByb3BzO1xuXG5leHBvcnQgY29uc3QgUGFnZVdyYXBwZXI6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBlcnJvcixcbiAgbG9hZGluZyxcbiAgbG9hZGluZ0NvbnRlbnRGb3JCdWlsZGluZ0ltYWdlLFxuICBub0RhdGEsXG4gIHBhZ2VJbmRleCxcbiAgcmVuZGVyVHlwZSxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMsIGdldE91dGxpbmVUYXJnZXRzLCBzZXROdW1QYWdlc0xvYWRlZCB9ID1cbiAgICBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgZ2V0T2JqZWN0VVJMRm9yUGFnZSwgaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2UgfSA9IFJlYWN0LnVzZUNvbnRleHQoUGFnZVJlbmRlckNvbnRleHQpO1xuICBjb25zdCB7IGlzTG9hZGluZyB9ID0gUmVhY3QudXNlQ29udGV4dChVaUNvbnRleHQpO1xuXG4gIGNvbnN0IG9iamVjdFVSTEZvclBhZ2UgPSBnZXRPYmplY3RVUkxGb3JQYWdlKHsgcGFnZUluZGV4IH0pO1xuICBjb25zdCBpc0J1aWxkaW5nUGFnZUltYWdlID0gaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2UoeyBwYWdlSW5kZXggfSk7XG5cbiAgLy8gRG9uJ3QgZGlzcGxheSB1bnRpbCB3ZSBoYXZlIHBhZ2Ugc2l6ZSBkYXRhXG4gIC8vIFRPRE86IEhhbmRsZSB0aGlzIG5pY2VyIHNvIHdlIGRpc3BsYXkgZWl0aGVyIHRoZSBsb2FkaW5nIG9yIGVycm9yIHRyZWF0bWVudFxuICBpZiAoIXBhZ2VEaW1lbnNpb25zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBnZXRQYWdlU3R5bGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IGNvbXB1dGVQYWdlU3R5bGUocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSk7XG4gICAgaWYgKG9iamVjdFVSTEZvclBhZ2UpIHtcbiAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7b2JqZWN0VVJMRm9yUGFnZX0pYDtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfSwgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUsIG9iamVjdFVSTEZvclBhZ2VdKTtcblxuICBjb25zdCBnZXRXaWR0aCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0UGFnZVdpZHRoKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbik7XG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb25dKTtcblxuICBjb25zdCBvdXRsaW5lVGFyZ2V0cyA9IGdldE91dGxpbmVUYXJnZXRzKHtcbiAgICBwYWdlSW5kZXgsXG4gICAgc2NhbGUsXG4gICAgcm90YXRpb24sXG4gICAgcGFnZURpbWVuc2lvbnMsXG4gIH0pO1xuXG4gIGNvbnN0IG1hcmtQYWdlQXNMb2FkZWQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0TnVtUGFnZXNMb2FkZWQocHJldk51bVBhZ2VzTG9hZGVkID0+IHByZXZOdW1QYWdlc0xvYWRlZCArIDEpO1xuICB9LCBbXSk7XG5cbiAgLy8gV2lkdGggbmVlZHMgdG8gYmUgc2V0IHRvIHByZXZlbnQgdGhlIG91dGVybW9zdCBQYWdlIGRpdiBmcm9tIGV4dGVuZGluZyB0byBmaXQgdGhlIHBhcmVudCxcbiAgLy8gYW5kIG1pcy1hbGlnbmluZyB0aGUgdGV4dCBsYXllci5cbiAgLy8gVE9ETzogQ2FuIHdlIENTUyB0aGlzIHRvIGF1dG8tc2hyaW5rP1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGlkPXtnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleChwYWdlSW5kZXgpfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAncGRmLXJlYWRlcl9fcGFnZScsXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3BhZ2UtLWhhcy1wYWdlLWltYWdlJzogb2JqZWN0VVJMRm9yUGFnZSB9LFxuICAgICAgICB7ICdwZGYtcmVhZGVyX19wYWdlLS1uby1wYWdlLWltYWdlJzogIW9iamVjdFVSTEZvclBhZ2UgfSxcbiAgICAgICAgYHBkZi1yZWFkZXJfX3BhZ2UtLXJlbmRlci10eXBlLSR7Z2V0Q2xhc3NOYW1lU3VmZml4RnJvbVJlbmRlclR5cGUocmVuZGVyVHlwZSl9YCxcbiAgICAgICAgeyAncGRmLXJlYWRlcl9faXMtYnVpbGRpbmctcGFnZS1pbWFnZSc6IGlzQnVpbGRpbmdQYWdlSW1hZ2UgfVxuICAgICAgKX1cbiAgICAgIGRhdGEtcGFnZS1udW1iZXI9e3BhZ2VJbmRleCArIDF9XG4gICAgICBzdHlsZT17Z2V0UGFnZVN0eWxlKCl9XG4gICAgICB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICB7aXNCdWlsZGluZ1BhZ2VJbWFnZSAmJiAhaXNMb2FkaW5nICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fcGFnZScsIHtcbiAgICAgICAgICAgICdwZGYtcmVhZGVyX19wYWdlLS1pcy1sb2FkaW5nLWltYWdlJzogaXNCdWlsZGluZ1BhZ2VJbWFnZSxcbiAgICAgICAgICB9KX0+XG4gICAgICAgICAge2xvYWRpbmdDb250ZW50Rm9yQnVpbGRpbmdJbWFnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFBhZ2VcbiAgICAgICAgd2lkdGg9e2dldFdpZHRoKCl9XG4gICAgICAgIGVycm9yPXtlcnJvcn1cbiAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgbm9EYXRhPXtub0RhdGF9XG4gICAgICAgIHBhZ2VJbmRleD17cGFnZUluZGV4fVxuICAgICAgICBzY2FsZT17c2NhbGV9XG4gICAgICAgIHJvdGF0ZT17cm90YXRpb259XG4gICAgICAgIHJlbmRlckFubm90YXRpb25MYXllcj17dHJ1ZX1cbiAgICAgICAgb25HZXRUZXh0U3VjY2Vzcz17bWFya1BhZ2VBc0xvYWRlZH1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3BhZ2VfX291dGxpbmUtdGFyZ2V0c1wiPlxuICAgICAgICB7b3V0bGluZVRhcmdldHMubWFwKCh7IGRlc3QsIGxlZnRQeCwgdG9wUHggfSkgPT4gKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBrZXk9e2Rlc3R9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldFwiXG4gICAgICAgICAgICBkYXRhLW91dGxpbmUtdGFyZ2V0LWRlc3Q9e2Rlc3R9XG4gICAgICAgICAgICBkYXRhLXRlc3QtaWQ9XCJwZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldFwiXG4gICAgICAgICAgICBzdHlsZT17eyBsZWZ0OiBsZWZ0UHggKyAncHgnLCB0b3A6IHRvcFB4ICsgJ3B4JyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn07XG5cbi8qKlxuICogSFRNTCBhbmNob3IgdGFnIGFsbG93cyB5b3UgdG8gZG93bmxvYWQgYSBmaWxlIGZyb20gdGhlIHNhbWUgb3JpZ2luLlxuICogVGhpcyBpcyBhIHdvcmthcm91bmQgdG8gZG93bmxvYWQgYSBmaWxlIHNlcnZlZCBmcm9tIGEgZGlmZmVyZW50IG9yaWdpblxuICovXG5leHBvcnQgY29uc3QgUHJpbnRCdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgb25DbGljaz17KCkgPT4gb25DbGlja1ByaW50KCl9XG4gICAgICBhcmlhLWxhYmVsPVwiUHJpbnQgUERGXCJcbiAgICAgIGNsYXNzTmFtZT17YHBkZi1yZWFkZXJfX3ByaW50LWJ0biAke2NsYXNzTmFtZX1gfVxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnUHJpbnQnfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2xpY2tQcmludCgpOiB2b2lkIHtcbiAgd2luZG93LnByaW50KCk7XG59XG4iLCIvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgbWluIG9yIG1heCBpZiB2YWx1ZSBleGNlZWRzIHRoZSByYW5nZSwgb3RoZXJ3aXNlXG4vLyB0aGUgb3JpZ2luYWwgdmFsdWUgaXMgcmV0dXJuZWRcbmV4cG9ydCBjb25zdCBiYW5kUGFzc0ZpbHRlciA9ICh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XG59O1xuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGJhbmRQYXNzRmlsdGVyIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCc7XG5cbmNvbnN0IERFRkFVTFRfTUlOX1dJRFRIX1BYID0gMzAwO1xuY29uc3QgREVGQVVMVF9NQVhfV0lEVEhfUFggPSA3MDA7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBtaW5XaWR0aFB4PzogbnVtYmVyO1xuICBtYXhXaWR0aFB4PzogbnVtYmVyO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBoZWFkZXI/OiBzdHJpbmcgfCBSZWFjdC5SZWFjdEVsZW1lbnQ7XG4gIGNvbnRlbnQ/OiBzdHJpbmcgfCBSZWFjdC5SZWFjdEVsZW1lbnQ7XG4gIGZvb3Rlcj86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDtcbiAgaXNWaXNpYmxlPzogYm9vbGVhbjtcbiAgZHJhZ0hhbmRsZVBvc2l0aW9uPzogc3RyaW5nO1xuICBjbG9zZUJ1dHRvbj86IGJvb2xlYW4gfCBSZWFjdC5SZWFjdEVsZW1lbnQ7XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IFNpZGVQYW5lbDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgbWluV2lkdGhQeCA9IERFRkFVTFRfTUlOX1dJRFRIX1BYLFxuICBtYXhXaWR0aFB4ID0gREVGQVVMVF9NQVhfV0lEVEhfUFgsXG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW4sXG4gIGhlYWRlcixcbiAgY29udGVudCxcbiAgZm9vdGVyLFxuICBkcmFnSGFuZGxlUG9zaXRpb24sXG4gIGNsb3NlQnV0dG9uLFxuICBpc1Zpc2libGUgPSB0cnVlLFxuICBvbkNsb3NlLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICAvLyBUaGUgb3ZlcmxheSBpcyB1c2VkIHRvIGNhdGNoIG1vdXNlIHVwIGV2ZW50cyBvdmVyIGlmcmFtZSBjb250ZW50c1xuICAvLyBzbyB0aGUgbW91c2V1cCBldmVudHMgd2lsbCBub3QgYmUgbWlzc2VkIGlmIHRoZSBjbGljayBpcyByZWxlYXNlZCBvdmVyXG4gIC8vIHRoZSBpZnJhbWUgYW5kIHRoZSBldmVudCBsaXN0ZW5lcnMgd2lsbCBmYWlsIHRvIGJlIHJlbW92ZWRcbiAgY29uc3QgW2lzT3ZlcmxheVZpc2libGUsIHNldElzT3ZlcmxheVZpc2libGVdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcGFuZWxXaWR0aCwgc2V0UGFuZWxXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KG1pbldpZHRoUHgpO1xuICBjb25zdCBzaWRlUGFuZWxSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBkcmFnSGFuZGxlUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICBjb25zdCByZW5kZXJDbG9zZUJ1dHRvbiA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIGNsb3NlQnV0dG9uID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fc2lkZS1wYW5lbC1jbG9zZS1idXR0b25cIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICB4XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb3NlQnV0dG9uO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckRyYWdIYW5kbGUgPSAoKSA9PiB7XG4gICAgY29uc3QgaXNEcmFnSGFuZGxlT25MZWZ0ID0gZHJhZ0hhbmRsZVBvc2l0aW9uID09PSAnbGVmdCc7XG4gICAgY29uc3QgaXNEcmFnSGFuZGxlT25SaWdodCA9IGRyYWdIYW5kbGVQb3NpdGlvbiA9PT0gJ3JpZ2h0JztcbiAgICBpZiAoIWlzRHJhZ0hhbmRsZU9uTGVmdCAmJiAhaXNEcmFnSGFuZGxlT25SaWdodCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAobW91c2VNb3ZlRXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICAgIGlmICghc2lkZVBhbmVsUmVmIHx8ICFzaWRlUGFuZWxSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld1dpZHRoID1cbiAgICAgICAgZHJhZ0hhbmRsZVBvc2l0aW9uID09PSAnbGVmdCdcbiAgICAgICAgICA/IHNpZGVQYW5lbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0IC0gbW91c2VNb3ZlRXZlbnQucGFnZVhcbiAgICAgICAgICA6IG1vdXNlTW92ZUV2ZW50LnBhZ2VYIC0gc2lkZVBhbmVsUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblxuICAgICAgc2V0UGFuZWxXaWR0aChiYW5kUGFzc0ZpbHRlcihuZXdXaWR0aCwgbWluV2lkdGhQeCwgbWF4V2lkdGhQeCkpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbk1vdXNlVXAgPSAoKTogdm9pZCA9PiB7XG4gICAgICAvLyBkcm9wIG9wYWNpdHkgc3R5bGluZyBvbiBkcmFnIGhhbmRsZVxuICAgICAgaWYgKGRyYWdIYW5kbGVSZWYgJiYgZHJhZ0hhbmRsZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGRyYWdIYW5kbGVSZWYuY3VycmVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBzZXRJc092ZXJsYXlWaXNpYmxlKGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkRyYWdnaW5nSGFuZGxlID0gKCk6IHZvaWQgPT4ge1xuICAgICAgLy8gcHJldmVudCBmbGFzaGluZyB3aGVuIHRoZSBtb3VzZSBob3ZlcnMgb3V0c2lkZSB0aGUgcmVzaXplIHpvbmVcbiAgICAgIGlmIChkcmFnSGFuZGxlUmVmICYmIGRyYWdIYW5kbGVSZWYuY3VycmVudCkge1xuICAgICAgICBkcmFnSGFuZGxlUmVmLmN1cnJlbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgIH1cblxuICAgICAgc2V0SXNPdmVybGF5VmlzaWJsZSh0cnVlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQ2hhbmdlUGFuZWxXaWR0aCA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IG5ld1dpZHRoID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICBzZXRQYW5lbFdpZHRoKGJhbmRQYXNzRmlsdGVyKG5ld1dpZHRoLCBtaW5XaWR0aFB4LCBtYXhXaWR0aFB4KSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fcmVzaXplLXpvbmUnLCB7XG4gICAgICAgICAgJ3BkZi1yZWFkZXJfX3Jlc2l6ZS16b25lLS1sZWZ0JzogaXNEcmFnSGFuZGxlT25MZWZ0LFxuICAgICAgICAgICdwZGYtcmVhZGVyX19yZXNpemUtem9uZS0tcmlnaHQnOiBpc0RyYWdIYW5kbGVPblJpZ2h0LFxuICAgICAgICB9KX0+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2RyYWctaGFuZGxlX19hc3Npc3RpdmUtaW5wdXRcIlxuICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgbWluPXttaW5XaWR0aFB4fVxuICAgICAgICAgIG1heD17bWF4V2lkdGhQeH1cbiAgICAgICAgICBzdGVwPVwiNVwiXG4gICAgICAgICAgdmFsdWU9e3BhbmVsV2lkdGh9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlUGFuZWxXaWR0aH1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17ZHJhZ0hhbmRsZVJlZn1cbiAgICAgICAgICByb2xlPVwic2xpZGVyXCJcbiAgICAgICAgICBhcmlhLXZhbHVlbm93PXtwYW5lbFdpZHRofVxuICAgICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgICAgICBvbk1vdXNlRG93bj17b25EcmFnZ2luZ0hhbmRsZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19kcmFnLWhhbmRsZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fZHJhZy1oYW5kbGVfX2lubmVyXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgcmVmPXtzaWRlUGFuZWxSZWZ9XG4gICAgICBzdHlsZT17eyB3aWR0aDogcGFuZWxXaWR0aCB9fVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAncGRmLXJlYWRlcl9fc2lkZS1wYW5lbCcsXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3NpZGUtcGFuZWwtLWhpZGRlbic6ICFpc1Zpc2libGUgfSxcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApfVxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxuICAgICAge3JlbmRlckRyYWdIYW5kbGUoKX1cbiAgICAgIHtjbG9zZUJ1dHRvbiAmJiByZW5kZXJDbG9zZUJ1dHRvbigpfVxuICAgICAge2hlYWRlciAmJiA8aDIgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fc2lkZS1wYW5lbC10aXRsZVwiPntoZWFkZXJ9PC9oMj59XG4gICAgICB7Y29udGVudCAmJiA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtY29udGVudFwiPntjb250ZW50fTwvZGl2Pn1cbiAgICAgIHtmb290ZXIgJiYgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19zaWRlLXBhbmVsLWZvb3RlclwiPntmb290ZXJ9PC9kaXY+fVxuICAgICAge2NoaWxkcmVufVxuICAgICAge2lzT3ZlcmxheVZpc2libGUgJiYgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19zaWRlLXBhbmVsLW92ZXJsYXlcIiAvPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgUGFnZVJlbmRlckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1BhZ2VSZW5kZXJDb250ZXh0JztcbmltcG9ydCB7IFNjcm9sbENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1Njcm9sbENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0TWF4VmlzaWJsZUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9NYXhWaXNpYmxlRWxlbWVudCc7XG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL3R5cGVzL3V0aWxzJztcblxudHlwZSBQcm9wcyA9IHtcbiAgcGFnZU51bWJlcjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IFRodW1ibmFpbDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgcGFnZU51bWJlciB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGdldE9iamVjdFVSTEZvclBhZ2UgfSA9IFJlYWN0LnVzZUNvbnRleHQoUGFnZVJlbmRlckNvbnRleHQpO1xuICBjb25zdCB7IGlzUGFnZVZpc2libGUsIHNjcm9sbFRvUGFnZSwgdmlzaWJsZVBhZ2VSYXRpb3MgfSA9IFJlYWN0LnVzZUNvbnRleHQoU2Nyb2xsQ29udGV4dCk7XG4gIGNvbnN0IFttYXhWaXNpYmxlUGFnZU51bWJlciwgc2V0TWF4VmlzaWJsZVBhZ2VOdW1iZXJdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8c3RyaW5nPj4obnVsbCk7XG4gIGNvbnN0IG9iamVjdFVSTCA9IGdldE9iamVjdFVSTEZvclBhZ2UoeyBwYWdlTnVtYmVyIH0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZpc2libGVQYWdlUmF0aW9zLnNpemUgIT09IDApIHtcbiAgICAgIGNvbnN0IG1heCA9IGdldE1heFZpc2libGVFbGVtZW50KHZpc2libGVQYWdlUmF0aW9zKTtcbiAgICAgIGlmIChtYXgpIHtcbiAgICAgICAgc2V0TWF4VmlzaWJsZVBhZ2VOdW1iZXIobWF4LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Zpc2libGVQYWdlUmF0aW9zXSk7XG5cbiAgY29uc3QgaXNUaHVtYm5haWxWaXNpYmxlID1cbiAgICBtYXhWaXNpYmxlUGFnZU51bWJlciAmJlxuICAgIHBhcnNlSW50KG1heFZpc2libGVQYWdlTnVtYmVyKSA9PT0gcGFnZU51bWJlciAmJlxuICAgIGlzUGFnZVZpc2libGUoeyBwYWdlTnVtYmVyIH0pO1xuXG4gIGNvbnN0IG9uQ2xpY2sgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2Nyb2xsVG9QYWdlKHsgcGFnZU51bWJlciB9KTtcbiAgICB9LFxuICAgIFtwYWdlTnVtYmVyLCBzY3JvbGxUb1BhZ2VdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgYXJpYS1sYWJlbD17YHNjcm9sbCB0byBwYWdlICR7cGFnZU51bWJlcn1gfVxuICAgICAgaHJlZj17YCMke3BhZ2VOdW1iZXJ9YH1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICdwZGYtcmVhZGVyX190aHVtYm5haWwnLFxuICAgICAgICB7ICdwZGYtcmVhZGVyX190aHVtYm5haWwtLW5vLWltYWdlJzogIW9iamVjdFVSTCB9LFxuICAgICAgICB7ICdwZGYtcmVhZGVyX190aHVtYm5haWwtLWlzLXZpc2libGUnOiBpc1RodW1ibmFpbFZpc2libGUgfVxuICAgICAgKX1cbiAgICAgIGRhdGEtcGFnZS1udW1iZXI9e3BhZ2VOdW1iZXJ9XG4gICAgICBkYXRhLXRlc3QtaWQ9XCJ0aHVtYm5haWwtbGlua1wiPlxuICAgICAgeyEhb2JqZWN0VVJMICYmIDxpbWcgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fdGh1bWJuYWlsLWltYWdlXCIgc3JjPXtvYmplY3RVUkx9IC8+fVxuICAgIDwvYT5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFRodW1ibmFpbCB9IGZyb20gJy4vVGh1bWJuYWlsJztcblxudHlwZSBQcm9wcyA9IGFueTtcblxuZXhwb3J0IGNvbnN0IFRodW1ibmFpbExpc3Q6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICgpID0+IHtcbiAgY29uc3QgeyBudW1QYWdlcyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX190aHVtYm5haWwtbGlzdC13cmFwcGVyXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fdGh1bWJuYWlsLWxpc3RcIj5cbiAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IG51bVBhZ2VzIH0pLm1hcCgoXywgcGFnZUluZGV4KSA9PiAoXG4gICAgICAgICAgPGxpIGtleT17cGFnZUluZGV4ICsgMX0gY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fdGh1bWJuYWlsLWxpc3RfX2l0ZW1cIj5cbiAgICAgICAgICAgIDxUaHVtYm5haWwgcGFnZU51bWJlcj17cGFnZUluZGV4ICsgMX0gLz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApKX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IFBlcmNlbnRGb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuICBzdHlsZTogJ3BlcmNlbnQnLFxuICBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IDMsXG59KTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBQZXJjZW50Rm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIG9uWm9vbT86IChzY2FsZTogbnVtYmVyKSA9PiB2b2lkO1xufTtcblxuY29uc3QgTUFYX1pPT01fSU5fU0NBTEUgPSA1MDA7XG5cbmV4cG9ydCBjb25zdCBab29tSW5CdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW4sXG4gIG9uWm9vbSxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBzY2FsZSwgc2V0U2NhbGUsIHpvb21JbmNyZW1lbnRWYWx1ZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcblxuICBjb25zdCBoYW5kbGVab29tSW4gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpOiB2b2lkID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IG5ld1NjYWxlVmFsdWUgPSBzY2FsZSArIHpvb21JbmNyZW1lbnRWYWx1ZTtcbiAgICAgIGNvbnN0IHpvb21TY2FsZSA9IE51bWJlcihQZXJjZW50Rm9ybWF0dGVyLmZvcm1hdChuZXdTY2FsZVZhbHVlKS5yZXBsYWNlKCclJywgJycpKTtcblxuICAgICAgaWYgKHpvb21TY2FsZSA8PSBNQVhfWk9PTV9JTl9TQ0FMRSkge1xuICAgICAgICBpZiAob25ab29tKSB7XG4gICAgICAgICAgb25ab29tKG5ld1NjYWxlVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0U2NhbGUobmV3U2NhbGVWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2NhbGVdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e2ByZWFkZXJfX3pvb20tYnRuIHpvb20taW4gJHtjbGFzc05hbWV9YH1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZVpvb21Jbn1cbiAgICAgIHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtjaGlsZHJlbiA/IGNoaWxkcmVuIDogJysnfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBQZXJjZW50Rm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIG9uWm9vbT86IChzY2FsZTogbnVtYmVyKSA9PiB2b2lkO1xufTtcblxuY29uc3QgTUlOX1pPT01fT1VUX1NDQUxFID0gMjA7XG5cbmV4cG9ydCBjb25zdCBab29tT3V0QnV0dG9uOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudCA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW4sXG4gIG9uWm9vbSxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBzY2FsZSwgc2V0U2NhbGUsIHpvb21JbmNyZW1lbnRWYWx1ZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcblxuICBjb25zdCBoYW5kbGVab29tT3V0ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KTogdm9pZCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBuZXdTY2FsZVZhbHVlID0gc2NhbGUgLSB6b29tSW5jcmVtZW50VmFsdWU7XG4gICAgICBjb25zdCB6b29tU2NhbGUgPSBOdW1iZXIoUGVyY2VudEZvcm1hdHRlci5mb3JtYXQobmV3U2NhbGVWYWx1ZSkucmVwbGFjZSgnJScsICcnKSk7XG5cbiAgICAgIGlmICh6b29tU2NhbGUgPj0gTUlOX1pPT01fT1VUX1NDQUxFKSB7XG4gICAgICAgIGlmIChvblpvb20pIHtcbiAgICAgICAgICBvblpvb20obmV3U2NhbGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2NhbGUobmV3U2NhbGVWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2NhbGVdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e2ByZWFkZXJfX3pvb20tYnRuIHpvb20tb3V0ICR7Y2xhc3NOYW1lfWB9XG4gICAgICBvbkNsaWNrPXtoYW5kbGVab29tT3V0fVxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnLSd9XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQsIHVzZURvY3VtZW50Q29udGV4dFByb3BzIH0gZnJvbSAnLi9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgUGFnZVJlbmRlckNvbnRleHQsIHVzZVBhZ2VSZW5kZXJDb250ZXh0UHJvcHMgfSBmcm9tICcuL1BhZ2VSZW5kZXJDb250ZXh0JztcbmltcG9ydCB7IFNjcm9sbENvbnRleHQsIHVzZVNjcm9sbENvbnRleHRQcm9wcyB9IGZyb20gJy4vU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0LCB1c2VUcmFuc2Zvcm1Db250ZXh0UHJvcHMgfSBmcm9tICcuL1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgVWlDb250ZXh0LCB1c2VVaUNvbnRleHRQcm9wcyB9IGZyb20gJy4vVWlDb250ZXh0JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3RFbGVtZW50IHwgQXJyYXk8UmVhY3QuUmVhY3RFbGVtZW50Pjtcbn07XG5cbmV4cG9ydCBjb25zdCBDb250ZXh0UHJvdmlkZXI6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7IGNoaWxkcmVuIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGRvY3VtZW50UHJvcHMgPSB1c2VEb2N1bWVudENvbnRleHRQcm9wcygpO1xuICBjb25zdCB0cmFuc2Zvcm1Qcm9wcyA9IHVzZVRyYW5zZm9ybUNvbnRleHRQcm9wcygpO1xuICBjb25zdCB1aVByb3BzID0gdXNlVWlDb250ZXh0UHJvcHMoKTtcbiAgY29uc3Qgc2Nyb2xsUHJvcHMgPSB1c2VTY3JvbGxDb250ZXh0UHJvcHMoKTtcbiAgY29uc3QgcGFnZVJlbmRlclByb3BzID0gdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyh7XG4gICAgcGRmRG9jUHJveHk6IGRvY3VtZW50UHJvcHMucGRmRG9jUHJveHksXG4gICAgcGl4ZWxSYXRpbzogdHJhbnNmb3JtUHJvcHMucGl4ZWxSYXRpbyxcbiAgICBzY2FsZTogdHJhbnNmb3JtUHJvcHMuc2NhbGUsXG4gICAgdmlzaWJsZVBhZ2VSYXRpb3M6IHNjcm9sbFByb3BzLnZpc2libGVQYWdlUmF0aW9zLFxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxEb2N1bWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2RvY3VtZW50UHJvcHN9PlxuICAgICAgPFRyYW5zZm9ybUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3RyYW5zZm9ybVByb3BzfT5cbiAgICAgICAgPFVpQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dWlQcm9wc30+XG4gICAgICAgICAgPFNjcm9sbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Njcm9sbFByb3BzfT5cbiAgICAgICAgICAgIDxQYWdlUmVuZGVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17cGFnZVJlbmRlclByb3BzfT5cbiAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9QYWdlUmVuZGVyQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgICA8L1Njcm9sbENvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIDwvVWlDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgPC9UcmFuc2Zvcm1Db250ZXh0LlByb3ZpZGVyPlxuICAgIDwvRG9jdW1lbnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsIi8qXG4gKiBQREYgQ29tcG9uZW50IExpYnJhcnkgZXhwb3J0c1xuICovXG5cbmltcG9ydCAnLi9sZXNzL2luZGV4Lmxlc3MnO1xuXG5pbXBvcnQgeyBCb3VuZGluZ0JveCwgUHJvcHMgYXMgQm91bmRpbmdCb3hQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvQm91bmRpbmdCb3gnO1xuaW1wb3J0IHsgRG9jdW1lbnRXcmFwcGVyLCBQcm9wcyBhcyBEb2N1bWVudFdyYXBwZXJQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvRG9jdW1lbnRXcmFwcGVyJztcbmltcG9ydCB7IERvd25sb2FkQnV0dG9uLCBQcm9wcyBhcyBEb3dubG9hZEJ1dHRvblByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9Eb3dubG9hZEJ1dHRvbic7XG5pbXBvcnQge1xuICBIaWdobGlnaHRPdmVybGF5LFxuICBQcm9wcyBhcyBIaWdobGlnaHRPdmVybGF5UHJvcHMsXG59IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvSGlnaGxpZ2h0T3ZlcmxheSc7XG5pbXBvcnQgeyBJY29uRmxhZyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvaWNvbi9JY29uRmxhZyc7XG5pbXBvcnQgeyBBcnJvd0ZsYWcgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL21hcmtlci9BcnJvd0ZsYWcnO1xuaW1wb3J0IHsgQXJyb3dGbGFnQmFzZSwgUE9TSVRJT04sIFBvc2l0aW9uVHlwZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvbWFya2VyL0Fycm93RmxhZ0Jhc2UnO1xuaW1wb3J0IHsgT3V0bGluZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvb3V0bGluZS9PdXRsaW5lJztcbmltcG9ydCB7IE91dGxpbmVJdGVtIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9vdXRsaW5lL091dGxpbmVJdGVtJztcbmltcG9ydCB7IE92ZXJsYXksIFByb3BzIGFzIE92ZXJsYXlQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvT3ZlcmxheSc7XG5pbXBvcnQgeyBQYWdlTnVtYmVyQ29udHJvbCB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvUGFnZU51bWJlckNvbnRyb2wnO1xuaW1wb3J0IHsgUGFnZVByb3BzLCBQYWdlV3JhcHBlciwgUHJvcHMgYXMgUGFnZVdyYXBwZXJQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvUGFnZVdyYXBwZXInO1xuaW1wb3J0IHsgUHJpbnRCdXR0b24sIFByb3BzIGFzIFByaW50QnV0dG9uUHJvcHMgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL1ByaW50QnV0dG9uJztcbmltcG9ydCB7IFByb3BzIGFzIFNpZGVQYW5lbFByb3BzLCBTaWRlUGFuZWwgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL1NpZGVQYW5lbCc7XG5pbXBvcnQgeyBUaHVtYm5haWwgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL3RodW1ibmFpbHMvVGh1bWJuYWlsJztcbmltcG9ydCB7IFRodW1ibmFpbExpc3QgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL3RodW1ibmFpbHMvVGh1bWJuYWlsTGlzdCc7XG5pbXBvcnQge1xuICBCb3VuZGluZ0JveCBhcyBCb3VuZGluZ0JveFR5cGUsXG4gIERpbWVuc2lvbnMsXG4gIE9yaWdpbixcbiAgUmF3Qm91bmRpbmdCb3gsXG4gIHNjYWxlUmF3Qm91bmRpbmdCb3gsXG4gIFNpemUsXG59IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvYm91bmRpbmdCb3gnO1xuaW1wb3J0IHsgTm9kZURlc3RpbmF0aW9uLCBPdXRsaW5lTm9kZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvb3V0bGluZSc7XG5pbXBvcnQgeyBQYWdlUHJvcGVydGllcywgUGFnZVJlZmVyZW5jZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvcGFnZSc7XG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xuaW1wb3J0IHsgWm9vbUluQnV0dG9uIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9ab29tSW5CdXR0b24nO1xuaW1wb3J0IHsgWm9vbU91dEJ1dHRvbiB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvWm9vbU91dEJ1dHRvbic7XG5pbXBvcnQgeyBDb250ZXh0UHJvdmlkZXIsIFByb3BzIGFzIENvbnRleHRQcm92aWRlclByb3BzIH0gZnJvbSAnLi9zcmMvY29udGV4dC9Db250ZXh0UHJvdmlkZXInO1xuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0LCBJRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgSVBhZ2VSZW5kZXJDb250ZXh0LCBQYWdlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vc3JjL2NvbnRleHQvUGFnZVJlbmRlckNvbnRleHQnO1xuaW1wb3J0IHsgSVNjcm9sbENvbnRleHQsIFNjcm9sbENvbnRleHQgfSBmcm9tICcuL3NyYy9jb250ZXh0L1Njcm9sbENvbnRleHQnO1xuaW1wb3J0IHtcbiAgREVGQVVMVF9aT09NX1NDQUxFLFxuICBJVHJhbnNmb3JtQ29udGV4dCxcbiAgVHJhbnNmb3JtQ29udGV4dCxcbn0gZnJvbSAnLi9zcmMvY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcbmltcG9ydCB7IElVaUNvbnRleHQsIFVpQ29udGV4dCB9IGZyb20gJy4vc3JjL2NvbnRleHQvVWlDb250ZXh0JztcbmltcG9ydCB7IFBlcmNlbnRGb3JtYXR0ZXIgfSBmcm9tICcuL3NyYy91dGlscy9mb3JtYXQnO1xuaW1wb3J0IHsgUkVOREVSX1RZUEUgfSBmcm9tICcuL3NyYy91dGlscy9yZWFkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgaXNTaWRld2F5cyxcbiAgUGFnZVJvdGF0aW9uLFxuICByb3RhdGVDbG9ja3dpc2UsXG4gIHJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UsXG59IGZyb20gJy4vc3JjL3V0aWxzL3JvdGF0ZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCwgc2Nyb2xsVG9JZCwgc2Nyb2xsVG9QZGZQYWdlSW5kZXggfSBmcm9tICcuL3NyYy91dGlscy9zY3JvbGwnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUsXG4gIGNvbXB1dGVQYWdlU3R5bGUsXG4gIGdldFBhZ2VIZWlnaHQsXG4gIGdldFBhZ2VXaWR0aCxcbn0gZnJvbSAnLi9zcmMvdXRpbHMvc3R5bGUnO1xuXG5leHBvcnQgdHlwZSB7XG4gIEJvdW5kaW5nQm94UHJvcHMsXG4gIEJvdW5kaW5nQm94VHlwZSxcbiAgQ29udGV4dFByb3ZpZGVyUHJvcHMsXG4gIERpbWVuc2lvbnMsXG4gIERvY3VtZW50V3JhcHBlclByb3BzLFxuICBEb3dubG9hZEJ1dHRvblByb3BzLFxuICBIaWdobGlnaHRPdmVybGF5UHJvcHMsXG4gIElEb2N1bWVudENvbnRleHQsXG4gIElQYWdlUmVuZGVyQ29udGV4dCxcbiAgSVNjcm9sbENvbnRleHQsXG4gIElUcmFuc2Zvcm1Db250ZXh0LFxuICBJVWlDb250ZXh0LFxuICBOb2RlRGVzdGluYXRpb24sXG4gIE51bGxhYmxlLFxuICBPcmlnaW4sXG4gIE91dGxpbmVOb2RlLFxuICBPdmVybGF5UHJvcHMsXG4gIFBhZ2VQcm9wZXJ0aWVzLFxuICBQYWdlUHJvcHMsXG4gIFBhZ2VSZWZlcmVuY2UsXG4gIFBhZ2VSb3RhdGlvbixcbiAgUGFnZVdyYXBwZXJQcm9wcyxcbiAgUG9zaXRpb25UeXBlLFxuICBQcmludEJ1dHRvblByb3BzLFxuICBSYXdCb3VuZGluZ0JveCxcbiAgU2lkZVBhbmVsUHJvcHMsXG4gIFNpemUsXG59O1xuXG5leHBvcnQge1xuICBBcnJvd0ZsYWcsXG4gIEFycm93RmxhZ0Jhc2UsXG4gIEJvdW5kaW5nQm94LFxuICBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSxcbiAgY29tcHV0ZVBhZ2VTdHlsZSxcbiAgQ29udGV4dFByb3ZpZGVyLFxuICBERUZBVUxUX1pPT01fU0NBTEUsXG4gIERvY3VtZW50Q29udGV4dCxcbiAgRG9jdW1lbnRXcmFwcGVyLFxuICBEb3dubG9hZEJ1dHRvbixcbiAgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgsXG4gIGdldFBhZ2VIZWlnaHQsXG4gIGdldFBhZ2VXaWR0aCxcbiAgSGlnaGxpZ2h0T3ZlcmxheSxcbiAgSWNvbkZsYWcsXG4gIGlzU2lkZXdheXMsXG4gIE91dGxpbmUsXG4gIE91dGxpbmVJdGVtLFxuICBPdmVybGF5LFxuICBQYWdlTnVtYmVyQ29udHJvbCxcbiAgUGFnZVJlbmRlckNvbnRleHQsXG4gIFBhZ2VXcmFwcGVyLFxuICBQZXJjZW50Rm9ybWF0dGVyLFxuICBQT1NJVElPTixcbiAgUHJpbnRCdXR0b24sXG4gIFJFTkRFUl9UWVBFLFxuICByb3RhdGVDbG9ja3dpc2UsXG4gIHJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UsXG4gIHNjYWxlUmF3Qm91bmRpbmdCb3gsXG4gIFNjcm9sbENvbnRleHQsXG4gIHNjcm9sbFRvSWQsXG4gIHNjcm9sbFRvUGRmUGFnZUluZGV4LFxuICBTaWRlUGFuZWwsXG4gIFRodW1ibmFpbCxcbiAgVGh1bWJuYWlsTGlzdCxcbiAgVHJhbnNmb3JtQ29udGV4dCxcbiAgVWlDb250ZXh0LFxuICBab29tSW5CdXR0b24sXG4gIFpvb21PdXRCdXR0b24sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIEJvdW5kaW5nQm94LFxuICBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSxcbiAgY29tcHV0ZVBhZ2VTdHlsZSxcbiAgQ29udGV4dFByb3ZpZGVyLFxuICBERUZBVUxUX1pPT01fU0NBTEUsXG4gIERvY3VtZW50Q29udGV4dCxcbiAgRG9jdW1lbnRXcmFwcGVyLFxuICBEb3dubG9hZEJ1dHRvbixcbiAgQXJyb3dGbGFnLFxuICBBcnJvd0ZsYWdCYXNlLFxuICBQcmludEJ1dHRvbixcbiAgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgsXG4gIGdldFBhZ2VIZWlnaHQsXG4gIGdldFBhZ2VXaWR0aCxcbiAgSGlnaGxpZ2h0T3ZlcmxheSxcbiAgSWNvbkZsYWcsXG4gIGlzU2lkZXdheXMsXG4gIE91dGxpbmUsXG4gIE91dGxpbmVJdGVtLFxuICBPdmVybGF5LFxuICBQYWdlTnVtYmVyQ29udHJvbCxcbiAgUGFnZVJlbmRlckNvbnRleHQsXG4gIFBhZ2VSb3RhdGlvbixcbiAgUGFnZVdyYXBwZXIsXG4gIFBPU0lUSU9OLFxuICBTaWRlUGFuZWwsXG4gIFBlcmNlbnRGb3JtYXR0ZXIsXG4gIFJFTkRFUl9UWVBFLFxuICByb3RhdGVDbG9ja3dpc2UsXG4gIHJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UsXG4gIHNjYWxlUmF3Qm91bmRpbmdCb3gsXG4gIHNjcm9sbFRvSWQsXG4gIHNjcm9sbFRvUGRmUGFnZUluZGV4LFxuICBUaHVtYm5haWwsXG4gIFRodW1ibmFpbExpc3QsXG4gIFNjcm9sbENvbnRleHQsXG4gIFRyYW5zZm9ybUNvbnRleHQsXG4gIFVpQ29udGV4dCxcbiAgWm9vbUluQnV0dG9uLFxuICBab29tT3V0QnV0dG9uLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///224\n')},323:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__323__},888:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__888__}},__webpack_module_cache__={};function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](F,F.exports,__webpack_require__),F.exports}__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U);var __webpack_exports__=__webpack_require__(224);return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));